(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function SS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var im={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function wS(){if(sv)return Ul;sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=t,Ul.jsx=n,Ul.jsxs=n,Ul}var av;function RS(){return av||(av=1,im.exports=wS()),im.exports}var F=RS(),rm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function CS(){if(ov)return Rt;ov=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function L(M,nt,pt){this.props=M,this.context=nt,this.refs=G,this.updater=pt||O}L.prototype.isReactComponent={},L.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=L.prototype;function Q(M,nt,pt){this.props=M,this.context=nt,this.refs=G,this.updater=pt||O}var K=Q.prototype=new $;K.constructor=Q,k(K,L.prototype),K.isPureReactComponent=!0;var it=Array.isArray,st={H:null,A:null,T:null,S:null},mt=Object.prototype.hasOwnProperty;function N(M,nt,pt,ot,lt,Ct){return pt=Ct.ref,{$$typeof:r,type:M,key:nt,ref:pt!==void 0?pt:null,props:Ct}}function w(M,nt){return N(M.type,nt,void 0,void 0,void 0,M.props)}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function I(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pt){return nt[pt]})}var x=/\/+/g;function U(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):nt.toString(36)}function D(){}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,nt,pt,ot,lt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var wt=!1;if(M===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(M.$$typeof){case r:case t:wt=!0;break;case E:return wt=M._init,ne(wt(M._payload),nt,pt,ot,lt)}}if(wt)return lt=lt(M),wt=ot===""?"."+U(M,0):ot,it(lt)?(pt="",wt!=null&&(pt=wt.replace(x,"$&/")+"/"),ne(lt,nt,pt,"",function(oe){return oe})):lt!=null&&(A(lt)&&(lt=w(lt,pt+(lt.key==null||M&&M.key===lt.key?"":(""+lt.key).replace(x,"$&/")+"/")+wt)),nt.push(lt)),1;wt=0;var ge=ot===""?".":ot+":";if(it(M))for(var zt=0;zt<M.length;zt++)ot=M[zt],Ct=ge+U(ot,zt),wt+=ne(ot,nt,pt,Ct,lt);else if(zt=R(M),typeof zt=="function")for(M=zt.call(M),zt=0;!(ot=M.next()).done;)ot=ot.value,Ct=ge+U(ot,zt++),wt+=ne(ot,nt,pt,Ct,lt);else if(Ct==="object"){if(typeof M.then=="function")return ne(fe(M),nt,pt,ot,lt);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function at(M,nt,pt){if(M==null)return M;var ot=[],lt=0;return ne(M,ot,"","",function(Ct){return nt.call(pt,Ct,lt++)}),ot}function _t(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(pt){(M._status===0||M._status===-1)&&(M._status=1,M._result=pt)},function(pt){(M._status===0||M._status===-1)&&(M._status=2,M._result=pt)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var ft=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ft(){}return Rt.Children={map:at,forEach:function(M,nt,pt){at(M,function(){nt.apply(this,arguments)},pt)},count:function(M){var nt=0;return at(M,function(){nt++}),nt},toArray:function(M){return at(M,function(nt){return nt})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=L,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=Q,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,nt,pt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=k({},M.props),lt=M.key,Ct=void 0;if(nt!=null)for(wt in nt.ref!==void 0&&(Ct=void 0),nt.key!==void 0&&(lt=""+nt.key),nt)!mt.call(nt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&nt.ref===void 0||(ot[wt]=nt[wt]);var wt=arguments.length-2;if(wt===1)ot.children=pt;else if(1<wt){for(var ge=Array(wt),zt=0;zt<wt;zt++)ge[zt]=arguments[zt+2];ot.children=ge}return N(M.type,lt,void 0,void 0,Ct,ot)},Rt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,nt,pt){var ot,lt={},Ct=null;if(nt!=null)for(ot in nt.key!==void 0&&(Ct=""+nt.key),nt)mt.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(lt[ot]=nt[ot]);var wt=arguments.length-2;if(wt===1)lt.children=pt;else if(1<wt){for(var ge=Array(wt),zt=0;zt<wt;zt++)ge[zt]=arguments[zt+2];lt.children=ge}if(M&&M.defaultProps)for(ot in wt=M.defaultProps,wt)lt[ot]===void 0&&(lt[ot]=wt[ot]);return N(M,Ct,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:m,render:M}},Rt.isValidElement=A,Rt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_t}},Rt.memo=function(M,nt){return{$$typeof:g,type:M,compare:nt===void 0?null:nt}},Rt.startTransition=function(M){var nt=st.T,pt={};st.T=pt;try{var ot=M(),lt=st.S;lt!==null&&lt(pt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ft,ft)}catch(Ct){ft(Ct)}finally{st.T=nt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(M){return st.H.use(M)},Rt.useActionState=function(M,nt,pt){return st.H.useActionState(M,nt,pt)},Rt.useCallback=function(M,nt){return st.H.useCallback(M,nt)},Rt.useContext=function(M){return st.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,nt){return st.H.useDeferredValue(M,nt)},Rt.useEffect=function(M,nt){return st.H.useEffect(M,nt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(M,nt,pt){return st.H.useImperativeHandle(M,nt,pt)},Rt.useInsertionEffect=function(M,nt){return st.H.useInsertionEffect(M,nt)},Rt.useLayoutEffect=function(M,nt){return st.H.useLayoutEffect(M,nt)},Rt.useMemo=function(M,nt){return st.H.useMemo(M,nt)},Rt.useOptimistic=function(M,nt){return st.H.useOptimistic(M,nt)},Rt.useReducer=function(M,nt,pt){return st.H.useReducer(M,nt,pt)},Rt.useRef=function(M){return st.H.useRef(M)},Rt.useState=function(M){return st.H.useState(M)},Rt.useSyncExternalStore=function(M,nt,pt){return st.H.useSyncExternalStore(M,nt,pt)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.0.0",Rt}var lv;function Jm(){return lv||(lv=1,rm.exports=CS()),rm.exports}var B=Jm();const Jt=SS(B);var sm={exports:{}},Bl={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function IS(){return uv||(uv=1,function(r){function t(at,_t){var ft=at.length;at.push(_t);t:for(;0<ft;){var Ft=ft-1>>>1,M=at[Ft];if(0<o(M,_t))at[Ft]=_t,at[ft]=M,ft=Ft;else break t}}function n(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var _t=at[0],ft=at.pop();if(ft!==_t){at[0]=ft;t:for(var Ft=0,M=at.length,nt=M>>>1;Ft<nt;){var pt=2*(Ft+1)-1,ot=at[pt],lt=pt+1,Ct=at[lt];if(0>o(ot,ft))lt<M&&0>o(Ct,ot)?(at[Ft]=Ct,at[lt]=ft,Ft=lt):(at[Ft]=ot,at[pt]=ft,Ft=pt);else if(lt<M&&0>o(Ct,ft))at[Ft]=Ct,at[lt]=ft,Ft=lt;else break t}}return _t}function o(at,_t){var ft=at.sortIndex-_t.sortIndex;return ft!==0?ft:at.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,R=3,O=!1,k=!1,G=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function K(at){for(var _t=n(g);_t!==null;){if(_t.callback===null)s(g);else if(_t.startTime<=at)s(g),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=n(g)}}function it(at){if(G=!1,K(at),!k)if(n(p)!==null)k=!0,fe();else{var _t=n(g);_t!==null&&ne(it,_t.startTime-at)}}var st=!1,mt=-1,N=5,w=-1;function A(){return!(r.unstable_now()-w<N)}function I(){if(st){var at=r.unstable_now();w=at;var _t=!0;try{t:{k=!1,G&&(G=!1,$(mt),mt=-1),O=!0;var ft=R;try{e:{for(K(at),S=n(p);S!==null&&!(S.expirationTime>at&&A());){var Ft=S.callback;if(typeof Ft=="function"){S.callback=null,R=S.priorityLevel;var M=Ft(S.expirationTime<=at);if(at=r.unstable_now(),typeof M=="function"){S.callback=M,K(at),_t=!0;break e}S===n(p)&&s(p),K(at)}else s(p);S=n(p)}if(S!==null)_t=!0;else{var nt=n(g);nt!==null&&ne(it,nt.startTime-at),_t=!1}}break t}finally{S=null,R=ft,O=!1}_t=void 0}}finally{_t?x():st=!1}}}var x;if(typeof Q=="function")x=function(){Q(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=I,x=function(){D.postMessage(null)}}else x=function(){L(I,0)};function fe(){st||(st=!0,x())}function ne(at,_t){mt=L(function(){at(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,fe())},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(at){switch(R){case 1:case 2:case 3:var _t=3;break;default:_t=R}var ft=R;R=_t;try{return at()}finally{R=ft}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(at,_t){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ft=R;R=at;try{return _t()}finally{R=ft}},r.unstable_scheduleCallback=function(at,_t,ft){var Ft=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ft+ft:Ft):ft=Ft,at){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ft+M,at={id:E++,callback:_t,priorityLevel:at,startTime:ft,expirationTime:M,sortIndex:-1},ft>Ft?(at.sortIndex=ft,t(g,at),n(p)===null&&at===n(g)&&(G?($(mt),mt=-1):G=!0,ne(it,ft-Ft))):(at.sortIndex=M,t(p,at),k||O||(k=!0,fe())),at},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(at){var _t=R;return function(){var ft=R;R=_t;try{return at.apply(this,arguments)}finally{R=ft}}}}(om)),om}var cv;function DS(){return cv||(cv=1,am.exports=IS()),am.exports}var lm={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function NS(){if(hv)return Ke;hv=1;var r=Jm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ke.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var fv;function OS(){if(fv)return lm.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lm.exports=NS(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function xS(){if(dv)return Bl;dv=1;var r=DS(),t=Jm(),n=OS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function mt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case k:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case Q:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,x,U;function D(e){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+U}var fe=!1;function ne(e,i){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var q=X}Reflect.construct(e,[],et)}else{try{et.call()}catch(X){q=X}e.call(et.prototype)}}else{try{throw Error()}catch(X){q=X}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&q&&typeof X.stack=="string")return[X.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var W=`
`+C[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?D(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function _t(e){try{var i="";do i+=at(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ft(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function M(e){if(ft(e)!==e)throw Error(s(188))}function nt(e){var i=e.alternate;if(!i){if(i=ft(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),e;if(d===l)return M(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function pt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=pt(e),i!==null)return i;e=e.sibling}return null}var ot=Array.isArray,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},wt=[],ge=-1;function zt(e){return{current:e}}function oe(e){0>ge||(e.current=wt[ge],wt[ge]=null,ge--)}function Kt(e,i){ge++,wt[ge]=e.current,e.current=i}var Ze=zt(null),bi=zt(null),En=zt(null),hr=zt(null);function fr(e,i){switch(Kt(En,i),Kt(bi,e),Kt(Ze,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?V_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=V_(e),i=P_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(Ze),Kt(Ze,i)}function Ai(){oe(Ze),oe(bi),oe(En)}function Mo(e){e.memoizedState!==null&&Kt(hr,e);var i=Ze.current,a=P_(i,e.type);i!==a&&(Kt(bi,e),Kt(Ze,a))}function fa(e){bi.current===e&&(oe(Ze),oe(bi)),hr.current===e&&(oe(hr),Ml._currentValue=Ct)}var da=Object.prototype.hasOwnProperty,ds=r.unstable_scheduleCallback,ma=r.unstable_cancelCallback,sf=r.unstable_shouldYield,Vo=r.unstable_requestPaint,an=r.unstable_now,Du=r.unstable_getCurrentPriorityLevel,be=r.unstable_ImmediatePriority,Ne=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,Nu=r.unstable_LowPriority,Po=r.unstable_IdlePriority,af=r.log,ms=r.unstable_setDisableYieldValue,dr=null,Ge=null;function ko(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(dr,e,void 0,(e.current.flags&128)===128)}catch{}}function Wn(e){if(typeof af=="function"&&ms(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(dr,e)}catch{}}var Je=Math.clz32?Math.clz32:xu,Lo=Math.log,Ou=Math.LN2;function xu(e){return e>>>=0,e===0?32:31-(Lo(e)/Ou|0)|0}var Zn=128,mr=4194304;function jn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tn(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=jn(a):(d&=T,d!==0?l=jn(d):e||(v=T&~v,v!==0&&(l=jn(v))))):(T=a&~h,T!==0?l=jn(T):d!==0?l=jn(d):e||(v=a&~v,v!==0&&(l=jn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function pr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function pa(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var e=Zn;return Zn<<=1,!(Zn&4194176)&&(Zn=128),e}function gr(){var e=mr;return mr<<=1,!(mr&62914560)&&(mr=4194304),e}function ga(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function de(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Je(a),et=1<<W;T[W]=0,C[W]=-1;var q=P[W];if(q!==null)for(P[W]=null,W=0;W<q.length;W++){var X=q[W];X!==null&&(X.lane&=-536870913)}a&=~et}l!==0&&yr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function yr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function _r(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Je(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Pu(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function vr(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var Jn=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Jn,Ae="__reactProps$"+Jn,wi="__reactContainer$"+Jn,ps="__reactEvents$"+Jn,ya="__reactListeners$"+Jn,ti="__reactHandles$"+Jn,Bo="__reactResources$"+Jn,Er="__reactMarker$"+Jn;function gs(e){delete e[Oe],delete e[Ae],delete e[ps],delete e[ya],delete e[ti]}function Hn(e){var i=e[Oe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[wi]||a[Oe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=U_(e);e!==null;){if(a=e[Oe])return a;e=U_(e)}return i}e=a,a=e.parentNode}return null}function Ri(e){if(e=e[Oe]||e[wi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Tr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function br(e){var i=e[Bo];return i||(i=e[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(e){e[Er]=!0}var zo=new Set,_a={};function hn(e,i){on(e,i),on(e+"Capture",i)}function on(e,i){for(_a[e]=i,e=0;e<i.length;e++)zo.add(i[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Ho={};function ku(e){return da.call(Ho,e)?!0:da.call(jo,e)?!1:of.test(e)?Ho[e]=!0:(jo[e]=!0,!1)}function Ar(e,i,a){if(ku(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Sr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function bn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lf(e){var i=Lu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ys(e){e._valueTracker||(e._valueTracker=lf(e))}function qo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Lu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ci=/[\n"\\]/g;function le(e){return e.replace(Ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wr(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ea(e,v,tn(i)):a!=null?Ea(e,v,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function _s(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ea(e,i,a){i==="number"&&va(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function vs(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function Rr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var uf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||uf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(e,d,i[d])}function Go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return hf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Sn=null;function Ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Di=null;function Ni(e){var i=Ri(e);if(i&&(e=i.stateNode)){var a=e[Ae]||null;t:switch(e=i.stateNode,i.type){case"input":if(wr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+le(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ae]||null;if(!h)throw Error(s(90));wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&qo(l)}break t;case"textarea":vs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&jt(e,!!a.multiple,i,!1)}}}var $o=!1;function Bu(e,i,a){if($o)return e(i,a);$o=!0;try{var l=e(i);return l}finally{if($o=!1,(Ii!==null||Di!==null)&&(Nc(),Ii&&(i=Ii,e=Di,Di=Ii=null,Ni(i),e)))for(i=0;i<e.length;i++)Ni(e[i])}}function Es(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!1;if(fn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{wn=!1}var ni=null,Cr=null,Oi=null;function Ko(){if(Oi)return Oi;var e,i=Cr,a=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oi=h.slice(e,1<l?1-l:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Qo(){return!1}function xe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Qo,this.isPropagationStopped=Qo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=xe(Gt),bs=I({},Gt,{view:0,detail:0}),zu=xe(bs),Aa,Sa,si,As=I({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Aa=e.screenX-si.screenX,Sa=e.screenY-si.screenY):Sa=Aa=0,si=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),Rn=xe(As),ju=I({},As,{dataTransfer:0}),ff=xe(ju),Ss=I({},bs,{relatedTarget:0}),wa=xe(Ss),Yo=I({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=xe(Yo),Hu=I({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ca=xe(Hu),df=I({},Gt,{data:0}),Xo=xe(df),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Fu[e])?!!i[e]:!1}function Rs(){return Wo}var Gu=I({},bs,{key:function(e){if(e.key){var i=ws[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ia=xe(Gu),$u=I({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=xe($u),xi=I({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Ku=xe(xi),Qu=I({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=xe(Qu),Xu=I({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=xe(Xu),en=I({},Gt,{newState:0,oldState:0}),Wu=xe(en),Zu=[9,13,27,32],ai=fn&&"CompositionEvent"in window,c=null;fn&&"documentMode"in document&&(c=document.documentMode);var y=fn&&"TextEvent"in window&&!c,_=fn&&(!ai||c&&8<c&&11>=c),b=" ",j=!1;function Y(e,i){switch(e){case"keyup":return Zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Se(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return e=i.data,e===b&&j?null:e;default:return null}}function Lt(e,i){if(kt)return e==="compositionend"||!ai&&Y(e,i)?(e=Ko(),Oi=Cr=ni=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Me[e.type]:i==="textarea"}function Mi(e,i,a,l){Ii?Di?Di.push(l):Di=[l]:Ii=l,i=Pc(i,"onChange"),0<i.length&&(a=new ba("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,oi=null;function Jo(e){D_(e,0)}function Ju(e){var i=Tr(e);if(qo(i))return e}function rg(e,i){if(e==="change")return i}var sg=!1;if(fn){var mf;if(fn){var pf="oninput"in document;if(!pf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),pf=typeof ag.oninput=="function"}mf=pf}else mf=!1;sg=mf&&(!document.documentMode||9<document.documentMode)}function og(){Ue&&(Ue.detachEvent("onpropertychange",lg),oi=Ue=null)}function lg(e){if(e.propertyName==="value"&&Ju(oi)){var i=[];Mi(i,oi,e,Ta(e)),Bu(Jo,i)}}function tA(e,i,a){e==="focusin"?(og(),Ue=i,oi=a,Ue.attachEvent("onpropertychange",lg)):e==="focusout"&&og()}function eA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(oi)}function nA(e,i){if(e==="click")return Ju(i)}function iA(e,i){if(e==="input"||e==="change")return Ju(i)}function rA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:rA;function tl(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!da.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,i){var a=ug(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ug(a)}}function hg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?hg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function fg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=va(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=va(e.document)}return i}function gf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function sA(e,i){var a=fg(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&hg(i.ownerDocument.documentElement,i)){if(l!==null&&gf(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=cg(i,d);var v=cg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var aA=fn&&"documentMode"in document&&11>=document.documentMode,Na=null,yf=null,el=null,_f=!1;function dg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Na==null||Na!==va(l)||(l=Na,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=Pc(yf,"onSelect"),0<l.length&&(i=new ba("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Na)))}function Cs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Oa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},vf={},mg={};fn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Is(e){if(vf[e])return vf[e];if(!Oa[e])return e;var i=Oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return vf[e]=i[a];return e}var pg=Is("animationend"),gg=Is("animationiteration"),yg=Is("animationstart"),oA=Is("transitionrun"),lA=Is("transitionstart"),uA=Is("transitioncancel"),_g=Is("transitionend"),vg=new Map,Eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(e,i){vg.set(e,i),hn(i,[e])}var Cn=[],xa=0,Ef=0;function tc(){for(var e=xa,i=Ef=xa=0;i<e;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Tg(a,h,d)}}function ec(e,i,a,l){Cn[xa++]=e,Cn[xa++]=i,Cn[xa++]=a,Cn[xa++]=l,Ef|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Tf(e,i,a,l){return ec(e,i,a,l),nc(e)}function Ir(e,i){return ec(e,null,null,i),nc(e)}function Tg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Je(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function nc(e){if(50<Rl)throw Rl=0,Cd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ma={},bg=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=bg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:_t(i)},bg.set(e,i),i)}return{value:e,source:i,stack:_t(i)}}var Va=[],Pa=0,ic=null,rc=0,Dn=[],Nn=0,Ds=null,Vi=1,Pi="";function Ns(e,i){Va[Pa++]=rc,Va[Pa++]=ic,ic=e,rc=i}function Ag(e,i,a){Dn[Nn++]=Vi,Dn[Nn++]=Pi,Dn[Nn++]=Ds,Ds=e;var l=Vi;e=Pi;var h=32-Je(l)-1;l&=~(1<<h),a+=1;var d=32-Je(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-Je(i)+h|a<<h|l,Pi=d+e}else Vi=1<<d|a<<h|l,Pi=e}function bf(e){e.return!==null&&(Ns(e,1),Ag(e,1,0))}function Af(e){for(;e===ic;)ic=Va[--Pa],Va[Pa]=null,rc=Va[--Pa],Va[Pa]=null;for(;e===Ds;)Ds=Dn[--Nn],Dn[Nn]=null,Pi=Dn[--Nn],Dn[Nn]=null,Vi=Dn[--Nn],Dn[Nn]=null}var nn=null,Be=null,Ht=!1,Fn=null,li=!1,Sf=Error(s(519));function Os(e){var i=Error(s(418,""));throw rl(In(i,e)),Sf}function Sg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Oe]=e,i[Ae]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)Mt(Il[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Rr(i,l.value,l.defaultValue,l.children),ys(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||M_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=kc),i=!0):i=!1,i||Os(e)}function wg(e){for(nn=e.return;nn;)switch(nn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:nn=nn.return}}function nl(e){if(e!==nn)return!1;if(!Ht)return wg(e),Ht=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Be&&Os(e),wg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Be=$n(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Be=null}}else Be=nn?$n(e.stateNode.nextSibling):null;return!0}function il(){Be=nn=null,Ht=!1}function rl(e){Fn===null?Fn=[e]:Fn.push(e)}var sl=Error(s(460)),Rg=Error(s(474)),wf={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sc(){}function Ig(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(sc,sc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===sl?Error(s(483)):e;default:if(typeof i.status=="string")i.then(sc,sc);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===sl?Error(s(483)):e}throw al=i,sl}}var al=null;function Dg(){if(al===null)throw Error(s(459));var e=al;return al=null,e}var ka=null,ol=0;function ac(e){var i=ol;return ol+=1,ka===null&&(ka=[]),Ig(ka,e,i)}function ll(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function oc(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(z,V){if(e){var H=z.deletions;H===null?(z.deletions=[V],z.flags|=16):H.push(V)}}function a(z,V){if(!e)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=zr(z,V),z.index=0,z.sibling=null,z}function d(z,V,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<V?(z.flags|=33554434,V):H):(z.flags|=33554434,V)):(z.flags|=1048576,V)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,V,H,Z){return V===null||V.tag!==6?(V=vd(H,z.mode,Z),V.return=z,V):(V=h(V,H),V.return=z,V)}function C(z,V,H,Z){var ht=H.type;return ht===p?W(z,V,H.props.children,Z,H.key):V!==null&&(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Q&&Ng(ht)===V.type)?(V=h(V,H.props),ll(V,H),V.return=z,V):(V=wc(H.type,H.key,H.props,null,z.mode,Z),ll(V,H),V.return=z,V)}function P(z,V,H,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Ed(H,z.mode,Z),V.return=z,V):(V=h(V,H.children||[]),V.return=z,V)}function W(z,V,H,Z,ht){return V===null||V.tag!==7?(V=js(H,z.mode,Z,ht),V.return=z,V):(V=h(V,H),V.return=z,V)}function et(z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vd(""+V,z.mode,H),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return H=wc(V.type,V.key,V.props,null,z.mode,H),ll(H,V),H.return=z,H;case m:return V=Ed(V,z.mode,H),V.return=z,V;case Q:var Z=V._init;return V=Z(V._payload),et(z,V,H)}if(ot(V)||mt(V))return V=js(V,z.mode,H,null),V.return=z,V;if(typeof V.then=="function")return et(z,ac(V),H);if(V.$$typeof===O)return et(z,bc(z,V),H);oc(z,V)}return null}function q(z,V,H,Z){var ht=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ht!==null?null:T(z,V,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ht?C(z,V,H,Z):null;case m:return H.key===ht?P(z,V,H,Z):null;case Q:return ht=H._init,H=ht(H._payload),q(z,V,H,Z)}if(ot(H)||mt(H))return ht!==null?null:W(z,V,H,Z,null);if(typeof H.then=="function")return q(z,V,ac(H),Z);if(H.$$typeof===O)return q(z,V,bc(z,H),Z);oc(z,H)}return null}function X(z,V,H,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(V,z,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?H:Z.key)||null,C(V,z,Z,ht);case m:return z=z.get(Z.key===null?H:Z.key)||null,P(V,z,Z,ht);case Q:var Dt=Z._init;return Z=Dt(Z._payload),X(z,V,H,Z,ht)}if(ot(Z)||mt(Z))return z=z.get(H)||null,W(V,z,Z,ht,null);if(typeof Z.then=="function")return X(z,V,H,ac(Z),ht);if(Z.$$typeof===O)return X(z,V,H,bc(V,Z),ht);oc(V,Z)}return null}function dt(z,V,H,Z){for(var ht=null,Dt=null,gt=V,vt=V=0,ke=null;gt!==null&&vt<H.length;vt++){gt.index>vt?(ke=gt,gt=null):ke=gt.sibling;var qt=q(z,gt,H[vt],Z);if(qt===null){gt===null&&(gt=ke);break}e&&gt&&qt.alternate===null&&i(z,gt),V=d(qt,V,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt,gt=ke}if(vt===H.length)return a(z,gt),Ht&&Ns(z,vt),ht;if(gt===null){for(;vt<H.length;vt++)gt=et(z,H[vt],Z),gt!==null&&(V=d(gt,V,vt),Dt===null?ht=gt:Dt.sibling=gt,Dt=gt);return Ht&&Ns(z,vt),ht}for(gt=l(gt);vt<H.length;vt++)ke=X(gt,z,vt,H[vt],Z),ke!==null&&(e&&ke.alternate!==null&&gt.delete(ke.key===null?vt:ke.key),V=d(ke,V,vt),Dt===null?ht=ke:Dt.sibling=ke,Dt=ke);return e&&gt.forEach(function(Kr){return i(z,Kr)}),Ht&&Ns(z,vt),ht}function At(z,V,H,Z){if(H==null)throw Error(s(151));for(var ht=null,Dt=null,gt=V,vt=V=0,ke=null,qt=H.next();gt!==null&&!qt.done;vt++,qt=H.next()){gt.index>vt?(ke=gt,gt=null):ke=gt.sibling;var Kr=q(z,gt,qt.value,Z);if(Kr===null){gt===null&&(gt=ke);break}e&&gt&&Kr.alternate===null&&i(z,gt),V=d(Kr,V,vt),Dt===null?ht=Kr:Dt.sibling=Kr,Dt=Kr,gt=ke}if(qt.done)return a(z,gt),Ht&&Ns(z,vt),ht;if(gt===null){for(;!qt.done;vt++,qt=H.next())qt=et(z,qt.value,Z),qt!==null&&(V=d(qt,V,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt);return Ht&&Ns(z,vt),ht}for(gt=l(gt);!qt.done;vt++,qt=H.next())qt=X(gt,z,vt,qt.value,Z),qt!==null&&(e&&qt.alternate!==null&&gt.delete(qt.key===null?vt:qt.key),V=d(qt,V,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt);return e&&gt.forEach(function(AS){return i(z,AS)}),Ht&&Ns(z,vt),ht}function he(z,V,H,Z){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var ht=H.key;V!==null;){if(V.key===ht){if(ht=H.type,ht===p){if(V.tag===7){a(z,V.sibling),Z=h(V,H.props.children),Z.return=z,z=Z;break t}}else if(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Q&&Ng(ht)===V.type){a(z,V.sibling),Z=h(V,H.props),ll(Z,H),Z.return=z,z=Z;break t}a(z,V);break}else i(z,V);V=V.sibling}H.type===p?(Z=js(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=wc(H.type,H.key,H.props,null,z.mode,Z),ll(Z,H),Z.return=z,z=Z)}return v(z);case m:t:{for(ht=H.key;V!==null;){if(V.key===ht)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(z,V.sibling),Z=h(V,H.children||[]),Z.return=z,z=Z;break t}else{a(z,V);break}else i(z,V);V=V.sibling}Z=Ed(H,z.mode,Z),Z.return=z,z=Z}return v(z);case Q:return ht=H._init,H=ht(H._payload),he(z,V,H,Z)}if(ot(H))return dt(z,V,H,Z);if(mt(H)){if(ht=mt(H),typeof ht!="function")throw Error(s(150));return H=ht.call(H),At(z,V,H,Z)}if(typeof H.then=="function")return he(z,V,ac(H),Z);if(H.$$typeof===O)return he(z,V,bc(z,H),Z);oc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(z,V.sibling),Z=h(V,H),Z.return=z,z=Z):(a(z,V),Z=vd(H,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,V)}return function(z,V,H,Z){try{ol=0;var ht=he(z,V,H,Z);return ka=null,ht}catch(gt){if(gt===sl)throw gt;var Dt=Vn(29,gt,null,z.mode);return Dt.lanes=Z,Dt.return=z,Dt}finally{}}}var xs=Og(!0),xg=Og(!1),La=zt(null),lc=zt(0);function Mg(e,i){e=$i,Kt(lc,e),Kt(La,i),$i=e|i.baseLanes}function Rf(){Kt(lc,$i),Kt(La,La.current)}function Cf(){$i=lc.current,oe(La),oe(lc)}var On=zt(null),ui=null;function Dr(e){var i=e.alternate;Kt(Re,Re.current&1),Kt(On,e),ui===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(ui=e)}function Vg(e){if(e.tag===22){if(Kt(Re,Re.current),Kt(On,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else Nr()}function Nr(){Kt(Re,Re.current),Kt(On,On.current)}function ki(e){oe(On),ui===e&&(ui=null),oe(Re)}var Re=zt(0);function uc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},hA=r.unstable_scheduleCallback,fA=r.unstable_NormalPriority,Ce={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new cA,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&hA(fA,function(){e.controller.abort()})}var cl=null,Df=0,Ua=0,Ba=null;function dA(e,i){if(cl===null){var a=cl=[];Df=0,Ua=Pd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Pg,Pg),i}function Pg(){if(--Df===0&&cl!==null){Ba!==null&&(Ba.status="fulfilled");var e=cl;cl=null,Ua=0,Ba=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=A.S;A.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dA(e,i),kg!==null&&kg(e,i)};var Ms=zt(null);function Nf(){var e=Ms.current;return e!==null?e:Wt.pooledCache}function cc(e,i){i===null?Kt(Ms,Ms.current):Kt(Ms,i.pool)}function Lg(){var e=Nf();return e===null?null:{parent:Ce._currentValue,pool:e}}var Or=0,It=null,Qt=null,ye=null,hc=!1,za=!1,Vs=!1,fc=0,hl=0,ja=null,pA=0;function me(){throw Error(s(321))}function Of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function xf(e,i,a,l,h,d){return Or=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=e===null||e.memoizedState===null?Ps:xr,Vs=!1,d=a(l,h),Vs=!1,za&&(d=Bg(i,a,l,h)),Ug(e),d}function Ug(e){A.H=ci;var i=Qt!==null&&Qt.next!==null;if(Or=0,ye=Qt=It=null,hc=!1,hl=0,ja=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&Tc(e)&&(Ve=!0))}function Bg(e,i,a,l){It=e;var h=0;do{if(za&&(ja=null),hl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,ye=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=ks,d=i(a,l)}while(za);return d}function gA(){var e=A.H,i=e.useState()[0];return i=typeof i.then=="function"?fl(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(It.flags|=1024),i}function Mf(){var e=fc!==0;return fc=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Pf(e){if(hc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}hc=!1}Or=0,ye=Qt=It=null,za=!1,hl=fc=0,ja=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?It.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Qt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ye===null?It.memoizedState:ye.next;if(i!==null)ye=i,Qt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?It.memoizedState=ye=e:ye=ye.next=e}return ye}var dc;dc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fl(e){var i=hl;return hl+=1,ja===null&&(ja=[]),e=Ig(ja,e,i),i=It,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Ps:xr),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===O)return $e(e)}throw Error(s(438,String(e)))}function kf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=it;return i.index++,a}function Li(e,i){return typeof i=="function"?i(e):i}function pc(e){var i=_e();return Lf(i,Qt,e)}function Lf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,C=null,P=i,W=!1;do{var et=P.lane&-536870913;if(et!==P.lane?(Ut&et)===et:(Or&et)===et){var q=P.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),et===Ua&&(W=!0);else if((Or&q)===q){P=P.next,q===Ua&&(W=!0);continue}else et={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=et,v=d):C=C.next=et,It.lanes|=q,jr|=q;et=P.action,Vs&&a(d,et),d=P.hasEagerState?P.eagerState:a(d,et)}else q={lane:et,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=q,v=d):C=C.next=q,It.lanes|=et,jr|=et;P=P.next}while(P!==null&&P!==i);if(C===null?v=d:C.next=T,!dn(d,e.memoizedState)&&(Ve=!0,W&&(a=Ba,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zg(e,i,a){var l=It,h=_e(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ve=!0),h=h.queue,jf(qg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Hg.bind(null,l,h,a,i),{destroy:void 0},null),Wt===null)throw Error(s(349));d||Or&60||jg(l,i,a)}return a}function jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=dc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Hg(e,i,a,l){i.value=a,i.getSnapshot=l,Fg(i)&&Gg(e)}function qg(e,i,a){return a(function(){Fg(i)&&Gg(e)})}function Fg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function Gg(e){var i=Ir(e,2);i!==null&&rn(i,e,2)}function Bf(e){var i=ln();if(typeof e=="function"){var a=e;if(e=a(),Vs){Wn(!0);try{a()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},i}function $g(e,i,a,l){return e.baseState=a,Lf(e,Qt,typeof l=="function"?l:Li)}function yA(e,i,a,l,h){if(_c(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Kg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Kg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=A.T,v={};A.T=v;try{var T=a(h,l),C=A.S;C!==null&&C(v,T),Qg(e,i,T)}catch(P){zf(e,i,P)}finally{A.T=d}}else try{d=a(h,l),Qg(e,i,d)}catch(P){zf(e,i,P)}}function Qg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yg(e,i,l)},function(l){return zf(e,i,l)}):Yg(e,i,a)}function Yg(e,i,a){i.status="fulfilled",i.value=a,Xg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Kg(e,a)))}function zf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Xg(i),i=i.next;while(i!==l)}e.action=null}function Xg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Wg(e,i){return i}function Zg(e,i){if(Ht){var a=Wt.formState;if(a!==null){t:{var l=It;if(Ht){if(Be){e:{for(var h=Be,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Be=$n(h.nextSibling),l=h.data==="F!";break t}}Os(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:i},a.queue=l,a=gy.bind(null,It,l),l.dispatch=a,l=Bf(!1),d=$f.bind(null,It,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=yA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Jg(e){var i=_e();return ty(i,Qt,e)}function ty(e,i,a){i=Lf(e,i,Wg)[0],e=pc(Li)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?fl(i):i;var l=_e(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(It.flags|=2048,Ha(9,_A.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function _A(e,i){e.action=i}function ey(e){var i=_e(),a=Qt;if(a!==null)return ty(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ha(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=It.updateQueue,i===null&&(i=dc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ny(){return _e().memoizedState}function gc(e,i,a,l){var h=ln();It.flags|=e,h.memoizedState=Ha(1|i,a,{destroy:void 0},l===void 0?null:l)}function yc(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&Of(l,Qt.memoizedState.deps)?h.memoizedState=Ha(i,a,d,l):(It.flags|=e,h.memoizedState=Ha(1|i,a,d,l))}function iy(e,i){gc(8390656,8,e,i)}function jf(e,i){yc(2048,8,e,i)}function ry(e,i){return yc(4,2,e,i)}function sy(e,i){return yc(4,4,e,i)}function ay(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function oy(e,i,a){a=a!=null?a.concat([e]):null,yc(4,4,ay.bind(null,i,e),a)}function Hf(){}function ly(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function uy(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=e(),Vs){Wn(!0);try{e()}finally{Wn(!1)}}return a.memoizedState=[l,i],l}function qf(e,i,a){return a===void 0||Or&1073741824?e.memoizedState=i:(e.memoizedState=a,e=h_(),It.lanes|=e,jr|=e,a)}function cy(e,i,a,l){return dn(a,i)?a:La.current!==null?(e=qf(e,a,l),dn(e,i)||(Ve=!0),e):Or&42?(e=h_(),It.lanes|=e,jr|=e,i):(Ve=!0,e.memoizedState=a)}function hy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=A.T,T={};A.T=T,$f(e,!1,i,a);try{var C=h(),P=A.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=mA(C,l);dl(e,i,W,yn(e))}else dl(e,i,l,yn(e))}catch(et){dl(e,i,{then:function(){},status:"rejected",reason:et},yn())}finally{lt.p=d,A.T=v}}function vA(){}function Ff(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=fy(e).queue;hy(e,h,i,Ct,a===null?vA:function(){return dy(e),a(l)})}function fy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:Ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function dy(e){var i=fy(e).next.queue;dl(e,i,{},yn())}function Gf(){return $e(Ml)}function my(){return _e().memoizedState}function py(){return _e().memoizedState}function EA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();e=Pr(a);var l=kr(i,e,a);l!==null&&(rn(l,i,a),gl(l,i,a)),i={cache:If()},e.payload=i;return}i=i.return}}function TA(e,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(e)?yy(i,a):(a=Tf(e,i,a,l),a!==null&&(rn(a,e,l),_y(a,i,l)))}function gy(e,i,a){var l=yn();dl(e,i,a,l)}function dl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(e))yy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return ec(e,i,h,0),Wt===null&&tc(),!1}catch{}finally{}if(a=Tf(e,i,h,l),a!==null)return rn(a,e,l),_y(a,i,l),!0}return!1}function $f(e,i,a,l){if(l={lane:2,revertLane:Pd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(e)){if(i)throw Error(s(479))}else i=Tf(e,a,l,2),i!==null&&rn(i,e,2)}function _c(e){var i=e.alternate;return e===It||i!==null&&i===It}function yy(e,i){za=hc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function _y(e,i,a){if(a&4194176){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,_r(e,a)}}var ci={readContext:$e,use:mc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};ci.useCacheRefresh=me,ci.useMemoCache=me,ci.useHostTransitionStatus=me,ci.useFormState=me,ci.useActionState=me,ci.useOptimistic=me;var Ps={readContext:$e,use:mc,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:iy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,gc(4194308,4,ay.bind(null,i,e),a)},useLayoutEffect:function(e,i){return gc(4194308,4,e,i)},useInsertionEffect:function(e,i){gc(4,2,e,i)},useMemo:function(e,i){var a=ln();i=i===void 0?null:i;var l=e();if(Vs){Wn(!0);try{e()}finally{Wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Vs){Wn(!0);try{a(i)}finally{Wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=TA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=Bf(e);var i=e.queue,a=gy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ln();return qf(a,e,i)},useTransition:function(){var e=Bf(!1);return e=hy.bind(null,It,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=ln();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));Ut&60||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,iy(qg.bind(null,l,d,e),[e]),l.flags|=2048,Ha(9,Hg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=ln(),i=Wt.identifierPrefix;if(Ht){var a=Pi,l=Vi;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=pA++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return ln().memoizedState=EA.bind(null,It)}};Ps.useMemoCache=kf,Ps.useHostTransitionStatus=Gf,Ps.useFormState=Zg,Ps.useActionState=Zg,Ps.useOptimistic=function(e){var i=ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,It,!0,a),a.dispatch=i,[e,i]};var xr={readContext:$e,use:mc,useCallback:ly,useContext:$e,useEffect:jf,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:uy,useReducer:pc,useRef:ny,useState:function(){return pc(Li)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=_e();return cy(a,Qt.memoizedState,e,i)},useTransition:function(){var e=pc(Li)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:fl(e),i]},useSyncExternalStore:zg,useId:my};xr.useCacheRefresh=py,xr.useMemoCache=kf,xr.useHostTransitionStatus=Gf,xr.useFormState=Jg,xr.useActionState=Jg,xr.useOptimistic=function(e,i){var a=_e();return $g(a,Qt,e,i)};var ks={readContext:$e,use:mc,useCallback:ly,useContext:$e,useEffect:jf,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:uy,useReducer:Uf,useRef:ny,useState:function(){return Uf(Li)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=_e();return Qt===null?qf(a,e,i):cy(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Uf(Li)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:fl(e),i]},useSyncExternalStore:zg,useId:my};ks.useCacheRefresh=py,ks.useMemoCache=kf,ks.useHostTransitionStatus=Gf,ks.useFormState=ey,ks.useActionState=ey,ks.useOptimistic=function(e,i){var a=_e();return Qt!==null?$g(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Kf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qf={isMounted:function(e){return(e=e._reactInternals)?ft(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=yn(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,l),i!==null&&(rn(i,e,l),gl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=yn(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,l),i!==null&&(rn(i,e,l),gl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=yn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(e,l,a),i!==null&&(rn(i,e,a),gl(i,e,a))}};function vy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function Ey(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Qf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var vc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ty(e){vc(e)}function by(e){console.error(e)}function Ay(e){vc(e)}function Ec(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(e,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(e,i)},a}function wy(e){return e=Pr(e),e.tag=3,e}function Ry(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Sy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Sy(i,a,l),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&pl(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ui===null?Nd():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===wf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(e,l,h)),!1;case 22:return a.flags|=65536,l===wf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(e,l,h)),!1}throw Error(s(435,a.tag))}return xd(e,l,h),Nd(),!1}if(Ht)return i=On.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(e=Error(s(422),{cause:l}),rl(In(e,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),rl(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,a),h=Yf(e.stateNode,l,h),cd(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),Sl===null?Sl=[d]:Sl.push(d),ce!==4&&(ce=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Yf(a.stateNode,l,e),cd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wy(h),Ry(h,e,a,l),cd(a,h),!1}a=a.return}while(a!==null);return!1}var Cy=Error(s(461)),Ve=!1;function ze(e,i,a,l){i.child=e===null?xg(i,null,a,l):xs(i,e.child,a,l)}function Iy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Bs(i),l=xf(e,i,a,v,d,h),T=Mf(),e!==null&&!Ve?(Vf(e,i,h),Ui(e,i,h)):(Ht&&T&&bf(i),i.flags|=1,ze(e,i,l,h),i.child)}function Dy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!_d(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ny(e,i,d,l,h)):(e=wc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!rd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(v,l)&&e.ref===i.ref)return Ui(e,i,h)}return i.flags|=1,e=zr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ny(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(tl(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,rd(e,h))e.flags&131072&&(Ve=!0);else return i.lanes=e.lanes,Ui(e,i,h)}return Xf(e,i,a,l,h)}function Oy(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(ml(e,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return xy(e,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(i,v!==null?v.cachePool:null),v!==null?Mg(i,v):Rf(),Vg(i);else return i.lanes=i.childLanes=536870912,xy(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(cc(i,v.cachePool),Mg(i,v),Nr(),i.memoizedState=null):(e!==null&&cc(i,null),Rf(),Nr());return ze(e,i,h,a),i.child}function xy(e,i,a,l){var h=Nf();return h=h===null?null:{parent:Ce._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&cc(i,null),Rf(),Vg(i),e!==null&&pl(e,i,l,!0),null}function ml(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Xf(e,i,a,l,h){return Bs(i),a=xf(e,i,a,l,void 0,h),l=Mf(),e!==null&&!Ve?(Vf(e,i,h),Ui(e,i,h)):(Ht&&l&&bf(i),i.flags|=1,ze(e,i,a,h),i.child)}function My(e,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=Bg(i,l,a,h),Ug(e),l=Mf(),e!==null&&!Ve?(Vf(e,i,d),Ui(e,i,d)):(Ht&&l&&bf(i),i.flags|=1,ze(e,i,a,d),i.child)}function Vy(e,i,a,l,h){if(Bs(i),i.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ld(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$e(v):Ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qf.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Ls(a,T);d.props=C;var P=d.context,W=a.contextType;v=Ma,typeof W=="object"&&W!==null&&(v=$e(W));var et=a.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&Ey(i,d,l,v),Vr=!1;var q=i.memoizedState;d.state=q,_l(i,l,d,h),yl(),P=i.memoizedState,T||q!==P||Vr?(typeof et=="function"&&(Kf(i,a,et,l),P=i.memoizedState),(C=Vr||vy(i,a,C,l,q,P,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ud(e,i),v=i.memoizedProps,W=Ls(a,v),d.props=W,et=i.pendingProps,q=d.context,P=a.contextType,C=Ma,typeof P=="object"&&P!==null&&(C=$e(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||q!==C)&&Ey(i,d,l,C),Vr=!1,q=i.memoizedState,d.state=q,_l(i,l,d,h),yl();var X=i.memoizedState;v!==et||q!==X||Vr||e!==null&&e.dependencies!==null&&Tc(e.dependencies)?(typeof T=="function"&&(Kf(i,a,T,l),X=i.memoizedState),(W=Vr||vy(i,a,W,l,q,X,C)||e!==null&&e.dependencies!==null&&Tc(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ml(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=xs(i,e.child,null,h),i.child=xs(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ui(e,i,h),e}function Py(e,i,a,l){return il(),i.flags|=256,ze(e,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Zf(e){return{baseLanes:e,cachePool:Lg()}}function Jf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Pn),e}function ky(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?Dr(i):Nr(),Ht){var T=Be,C;if(C=T){t:{for(C=T,T=li;C.nodeType!==8;){if(!T){T=null;break t}if(C=$n(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912},C=Vn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,nn=i,Be=null,C=!0):C=!1}C||Os(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(Nr(),h=i.mode,T=ed({mode:"hidden",children:T},h),l=js(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Zf(a),h.childLanes=Jf(e,v,a),i.memoizedState=Wf,l):(Dr(i),td(i,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=nd(e,i,a)):i.memoizedState!==null?(Nr(),i.child=e.child,i.flags|=128,i=null):(Nr(),h=l.fallback,T=i.mode,l=ed({mode:"visible",children:l.children},T),h=js(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xs(i,e.child,null,a),l=i.child,l.memoizedState=Zf(a),l.childLanes=Jf(e,v,a),i.memoizedState=Wf,i=h);else if(Dr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),i=nd(e,i,a)}else if(Ve||pl(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=Wt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ir(e,l),rn(v,e,l),Cy}T.data==="$?"||Nd(),i=nd(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=LA.bind(null,e),T._reactRetry=i,i=null):(e=C.treeContext,Be=$n(T.nextSibling),nn=i,Ht=!0,Fn=null,li=!1,e!==null&&(Dn[Nn++]=Vi,Dn[Nn++]=Pi,Dn[Nn++]=Ds,Vi=e.id,Pi=e.overflow,Ds=i),i=td(i,l.children),i.flags|=4096);return i}return h?(Nr(),h=l.fallback,T=i.mode,C=e.child,P=C.sibling,l=zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,P!==null?h=zr(P,h):(h=js(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Zf(a):(C=T.cachePool,C!==null?(P=Ce._currentValue,C=C.parent!==P?{parent:P,pool:P}:C):C=Lg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Jf(e,v,a),i.memoizedState=Wf,l):(Dr(i),a=e.child,e=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function td(e,i){return i=ed({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ed(e,i){return l_(e,i,0,null)}function nd(e,i,a){return xs(i,e.child,null,a),e=td(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ly(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),ad(e.return,i,a)}function id(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Uy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=Re.current,l&2)l=l&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ly(e,a,i);else if(e.tag===19)Ly(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(Re,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&uc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&uc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(i,!0,a,null,d);break;case"together":id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),jr|=i.lanes,!(a&i.childLanes))if(e!==null){if(pl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=zr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&Tc(e)))}function AA(e,i,a){switch(i.tag){case 3:fr(i,i.stateNode.containerInfo),Mr(i,Ce,e.memoizedState.cache),il();break;case 27:case 5:Mo(i);break;case 4:fr(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(i),i.flags|=128,null):a&i.child.childLanes?ky(e,i,a):(Dr(i),e=Ui(e,i,a),e!==null?e.sibling:null);Dr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(pl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Uy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,Oy(e,i,a);case 24:Mr(i,Ce,e.memoizedState.cache)}return Ui(e,i,a)}function By(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!rd(e,a)&&!(i.flags&128))return Ve=!1,AA(e,i,a);Ve=!!(e.flags&131072)}else Ve=!1,Ht&&i.flags&1048576&&Ag(i,rc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")_d(l)?(e=Ls(l,e),i.tag=1,i=Vy(null,i,l,e,a)):(i.tag=0,i=Xf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===k){i.tag=11,i=Iy(null,i,l,e,a);break t}else if(h===$){i.tag=14,i=Dy(null,i,l,e,a);break t}}throw i=w(l)||l,Error(s(306,i,""))}}return i;case 0:return Xf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Vy(e,i,l,h,a);case 3:t:{if(fr(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ud(e,i),_l(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Mr(i,Ce,d),d!==h.cache&&od(i,[Ce],a,!0),yl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Py(e,i,d,a);break t}else if(d!==l){l=In(Error(s(424)),i),rl(l),i=Py(e,i,d,a);break t}else for(Be=$n(i.stateNode.containerInfo.firstChild),nn=i,Ht=!0,Fn=null,li=!0,a=xg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(il(),d===l){i=Ui(e,i,a);break t}ze(e,i,d,a)}i=i.child}return i;case 26:return ml(e,i),e===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=Lc(En.current).createElement(a),l[Oe]=i,l[Ae]=e,je(l,a,e),ie(l),i.stateNode=l):i.memoizedState=H_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Mo(i),e===null&&Ht&&(l=i.stateNode=B_(i.type,i.pendingProps,En.current),nn=i,li=!0,Be=$n(l.firstChild)),l=i.pendingProps.children,e!==null||Ht?ze(e,i,l,a):i.child=xs(i,null,l,a),ml(e,i),i.child;case 5:return e===null&&Ht&&((h=l=Be)&&(l=JA(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,nn=i,Be=$n(l.firstChild),li=!1,h=!0):h=!1),h||Os(i)),Mo(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Fd(h,d)?l=null:v!==null&&Fd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(e,i,gA,null,null,a),Ml._currentValue=h),ml(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=Be)&&(a=tS(a,i.pendingProps,li),a!==null?(i.stateNode=a,nn=i,Be=null,e=!0):e=!1),e||Os(i)),null;case 13:return ky(e,i,a);case 4:return fr(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=xs(i,null,l,a):ze(e,i,l,a),i.child;case 11:return Iy(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=$e(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return Dy(e,i,i.type,i.pendingProps,a);case 15:return Ny(e,i,i.type,i.pendingProps,a);case 19:return Uy(e,i,a);case 22:return Oy(e,i,a);case 24:return Bs(i),l=$e(Ce),e===null?(h=Nf(),h===null&&(h=Wt,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ld(i),Mr(i,Ce,h)):(e.lanes&a&&(ud(e,i),_l(i,null,null,a),yl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,Ce,l)):(l=d.cache,Mr(i,Ce,l),l!==h.cache&&od(i,[Ce],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var sd=zt(null),Us=null,Bi=null;function Mr(e,i,a){Kt(sd,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=sd.current,oe(sd)}function ad(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function od(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ad(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ad(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function pl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===hr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}h=h.return}e!==null&&od(i,e,a,l),i.flags|=262144}function Tc(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){Us=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return zy(Us,e)}function bc(e,i){return Us===null&&Bs(e),zy(e,i)}function zy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var Vr=!1;function ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,se&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(e),Tg(e,null,a),i}return ec(e,l,i,a),nc(e)}function gl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,_r(e,a)}}function cd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var hd=!1;function yl(){if(hd){var e=Ba;if(e!==null)throw e}}function _l(e,i,a,l){hd=!1;var h=e.updateQueue;Vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,v===null?d=P:v.next=P,v=C;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=P:T.next=P,W.lastBaseUpdate=C))}if(d!==null){var et=h.baseState;v=0,W=P=C=null,T=d;do{var q=T.lane&-536870913,X=q!==T.lane;if(X?(Ut&q)===q:(l&q)===q){q!==0&&q===Ua&&(hd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,At=T;q=i;var he=a;switch(At.tag){case 1:if(dt=At.payload,typeof dt=="function"){et=dt.call(he,et,q);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=At.payload,q=typeof dt=="function"?dt.call(he,et,q):dt,q==null)break t;et=I({},et,q);break t;case 2:Vr=!0}}q=T.callback,q!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[q]:X.push(q))}else X={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(P=W=X,C=et):W=W.next=X,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(C=et),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),jr|=v,e.lanes=v,e.memoizedState=et}}function jy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Hy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jy(a[e],i)}function vl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Xt(i,i.return,T)}}function Lr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a;try{T()}catch(P){Xt(h,C,P)}}}l=l.next}while(l!==d)}}catch(P){Xt(i,i.return,P)}}function qy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hy(i,a)}catch(l){Xt(e,e.return,l)}}}function Fy(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(e,i,l)}}function zs(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Xt(e,i,d)}}function mn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function Gy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function $y(e,i,a){try{var l=e.stateNode;QA(l,e.type,a,i),l[Ae]=i}catch(h){Xt(e,e.return,h)}}function Ky(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=kc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(dd(e,i,a),e=e.sibling;e!==null;)dd(e,i,a),e=e.sibling}function Ac(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ac(e,i,a),e=e.sibling;e!==null;)Ac(e,i,a),e=e.sibling}var ji=!1,ue=!1,md=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Pe=null,Yy=!1;function SA(e,i){if(e=e.containerInfo,Hd=qc,e=fg(e),gf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,P=0,W=0,et=e,q=null;e:for(;;){for(var X;et!==a||h!==0&&et.nodeType!==3||(T=v+h),et!==d||l!==0&&et.nodeType!==3||(C=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(X=et.firstChild)!==null;)q=et,et=X;for(;;){if(et===e)break e;if(q===a&&++P===h&&(T=v),q===d&&++W===l&&(C=v),(X=et.nextSibling)!==null)break;et=q,q=et.parentNode}et=X}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:e,selectionRange:a},qc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Ls(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Xt(a,a.return,At)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}return dt=Yy,Yy=!1,dt}function Xy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(e,a),l&4&&vl(5,a);break;case 1:if(qi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Xt(a,a.return,T)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(a,a.return,T)}}l&64&&qy(a),l&512&&zs(a,a.return);break;case 3:if(qi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Hy(l,e)}catch(T){Xt(a,a.return,T)}}break;case 26:qi(e,a),l&512&&zs(a,a.return);break;case 27:case 5:qi(e,a),i===null&&l&4&&Gy(a),l&512&&zs(a,a.return);break;case 12:qi(e,a);break;case 13:qi(e,a),l&4&&Jy(e,a);break;case 22:if(h=a.memoizedState!==null||ji,!h){i=i!==null&&i.memoizedState!==null||ue;var d=ji,v=ue;ji=h,(ue=i)&&!v?Ur(e,a,(a.subtreeFlags&8772)!==0):qi(e,a),ji=d,ue=v}l&512&&(a.memoizedProps.mode==="manual"?zs(a,a.return):mn(a,a.return));break;default:qi(e,a)}}function Wy(e){var i=e.alternate;i!==null&&(e.alternate=null,Wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&gs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,pn=!1;function Hi(e,i,a){for(a=a.child;a!==null;)Zy(e,i,a),a=a.sibling}function Zy(e,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:ue||mn(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||mn(a,i);var l=ve,h=pn;for(ve=a.stateNode,Hi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);gs(a),ve=l,pn=h;break;case 5:ue||mn(a,i);case 6:h=ve;var d=pn;if(ve=null,Hi(e,i,a),ve=h,pn=d,ve!==null)if(pn)try{e=ve,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Xt(a,i,v)}else try{ve.removeChild(a.stateNode)}catch(v){Xt(a,i,v)}break;case 18:ve!==null&&(pn?(i=ve,a=a.stateNode,i.nodeType===8?$d(i.parentNode,a):i.nodeType===1&&$d(i,a),Ll(i)):$d(ve,a.stateNode));break;case 4:l=ve,h=pn,ve=a.stateNode.containerInfo,pn=!0,Hi(e,i,a),ve=l,pn=h;break;case 0:case 11:case 14:case 15:ue||Lr(2,a,i),ue||Lr(4,a,i),Hi(e,i,a);break;case 1:ue||(mn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fy(a,i,l)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:ue||mn(a,i),ue=(l=ue)||a.memoizedState!==null,Hi(e,i,a),ue=l;break;default:Hi(e,i,a)}}function Jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ll(e)}catch(a){Xt(i,i.return,a)}}function wA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qy),i;default:throw Error(s(435,e.tag))}}function pd(e,i){var a=wA(e);i.forEach(function(l){var h=UA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,pn=!1;break t;case 3:ve=T.stateNode.containerInfo,pn=!0;break t;case 4:ve=T.stateNode.containerInfo,pn=!0;break t}T=T.return}if(ve===null)throw Error(s(160));Zy(d,v,h),ve=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)t_(i,e),i=i.sibling}var Gn=null;function t_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(i,e),Mn(e),l&4&&(Lr(3,e,e.return),vl(3,e),Lr(5,e,e.return));break;case 1:xn(i,e),Mn(e),l&512&&(ue||a===null||mn(a,a.return)),l&64&&ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(xn(i,e),Mn(e),l&512&&(ue||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Er]||d[Oe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Oe]=e,ie(d),l=d;break t;case"link":var v=G_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=G_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Oe]=e,ie(d),l=d}e.stateNode=l}else $_(h,e.type,e.stateNode);else e.stateNode=F_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(h,e.type,e.stateNode):F_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$y(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var P=C.nextSibling,W=C.nodeName;C[Er]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=P}for(var et=e.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);je(h,et,d),h[Oe]=e,h[Ae]=d}catch(dt){Xt(e,e.return,dt)}}case 5:if(xn(i,e),Mn(e),l&512&&(ue||a===null||mn(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(dt){Xt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,$y(e,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(xn(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Xt(e,e.return,dt)}}break;case 3:if(zc=null,h=Gn,Gn=Uc(i.containerInfo),xn(i,e),Gn=h,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(dt){Xt(e,e.return,dt)}md&&(md=!1,e_(e));break;case 4:l=Gn,Gn=Uc(e.stateNode.containerInfo),xn(i,e),Mn(e),Gn=l;break;case 12:xn(i,e),Mn(e);break;case 13:xn(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=an()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pd(e,l)));break;case 22:if(l&512&&(ue||a===null||mn(a,a.return)),C=e.memoizedState!==null,P=a!==null&&a.memoizedState!==null,W=ji,et=ue,ji=W||C,ue=et||P,xn(i,e),ue=et,ji=W,Mn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=ji||ue,a===null||P||i||qa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(dt){Xt(P,P.return,dt)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(dt){Xt(P,P.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(e,a))));break;case 19:xn(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pd(e,l)));break;case 21:break;default:xn(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Ky(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=fd(e);Ac(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=fd(e);Ac(e,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,P=fd(e);dd(e,P,C);break;default:throw Error(s(161))}}}catch(W){Xt(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function e_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;e_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(e,i.alternate,i),i=i.sibling}function qa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),qa(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Fy(i,i.return,a),qa(i);break;case 26:case 27:case 5:mn(i,i.return),qa(i);break;case 22:mn(i,i.return),i.memoizedState===null&&qa(i);break;default:qa(i)}e=e.sibling}}function Ur(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(h,d,a),vl(4,d);break;case 1:if(Ur(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jy(C[h],T)}catch(P){Xt(l,l.return,P)}}a&&v&64&&qy(d),zs(d,d.return);break;case 26:case 27:case 5:Ur(h,d,a),a&&l===null&&v&4&&Gy(d),zs(d,d.return);break;case 12:Ur(h,d,a);break;case 13:Ur(h,d,a),a&&v&4&&Jy(h,d);break;case 22:d.memoizedState===null&&Ur(h,d,a),zs(d,d.return);break;default:Ur(h,d,a)}i=i.sibling}}function gd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ul(a))}function yd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ul(e))}function Br(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(e,i,a,l),i=i.sibling}function n_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Br(e,i,a,l),h&2048&&vl(9,i);break;case 3:Br(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ul(e)));break;case 12:if(h&2048){Br(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(i,i.return,C)}}else Br(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Br(e,i,a,l):El(e,i):d._visibility&4?Br(e,i,a,l):(d._visibility|=4,Fa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gd(i.alternate,i);break;case 24:Br(e,i,a,l),h&2048&&yd(i.alternate,i);break;default:Br(e,i,a,l)}}function Fa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,C=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,T,C,h),vl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Fa(d,v,T,C,h):El(d,v):(W._visibility|=4,Fa(d,v,T,C,h)),h&&P&2048&&gd(v.alternate,v);break;case 24:Fa(d,v,T,C,h),h&&P&2048&&yd(v.alternate,v);break;default:Fa(d,v,T,C,h)}i=i.sibling}}function El(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&gd(l.alternate,l);break;case 24:El(a,l),h&2048&&yd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ga(e){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)i_(e),e=e.sibling}function i_(e){switch(e.tag){case 26:Ga(e),e.flags&Tl&&e.memoizedState!==null&&dS(Gn,e.memoizedState,e.memoizedProps);break;case 5:Ga(e);break;case 3:case 4:var i=Gn;Gn=Uc(e.stateNode.containerInfo),Ga(e),Gn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Tl,Tl=16777216,Ga(e),Tl=i):Ga(e));break;default:Ga(e)}}function r_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function bl(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,a_(l,e)}r_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)s_(e),e=e.sibling}function s_(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Sc(e)):bl(e);break;default:bl(e)}}function Sc(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,a_(l,e)}r_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Sc(i));break;default:Sc(i)}e=e.sibling}}function a_(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(Wy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}function RA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,i,a,l){return new RA(e,i,a,l)}function _d(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,i){var a=e.alternate;return a===null?(a=Vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function o_(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wc(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")_d(e)&&(v=1);else if(typeof e=="string")v=hS(e,a,Ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return js(a.children,h,d,i);case g:v=8,h|=24;break;case E:return e=Vn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case G:return e=Vn(13,a,i,h),e.elementType=G,e.lanes=d,e;case L:return e=Vn(19,a,i,h),e.elementType=L,e.lanes=d,e;case K:return l_(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case O:v=10;break t;case R:v=9;break t;case k:v=11;break t;case $:v=14;break t;case Q:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Vn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function js(e,i,a,l){return e=Vn(7,e,l,i),e.lanes=a,e}function l_(e,i,a,l){e=Vn(22,e,l,i),e.elementType=K,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Ir(d,2);v!==null&&(h._pendingVisibility|=2,rn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Ir(d,2);v!==null&&(h._pendingVisibility&=-3,rn(v,d,2))}}};return e.stateNode=h,e}function vd(e,i,a){return e=Vn(6,e,null,i),e.lanes=a,e}function Ed(e,i,a){return i=Vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Fi(e){e.flags|=4}function u_(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!K_(i)){if(i=On.current,i!==null&&((Ut&4194176)===Ut?ui!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||i!==ui))throw al=wf,Rg;e.flags|=8192}}function Rc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?gr():536870912,e.lanes|=i,Ka|=i)}function Al(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function CA(e,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Ce),Ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(nl(i)?Fi(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Fn!==null&&(Id(Fn),Fn=null))),re(i),null;case 26:return a=i.memoizedState,e===null?(Fi(i),a!==null?(re(i),u_(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Fi(i),re(i),u_(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Fi(i),re(i),i.flags&=-16777217),null;case 27:fa(i),a=En.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=Ze.current,nl(i)?Sg(i):(e=B_(h,l,a),i.stateNode=e,Fi(i))}return re(i),null;case 5:if(fa(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=Ze.current,nl(i))Sg(i);else{switch(h=Lc(En.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Oe]=i,e[Ae]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Fi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=En.current,nl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Oe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||M_(e.nodeValue,a)),e||Os(i)}else e=Lc(e).createTextNode(l),e[Oe]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=nl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Oe]=i}else il(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else Fn!==null&&(Id(Fn),Fn=null),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),re(i),null;case 4:return Ai(),e===null&&Bd(i.stateNode.containerInfo),re(i),null;case 10:return zi(i.type),re(i),null;case 19:if(oe(Re),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Al(h,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=uc(e),d!==null){for(i.flags|=128,Al(h,!1),e=d.updateQueue,i.updateQueue=e,Rc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)o_(a,e),a=a.sibling;return Kt(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&an()>Cc&&(i.flags|=128,l=!0,Al(h,!1),i.lanes=4194304)}else{if(!l)if(e=uc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Rc(i,e),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return re(i),null}else 2*an()-h.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,l=!0,Al(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,e=Re.current,Kt(Re,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return ki(i),Cf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&oe(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Ce),re(i),null;case 25:return null}throw Error(s(156,i.tag))}function IA(e,i){switch(Af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Ce),Ai(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));il()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return oe(Re),null;case 4:return Ai(),null;case 10:return zi(i.type),null;case 22:case 23:return ki(i),Cf(),e!==null&&oe(Ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Ce),null;case 25:return null;default:return null}}function c_(e,i){switch(Af(i),i.tag){case 3:zi(Ce),Ai();break;case 26:case 27:case 5:fa(i);break;case 4:Ai();break;case 13:ki(i);break;case 19:oe(Re);break;case 10:zi(i.type);break;case 22:case 23:ki(i),Cf(),e!==null&&oe(Ms);break;case 24:zi(Ce)}}var DA={getCacheForType:function(e){var i=$e(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},NA=typeof WeakMap=="function"?WeakMap:Map,se=0,Wt=null,Nt=null,Ut=0,Zt=0,gn=null,Gi=!1,$a=!1,Td=!1,$i=0,ce=0,jr=0,Hs=0,bd=0,Pn=0,Ka=0,Sl=null,hi=null,Ad=!1,Sd=0,Cc=1/0,Ic=null,Hr=null,Dc=!1,qs=null,wl=0,wd=0,Rd=null,Rl=0,Cd=null;function yn(){if(se&2&&Ut!==0)return Ut&-Ut;if(A.T!==null){var e=Ua;return e!==0?e:Pd()}return Pu()}function h_(){Pn===0&&(Pn=!(Ut&536870912)||Ht?Uo():536870912);var e=On.current;return e!==null&&(e.flags|=32),Pn}function rn(e,i,a){(e===Wt&&Zt===2||e.cancelPendingCommit!==null)&&(Qa(e,0),Ki(e,Ut,Pn,!1)),de(e,a),(!(se&2)||e!==Wt)&&(e===Wt&&(!(se&2)&&(Hs|=a),ce===4&&Ki(e,Ut,Pn,!1)),fi(e))}function f_(e,i,a){if(se&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||pr(e,i),h=l?MA(e,i):Od(e,i,!0),d=l;do{if(h===0){$a&&!l&&Ki(e,i,0,!1);break}else if(h===6)Ki(e,i,0,!Gi);else{if(a=e.current.alternate,d&&!OA(a)){h=Od(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=Sl;var C=T.current.memoizedState.isDehydrated;if(C&&(Qa(T,v).flags|=256),v=Od(T,v,!1),v!==2){if(Td&&!C){T.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break t}d=hi,hi=h,d!==null&&Id(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Qa(e,0),Ki(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Ki(l,i,Pn,!Gi);break t}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Sd+300-an(),10<d)){if(Ki(l,i,Pn,!Gi),Tn(l,0)!==0)break t;l.timeoutHandle=k_(d_.bind(null,l,a,hi,Ic,Ad,i,Pn,Hs,Ka,Gi,2,-0,0),d);break t}d_(l,a,hi,Ic,Ad,i,Pn,Hs,Ka,Gi,0,-0,0)}}break}while(!0);fi(e)}function Id(e){hi===null?hi=e:hi.push.apply(hi,e)}function d_(e,i,a,l,h,d,v,T,C,P,W,et,q){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:fS},i_(i),i=mS(),i!==null)){e.cancelPendingCommit=i(E_.bind(null,e,a,l,h,v,T,C,1,et,q)),Ki(e,d,v,!P);return}E_(e,a,l,h,v,T,C,W,et,q)}function OA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(e,i,a,l){i&=~bd,i&=~Hs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Je(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&yr(e,a,i)}function Nc(){return se&6?!0:(Cl(0),!1)}function Dd(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Bi=Us=null,Pf(e),ka=null,ol=0,e=Nt;for(;e!==null;)c_(e.alternate,e),e=e.return;Nt=null}}function Qa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,XA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dd(),Wt=e,Nt=a=zr(e.current,null),Ut=i,Zt=0,gn=null,Gi=!1,$a=pr(e,i),Td=!1,Ka=Pn=bd=Hs=jr=ce=0,hi=Sl=null,Ad=!1,i&8&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Je(l),d=1<<h;i|=e[h],l&=~d}return $i=i,tc(),a}function m_(e,i){It=null,A.H=ci,i===sl?(i=Dg(),Zt=3):i===Rg?(i=Dg(),Zt=4):Zt=i===Cy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Nt===null&&(ce=1,Ec(e,In(i,e.current)))}function p_(){var e=A.H;return A.H=ci,e===null?ci:e}function g_(){var e=A.A;return A.A=DA,e}function Nd(){ce=4,Gi||(Ut&4194176)!==Ut&&On.current!==null||($a=!0),!(jr&134217727)&&!(Hs&134217727)||Wt===null||Ki(Wt,Ut,Pn,!1)}function Od(e,i,a){var l=se;se|=2;var h=p_(),d=g_();(Wt!==e||Ut!==i)&&(Ic=null,Qa(e,i)),i=!1;var v=ce;t:do try{if(Zt!==0&&Nt!==null){var T=Nt,C=gn;switch(Zt){case 8:Dd(),v=6;break t;case 3:case 2:case 6:On.current===null&&(i=!0);var P=Zt;if(Zt=0,gn=null,Ya(e,T,C,P),a&&$a){v=0;break t}break;default:P=Zt,Zt=0,gn=null,Ya(e,T,C,P)}}xA(),v=ce;break}catch(W){m_(e,W)}while(!0);return i&&e.shellSuspendCounter++,Bi=Us=null,se=l,A.H=h,A.A=d,Nt===null&&(Wt=null,Ut=0,tc()),v}function xA(){for(;Nt!==null;)y_(Nt)}function MA(e,i){var a=se;se|=2;var l=p_(),h=g_();Wt!==e||Ut!==i?(Ic=null,Cc=an()+500,Qa(e,i)):$a=pr(e,i);t:do try{if(Zt!==0&&Nt!==null){i=Nt;var d=gn;e:switch(Zt){case 1:Zt=0,gn=null,Ya(e,i,d,1);break;case 2:if(Cg(d)){Zt=0,gn=null,__(i);break}i=function(){Zt===2&&Wt===e&&(Zt=7),fi(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Cg(d)?(Zt=0,gn=null,__(i)):(Zt=0,gn=null,Ya(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||K_(v)){Zt=0,gn=null;var C=T.sibling;if(C!==null)Nt=C;else{var P=T.return;P!==null?(Nt=P,Oc(P)):Nt=null}break e}}Zt=0,gn=null,Ya(e,i,d,5);break;case 6:Zt=0,gn=null,Ya(e,i,d,6);break;case 8:Dd(),ce=6;break t;default:throw Error(s(462))}}VA();break}catch(W){m_(e,W)}while(!0);return Bi=Us=null,A.H=l,A.A=h,se=a,Nt!==null?0:(Wt=null,Ut=0,tc(),ce)}function VA(){for(;Nt!==null&&!sf();)y_(Nt)}function y_(e){var i=By(e.alternate,e,$i);e.memoizedProps=e.pendingProps,i===null?Oc(e):Nt=i}function __(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=My(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=My(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Pf(i);default:c_(a,i),i=Nt=o_(i,$i),i=By(a,i,$i)}e.memoizedProps=e.pendingProps,i===null?Oc(e):Nt=i}function Ya(e,i,a,l){Bi=Us=null,Pf(i),ka=null,ol=0;var h=i.return;try{if(bA(e,h,i,a,Ut)){ce=1,Ec(e,In(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,Ec(e,In(a,e.current)),Nt=null;return}i.flags&32768?(Ht||l===1?e=!0:$a||Ut&536870912?e=!1:(Gi=e=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,e)):Oc(i)}function Oc(e){var i=e;do{if(i.flags&32768){v_(i,Gi);return}e=i.return;var a=CA(i.alternate,i,$i);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function v_(e,i){do{var a=IA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function E_(e,i,a,l,h,d,v,T,C,P){var W=A.T,et=lt.p;try{lt.p=2,A.T=null,PA(e,i,a,l,et,h,d,v,T,C,P)}finally{A.T=W,lt.p=et}}function PA(e,i,a,l,h,d,v,T){do Xa();while(qs!==null);if(se&6)throw Error(s(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var P=C.lanes|C.childLanes;if(P|=Ef,Mu(e,l,P,d,v,T),e===Wt&&(Nt=Wt=null,Ut=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Dc||(Dc=!0,wd=P,Rd=a,BA(Si,function(){return Xa(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=A.T,A.T=null,d=lt.p,lt.p=2,v=se,se|=4,SA(e,C),t_(C,e),sA(qd,e.containerInfo),qc=!!Hd,qd=Hd=null,e.current=C,Xy(e,C.alternate,C),Vo(),se=v,lt.p=d,A.T=a):e.current=C,Dc?(Dc=!1,qs=e,wl=l):T_(e,P),P=e.pendingLanes,P===0&&(Hr=null),ko(C.stateNode),fi(e),i!==null)for(h=e.onRecoverableError,C=0;C<i.length;C++)P=i[C],h(P.value,{componentStack:P.stack});return wl&3&&Xa(),P=e.pendingLanes,l&4194218&&P&42?e===Cd?Rl++:(Rl=0,Cd=e):Rl=0,Cl(0),null}function T_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ul(i)))}function Xa(){if(qs!==null){var e=qs,i=wd;wd=0;var a=Vu(wl),l=A.T,h=lt.p;try{if(lt.p=32>a?32:a,A.T=null,qs===null)var d=!1;else{a=Rd,Rd=null;var v=qs,T=wl;if(qs=null,wl=0,se&6)throw Error(s(331));var C=se;if(se|=4,s_(v.current),n_(v,v.current,T,a),se=C,Cl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(dr,v)}catch{}d=!0}return d}finally{lt.p=h,A.T=l,T_(e,i)}}return!1}function b_(e,i,a){i=In(a,i),i=Yf(e.stateNode,i,2),e=kr(e,i,2),e!==null&&(de(e,2),fi(e))}function Xt(e,i,a){if(e.tag===3)b_(e,e,a);else for(;i!==null;){if(i.tag===3){b_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){e=In(a,e),a=wy(2),l=kr(i,a,2),l!==null&&(Ry(a,l,i,e),de(l,2),fi(l));break}}i=i.return}}function xd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new NA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),e=kA.bind(null,e,i,a),i.then(e,e))}function kA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>an()-Sd?!(se&2)&&Qa(e,0):bd|=a,Ka===Ut&&(Ka=0)),fi(e)}function A_(e,i){i===0&&(i=gr()),e=Ir(e,i),e!==null&&(de(e,i),fi(e))}function LA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),A_(e,a)}function UA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),A_(e,a)}function BA(e,i){return ds(e,i)}var xc=null,Wa=null,Md=!1,Mc=!1,Vd=!1,Fs=0;function fi(e){e!==Wa&&e.next===null&&(Wa===null?xc=Wa=e:Wa=Wa.next=e),Mc=!0,Md||(Md=!0,jA(zA))}function Cl(e,i){if(!Vd&&Mc){Vd=!0;do for(var a=!1,l=xc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,R_(l,d))}else d=Ut,d=Tn(l,l===Wt?d:0),!(d&3)||pr(l,d)||(a=!0,R_(l,d));l=l.next}while(a);Vd=!1}}function zA(){Mc=Md=!1;var e=0;Fs!==0&&(YA()&&(e=Fs),Fs=0);for(var i=an(),a=null,l=xc;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?xc=h:a.next=h,h===null&&(Wa=a)):(a=l,(e!==0||d&3)&&(Mc=!0)),l=h}Cl(e)}function S_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Je(d),T=1<<v,C=h[v];C===-1?(!(T&a)||T&l)&&(h[v]=pa(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Ut,a=Tn(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ma(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||pr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ma(l),Vu(a)){case 2:case 8:a=Ne;break;case 32:a=Si;break;case 268435456:a=Po;break;default:a=Si}return l=w_.bind(null,e),a=ds(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ma(l),e.callbackPriority=2,e.callbackNode=null,2}function w_(e,i){var a=e.callbackNode;if(Xa()&&e.callbackNode!==a)return null;var l=Ut;return l=Tn(e,e===Wt?l:0),l===0?null:(f_(e,l,i),S_(e,an()),e.callbackNode!=null&&e.callbackNode===a?w_.bind(null,e):null)}function R_(e,i){if(Xa())return null;f_(e,i,!0)}function jA(e){WA(function(){se&6?ds(be,e):e()})}function Pd(){return Fs===0&&(Fs=Uo()),Fs}function C_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function I_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function HA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=C_((h[Ae]||null).action),v=l.submitter;v&&(i=(i=v[Ae]||null)?C_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ba("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=v?I_(h,v):new FormData(h);Ff(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?I_(h,v):new FormData(h),Ff(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var kd=0;kd<Eg.length;kd++){var Ld=Eg[kd],qA=Ld.toLowerCase(),FA=Ld[0].toUpperCase()+Ld.slice(1);qn(qA,"on"+FA)}qn(pg,"onAnimationEnd"),qn(gg,"onAnimationIteration"),qn(yg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(oA,"onTransitionRun"),qn(lA,"onTransitionStart"),qn(uA,"onTransitionCancel"),qn(_g,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function D_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(W){vc(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,P=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(W){vc(W)}h.currentTarget=null,d=C}}}}function Mt(e,i){var a=i[ps];a===void 0&&(a=i[ps]=new Set);var l=e+"__bubble";a.has(l)||(N_(i,e,2,!1),a.add(l))}function Ud(e,i,a){var l=0;i&&(l|=4),N_(a,e,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Vc]){e[Vc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(GA.has(a)||Ud(a,!1,e),Ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Ud("selectionchange",!1,i))}}function N_(e,i,a,l){switch(J_(i)){case 2:var h=yS;break;case 8:h=_S;break;default:h=Zd}a=h.bind(null,i,a,e),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function zd(e,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Hn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Bu(function(){var P=d,W=Ta(a),et=[];t:{var q=vg.get(e);if(q!==void 0){var X=ba,dt=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":X=Ia;break;case"focusin":dt="focus",X=wa;break;case"focusout":dt="blur",X=wa;break;case"beforeblur":case"afterblur":X=wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ku;break;case pg:case gg:case yg:X=Ra;break;case _g:X=Yu;break;case"scroll":case"scrollend":X=zu;break;case"wheel":X=Da;break;case"copy":case"cut":case"paste":X=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zo;break;case"toggle":case"beforetoggle":X=Wu}var At=(i&4)!==0,he=!At&&(e==="scroll"||e==="scrollend"),z=At?q!==null?q+"Capture":null:q;At=[];for(var V=P,H;V!==null;){var Z=V;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=Es(V,z),Z!=null&&At.push(Dl(V,Z,H))),he)break;V=V.return}0<At.length&&(q=new X(q,dt,null,a,W),et.push({event:q,listeners:At}))}}if(!(i&7)){t:{if(q=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",q&&a!==Sn&&(dt=a.relatedTarget||a.fromElement)&&(Hn(dt)||dt[wi]))break t;if((X||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,X?(dt=a.relatedTarget||a.toElement,X=P,dt=dt?Hn(dt):null,dt!==null&&(he=ft(dt),At=dt.tag,dt!==he||At!==5&&At!==27&&At!==6)&&(dt=null)):(X=null,dt=P),X!==dt)){if(At=Rn,Z="onMouseLeave",z="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(At=Zo,Z="onPointerLeave",z="onPointerEnter",V="pointer"),he=X==null?q:Tr(X),H=dt==null?q:Tr(dt),q=new At(Z,V+"leave",X,a,W),q.target=he,q.relatedTarget=H,Z=null,Hn(W)===P&&(At=new At(z,V+"enter",dt,a,W),At.target=H,At.relatedTarget=he,Z=At),he=Z,X&&dt)e:{for(At=X,z=dt,V=0,H=At;H;H=Za(H))V++;for(H=0,Z=z;Z;Z=Za(Z))H++;for(;0<V-H;)At=Za(At),V--;for(;0<H-V;)z=Za(z),H--;for(;V--;){if(At===z||z!==null&&At===z.alternate)break e;At=Za(At),z=Za(z)}At=null}else At=null;X!==null&&O_(et,q,X,At,!1),dt!==null&&he!==null&&O_(et,he,dt,At,!0)}}t:{if(q=P?Tr(P):window,X=q.nodeName&&q.nodeName.toLowerCase(),X==="select"||X==="input"&&q.type==="file")var ht=rg;else if(we(q))if(sg)ht=iA;else{ht=eA;var Dt=tA}else X=q.nodeName,!X||X.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Go(P.elementType)&&(ht=rg):ht=nA;if(ht&&(ht=ht(e,P))){Mi(et,ht,a,W);break t}Dt&&Dt(e,q,P),e==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Ea(q,"number",q.value)}switch(Dt=P?Tr(P):window,e){case"focusin":(we(Dt)||Dt.contentEditable==="true")&&(Na=Dt,yf=P,el=null);break;case"focusout":el=yf=Na=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,dg(et,a,W);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":dg(et,a,W)}var gt;if(ai)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?Y(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(gt=Ko()):(ni=W,Cr="value"in ni?ni.value:ni.textContent,kt=!0)),Dt=Pc(P,vt),0<Dt.length&&(vt=new Xo(vt,e,null,a,W),et.push({event:vt,listeners:Dt}),gt?vt.data=gt:(gt=rt(a),gt!==null&&(vt.data=gt)))),(gt=y?Se(e,a):Lt(e,a))&&(vt=Pc(P,"onBeforeInput"),0<vt.length&&(Dt=new Xo("onBeforeInput","beforeinput",null,a,W),et.push({event:Dt,listeners:vt}),Dt.data=gt)),HA(et,e,P,a,W)}D_(et,i)})}function Dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(e,a),h!=null&&l.unshift(Dl(e,h,d)),h=Es(e,i),h!=null&&l.push(Dl(e,h,d))),e=e.return}return l}function Za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=Es(a,d),P!=null&&v.unshift(Dl(a,P,C))):h||(P=Es(a,d),P!=null&&v.push(Dl(a,P,C)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var $A=/\r\n?/g,KA=/\u0000|\uFFFD/g;function x_(e){return(typeof e=="string"?e:""+e).replace($A,`
`).replace(KA,"")}function M_(e,i){return i=x_(i),x_(e)===i}function kc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":Sr(e,"class",l);break;case"tabIndex":Sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(e,a,l);break;case"style":Uu(e,l,d);break;case"data":if(i!=="object"){Sr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ei(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ei(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=kc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ei(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Ar(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,Ar(e,a,l))}}function jd(e,i,a,l,h,d){switch(a){case"style":Uu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ae]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ar(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=v=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":P=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Yt(e,i,l,W,a,null)}}_s(e,d,T,C,P,v,h,!1),ys(e);return;case"select":Mt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?jt(e,!!l,i,!1):a!=null&&jt(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}Rr(e,l,h,d),ys(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,C,l,a,null)}return;case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Il.length;l++)Mt(Il[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,P,l,a,null)}return;default:if(Go(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&jd(e,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function QA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,P=null,W=null;for(X in a){var et=a[X];if(a.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=et;default:l.hasOwnProperty(X)||Yt(e,i,X,null,l,et)}}for(var q in l){var X=l[q];if(et=a[q],l.hasOwnProperty(q)&&(X!=null||et!=null))switch(q){case"type":d=X;break;case"name":h=X;break;case"checked":P=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==et&&Yt(e,i,q,X,l,et)}}wr(e,v,T,C,P,W,d,h);return;case"select":X=v=T=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Yt(e,i,h,d,l,C)}i=T,a=v,l=X,q!=null?jt(e,!!a,q,!1):!!l!=!!a&&(i!=null?jt(e,!!a,i,!0):jt(e,!!a,a?[]:"",!1));return;case"textarea":X=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}vs(e,q,X);return;case"option":for(var dt in a)if(q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Yt(e,i,dt,null,l,q)}for(C in l)if(q=l[C],X=a[C],l.hasOwnProperty(C)&&q!==X&&(q!=null||X!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(e,i,C,q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)q=a[At],a.hasOwnProperty(At)&&q!=null&&!l.hasOwnProperty(At)&&Yt(e,i,At,null,l,q);for(P in l)if(q=l[P],X=a[P],l.hasOwnProperty(P)&&q!==X&&(q!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Yt(e,i,P,q,l,X)}return;default:if(Go(i)){for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!==void 0&&!l.hasOwnProperty(he)&&jd(e,i,he,void 0,l,q);for(W in l)q=l[W],X=a[W],!l.hasOwnProperty(W)||q===X||q===void 0&&X===void 0||jd(e,i,W,q,l,X);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&Yt(e,i,z,null,l,q);for(et in l)q=l[et],X=a[et],!l.hasOwnProperty(et)||q===X||q==null&&X==null||Yt(e,i,et,q,l,X)}var Hd=null,qd=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function V_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Fd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function YA(){var e=window.event;return e&&e.type==="popstate"?e===Gd?!1:(Gd=e,!0):(Gd=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(e){return L_.resolve(null).then(e).catch(ZA)}:k_;function ZA(e){setTimeout(function(){throw e})}function $d(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Ll(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ll(i)}function Kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Er])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=$n(e.nextSibling),e===null)break}return null}function tS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$n(e.nextSibling),e===null))return null;return e}function $n(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function U_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function B_(e,i,a){switch(i=Lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var kn=new Map,z_=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Qi=lt.d;lt.d={f:eS,r:nS,D:iS,C:rS,L:sS,m:aS,X:lS,S:oS,M:uS};function eS(){var e=Qi.f(),i=Nc();return e||i}function nS(e){var i=Ri(e);i!==null&&i.tag===5&&i.type==="form"?dy(i):Qi.r(e)}var Ja=typeof document>"u"?null:document;function j_(e,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=le(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),ie(i),l.head.appendChild(i)))}}function iS(e){Qi.D(e),j_("dns-prefetch",e,null)}function rS(e,i){Qi.C(e,i),j_("preconnect",e,i)}function sS(e,i,a){Qi.L(e,i,a);var l=Ja;if(l&&e&&i){var h='link[rel="preload"][as="'+le(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+le(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+le(a.imageSizes)+'"]')):h+='[href="'+le(e)+'"]';var d=h;switch(i){case"style":d=to(e);break;case"script":d=eo(e)}kn.has(d)||(e=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),je(i,"link",e),ie(i),l.head.appendChild(i)))}}function aS(e,i){Qi.m(e,i);var a=Ja;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+le(l)+'"][href="'+le(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(e)}if(!kn.has(d)&&(e=I({rel:"modulepreload",href:e},i),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),je(l,"link",e),ie(l),a.head.appendChild(l)}}}function oS(e,i,a){Qi.S(e,i,a);var l=Ja;if(l&&e){var h=br(l).hoistableStyles,d=to(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Nl(d)))T.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(d))&&Qd(e,a);var C=v=l.createElement("link");ie(C),je(C,"link",e),C._p=new Promise(function(P,W){C.onload=P,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lS(e,i){Qi.X(e,i);var a=Ja;if(a&&e){var l=br(a).hoistableScripts,h=eo(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=I({src:e,async:!0},i),(i=kn.get(h))&&Yd(e,i),d=a.createElement("script"),ie(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uS(e,i){Qi.M(e,i);var a=Ja;if(a&&e){var l=br(a).hoistableScripts,h=eo(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=I({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Yd(e,i),d=a.createElement("script"),ie(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(e,i,a,l){var h=(h=En.current)?Uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=br(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=to(a.href);var d=br(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||cS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=br(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function to(e){return'href="'+le(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function q_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),ie(i),e.head.appendChild(i))}function eo(e){return'[src="'+le(e)+'"]'}function Ol(e){return"script[async]"+e}function F_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+le(a.href)+'"]');if(l)return i.instance=l,ie(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ie(l),je(l,"style",h),Bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=to(a.href);var d=e.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,ie(d),d;l=q_(a),(h=kn.get(h))&&Qd(l,h),d=(e.ownerDocument||e).createElement("link"),ie(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,e),i.instance=d;case"script":return d=eo(a.src),(h=e.querySelector(Ol(d)))?(i.instance=h,ie(h),h):(l=a,(h=kn.get(d))&&(l=I({},a),Yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ie(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,e));return i.instance}function Bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var zc=null;function G_(e,i,a){if(zc===null){var l=new Map,h=zc=new Map;h.set(a,l)}else h=zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Er]||d[Oe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function $_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function hS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var xl=null;function fS(){}function dS(e,i,a){if(xl===null)throw Error(s(475));var l=xl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=to(a.href),d=e.querySelector(Nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=jc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ie(d);return}d=e.ownerDocument||e,a=q_(a),(h=kn.get(h))&&Qd(a,h),d=d.createElement("link"),ie(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=jc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function mS(){if(xl===null)throw Error(s(475));var e=xl;return e.stylesheets&&e.count===0&&Xd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Xd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function jc(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hc=null;function Xd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hc=new Map,i.forEach(pS,e),Hc=null,jc.call(e))}function pS(e,i){if(!(i.state.loading&4)){var a=Hc.get(e);if(a)var l=a.get(null);else{a=new Map,Hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ml={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function gS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Q_(e,i,a,l,h,d,v,T,C,P,W,et){return e=new gS(e,i,a,v,T,C,P,et),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),e.current=d,d.stateNode=e,i=If(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ld(d),e}function Y_(e){return e?(e=Ma,e):Ma}function X_(e,i,a,l,h,d){h=Y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(e,l,i),a!==null&&(rn(a,e,i),gl(a,e,i))}function W_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Wd(e,i){W_(e,i),(e=e.alternate)&&W_(e,i)}function Z_(e){if(e.tag===13){var i=Ir(e,67108864);i!==null&&rn(i,e,67108864),Wd(e,67108864)}}var qc=!0;function yS(e,i,a,l){var h=A.T;A.T=null;var d=lt.p;try{lt.p=2,Zd(e,i,a,l)}finally{lt.p=d,A.T=h}}function _S(e,i,a,l){var h=A.T;A.T=null;var d=lt.p;try{lt.p=8,Zd(e,i,a,l)}finally{lt.p=d,A.T=h}}function Zd(e,i,a,l){if(qc){var h=Jd(l);if(h===null)zd(e,i,l,Fc,a),tv(e,l);else if(ES(h,e,i,a,l))l.stopPropagation();else if(tv(e,l),i&4&&-1<vS.indexOf(e)){for(;h!==null;){var d=Ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Je(v);T.entanglements[1]|=C,v&=~C}fi(d),!(se&6)&&(Cc=an()+500,Cl(0))}}break;case 13:T=Ir(d,2),T!==null&&rn(T,d,2),Nc(),Wd(d,2)}if(d=Jd(l),d===null&&zd(e,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(e,i,l,null,a)}}function Jd(e){return e=Ta(e),tm(e)}var Fc=null;function tm(e){if(Fc=null,e=Hn(e),e!==null){var i=ft(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ft(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Fc=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Du()){case be:return 2;case Ne:return 8;case Si:case Nu:return 32;case Po:return 268435456;default:return 32}default:return 32}}var em=!1,qr=null,Fr=null,Gr=null,Vl=new Map,Pl=new Map,$r=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(e,i){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function kl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ri(i),i!==null&&Z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ES(e,i,a,l,h){switch(i){case"focusin":return qr=kl(qr,e,i,a,l,h),!0;case"dragenter":return Fr=kl(Fr,e,i,a,l,h),!0;case"mouseover":return Gr=kl(Gr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,kl(Vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,kl(Pl.get(d)||null,e,i,a,l,h)),!0}return!1}function ev(e){var i=Hn(e.target);if(i!==null){var a=ft(i);if(a!==null){if(i=a.tag,i===13){if(i=Ft(a),i!==null){e.blockedOn=i,vr(e.priority,function(){if(a.tag===13){var l=yn(),h=Ir(a,l);h!==null&&rn(h,a,l),Wd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Sn=l,a.target.dispatchEvent(l),Sn=null}else return i=Ri(a),i!==null&&Z_(i),e.blockedOn=a,!1;i.shift()}return!0}function nv(e,i,a){Gc(e)&&a.delete(i)}function TS(){em=!1,qr!==null&&Gc(qr)&&(qr=null),Fr!==null&&Gc(Fr)&&(Fr=null),Gr!==null&&Gc(Gr)&&(Gr=null),Vl.forEach(nv),Pl.forEach(nv)}function $c(e,i){e.blockedOn===i&&(e.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TS)))}var Kc=null;function iv(e){Kc!==e&&(Kc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Ri(a);d!==null&&(e.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ll(e){function i(C){return $c(C,e)}qr!==null&&$c(qr,e),Fr!==null&&$c(Fr,e),Gr!==null&&$c(Gr,e),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&$r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ae]||null;if(typeof d=="function")v||iv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ae]||null)T=v.formAction;else if(tm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),iv(a)}}}function nm(e){this._internalRoot=e}Qc.prototype.render=nm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();X_(a,l,e,i,null,null)},Qc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Xa(),X_(e.current,2,null,e,null,null),Nc(),i[wi]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Pu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,e),a===0&&ev(e)}};var rv=t.version;if(rv!=="19.0.0")throw Error(s(527,rv,"19.0.0"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(i),e=e!==null?pt(e):null,e=e===null?null:e.stateNode,e};var bS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{dr=Yc.inject(bS),Ge=Yc}catch{}}return Bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ty,d=by,v=Ay,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Q_(e,1,!1,null,null,a,l,h,d,v,T,null),e[wi]=i.current,Bd(e.nodeType===8?e.parentNode:e),new nm(i)},Bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ty,v=by,T=Ay,C=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=Q_(e,1,!0,i,a??null,l,h,d,v,T,C,P),i.context=Y_(null),a=i.current,l=yn(),h=Pr(l),h.callback=null,kr(a,h,l),i.current.lanes=l,de(i,l),fi(i),e[wi]=i.current,Bd(e),new Qc(i)},Bl.version="19.0.0",Bl}var mv;function MS(){if(mv)return sm.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=xS(),sm.exports}var VS=MS(),zl={},pv;function PS(){if(pv)return zl;pv=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=f,zl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,O){const k=new u,G=R.length;if(G<2)return k;const L=(O==null?void 0:O.decode)||E;let $=0;do{const Q=R.indexOf("=",$);if(Q===-1)break;const K=R.indexOf(";",$),it=K===-1?G:K;if(Q>it){$=R.lastIndexOf(";",Q-1)+1;continue}const st=m(R,$,Q),mt=p(R,Q,st),N=R.slice(st,mt);if(k[N]===void 0){let w=m(R,Q+1,it),A=p(R,it,w);const I=L(R.slice(w,A));k[N]=I}$=it+1}while($<G);return k}function m(R,O,k){do{const G=R.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<k);return k}function p(R,O,k){for(;O>k;){const G=R.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return k}function g(R,O,k){const G=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const L=G(O);if(!t.test(L))throw new TypeError(`argument val is invalid: ${O}`);let $=R+"="+L;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!S(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return zl}PS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gv="popstate";function kS(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=sa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Am("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:tu(u))}function s(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return US(t,n,s,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LS(){return Math.random().toString(36).substring(2,10)}function yv(r,t){return{usr:r.state,key:r.key,idx:t}}function Am(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?sa(t):t,state:n,key:t&&t.key||s||LS()}}function tu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function sa(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function US(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let L=E(),$=L==null?null:L-g;g=L,p&&p({action:m,location:G.location,delta:$})}function R(L,$){m="PUSH";let Q=Am(G.location,L,$);n&&n(Q,L),g=E()+1;let K=yv(Q,g),it=G.createHref(Q);try{f.pushState(K,"",it)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(it)}u&&p&&p({action:m,location:G.location,delta:1})}function O(L,$){m="REPLACE";let Q=Am(G.location,L,$);n&&n(Q,L),g=E();let K=yv(Q,g),it=G.createHref(Q);f.replaceState(K,"",it),u&&p&&p({action:m,location:G.location,delta:0})}function k(L){let $=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof L=="string"?L:tu(L);return Q=Q.replace(/ $/,"%20"),ee($,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,$)}let G={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(gv,S),p=L,()=>{o.removeEventListener(gv,S),p=null}},createHref(L){return t(o,L)},createURL:k,encodeLocation(L){let $=k(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:O,go(L){return f.go(L)}};return G}function W0(r,t,n="/"){return BS(r,t,n,!1)}function BS(r,t,n,s){let o=typeof t=="string"?sa(t):t,u=ss(o.pathname||"/",n);if(u==null)return null;let f=Z0(r);zS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=WS(u);m=YS(f[p],g,s)}return m}function Z0(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ee(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Z0(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:KS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of J0(u.path))o(u,f,p)}),t}function J0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=J0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function zS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:QS(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jS=/^:[\w-]+$/,HS=3,qS=2,FS=1,GS=10,$S=-2,_v=r=>r==="*";function KS(r,t){let n=r.split("/"),s=n.length;return n.some(_v)&&(s+=$S),t&&(s+=qS),n.filter(o=>!_v(o)).reduce((o,u)=>o+(jS.test(u)?HS:u===""?FS:GS),s)}function QS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function YS(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Ji([u,S.pathname]),pathnameBase:ew(Ji([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=Ji([u,S.pathnameBase]))}return f}function gh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=XS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},R)=>{if(E==="*"){let k=m[R]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=m[R];return S&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function XS(r,t=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function WS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ss(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function ZS(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?sa(r):r;return{pathname:n?n.startsWith("/")?n:JS(n,t):t,search:nw(s),hash:iw(o)}}function JS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tp(r){let t=tw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ep(r,t,n,s=!1){let o;typeof r=="string"?o=sa(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?t[S]:"/"}let p=ZS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),ew=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var sw=["GET",...tE];new Set(sw);var Ao=B.createContext(null);Ao.displayName="DataRouter";var Ph=B.createContext(null);Ph.displayName="DataRouterState";var eE=B.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var aw=B.createContext(new Map);aw.displayName="Fetchers";var ow=B.createContext(null);ow.displayName="Await";var Xn=B.createContext(null);Xn.displayName="Navigation";var du=B.createContext(null);du.displayName="Location";var Ti=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var np=B.createContext(null);np.displayName="RouteError";function lw(r,{relative:t}={}){ee(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Xn),{hash:o,pathname:u,search:f}=mu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return B.useContext(du)!=null}function or(){return ee(So(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(du).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(r){B.useContext(Xn).static||B.useLayoutEffect(r)}function wo(){let{isDataRoute:r}=B.useContext(Ti);return r?Tw():uw()}function uw(){ee(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Ao),{basename:t,navigator:n}=B.useContext(Xn),{matches:s}=B.useContext(Ti),{pathname:o}=or(),u=JSON.stringify(tp(s)),f=B.useRef(!1);return iE(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(zn(f.current,nE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ep(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ji([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}B.createContext(null);function mu(r,{relative:t}={}){let{matches:n}=B.useContext(Ti),{pathname:s}=or(),o=JSON.stringify(tp(n));return B.useMemo(()=>ep(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function cw(r,t){return rE(r,t)}function rE(r,t,n,s){var Q;ee(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(Xn),{matches:f}=B.useContext(Ti),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let K=S&&S.path||"";sE(g,!S||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=or(),O;if(t){let K=typeof t=="string"?sa(t):t;ee(E==="/"||((Q=K.pathname)==null?void 0:Q.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),O=K}else O=R;let k=O.pathname||"/",G=k;if(E!=="/"){let K=E.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:W0(r,{pathname:G});zn(S||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),zn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=pw(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return t&&$?B.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function hw(){let r=Ew(),t=rw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:o},n):null,f)}var fw=B.createElement(hw,null),dw=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?B.createElement(Ti.Provider,{value:this.props.routeContext},B.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mw({routeContext:r,match:t,children:n}){let s=B.useContext(Ao);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Ti.Provider,{value:r},n)}function pw(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,R=!1,O=null,k=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||fw,f&&(m<0&&E===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):m===E&&(R=!0,k=g.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),L=()=>{let $;return S?$=O:R?$=k:g.route.Component?$=B.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,B.createElement(mw,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?B.createElement(dw,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:L(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):L()},null)}function ip(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(r){let t=B.useContext(Ao);return ee(t,ip(r)),t}function yw(r){let t=B.useContext(Ph);return ee(t,ip(r)),t}function _w(r){let t=B.useContext(Ti);return ee(t,ip(r)),t}function rp(r){let t=_w(r),n=t.matches[t.matches.length-1];return ee(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function vw(){return rp("useRouteId")}function Ew(){var s;let r=B.useContext(np),t=yw("useRouteError"),n=rp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function Tw(){let{router:r}=gw("useNavigate"),t=rp("useNavigate"),n=B.useRef(!1);return iE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{zn(n.current,nE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var vv={};function sE(r,t,n){!t&&!vv[r]&&(vv[r]=!0,zn(!1,n))}B.memo(bw);function bw({routes:r,future:t,state:n}){return rE(r,void 0,n,t)}function Aw({to:r,replace:t,state:n,relative:s}){ee(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Xn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Ti),{pathname:f}=or(),m=wo(),p=ep(r,tp(u),f,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function ih(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ee(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=sa(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:R="default"}=n,O=B.useMemo(()=>{let k=ss(p,f);return k==null?null:{location:{pathname:k,search:g,hash:E,state:S,key:R},navigationType:s}},[f,p,g,E,S,R,s]);return zn(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(Xn.Provider,{value:m},B.createElement(du.Provider,{children:t,value:O}))}function ww({children:r,location:t}){return cw(Sm(r),t)}function Sm(r,t=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...t,o];if(s.type===B.Fragment){n.push.apply(n,Sm(s.props.children,u));return}ee(s.type===ih,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var rh="get",sh="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function Rw(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function Cw(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function Iw(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function Dw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Nw(r,t){return r.button===0&&(!t||t==="_self")&&!Dw(r)}var Xc=null;function Ow(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!xw.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):r}function Mw(r,t){let n,s,o,u,f;if(Cw(r)){let m=r.getAttribute("action");s=m?ss(m,t):null,n=r.getAttribute("method")||rh,o=cm(r.getAttribute("enctype"))||sh,u=new FormData(r)}else if(Rw(r)||Iw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ss(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||rh,o=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||sh,u=new FormData(m,r),!Ow()){let{name:g,type:E,value:S}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,S)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=sh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function sp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Vw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Vw(u,n);return f.links?f.links():[]}return[]}));return zw(s.flat(1).filter(Pw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ev(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Lw(r,t,{includeHydrateFallback:n}={}){return Uw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Uw(r){return[...new Set(r)]}function Bw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function zw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Bw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jw(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Hw(){let r=B.useContext(Ao);return sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qw(){let r=B.useContext(Ph);return sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ap=B.createContext(void 0);ap.displayName="FrameworkContext";function aE(){let r=B.useContext(ap);return sp(r,"You must render this element inside a <HydratedRouter> element"),r}function Fw(r,t){let n=B.useContext(ap),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=t,R=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=$=>{$.forEach(Q=>{f(Q.isIntersecting)})},L=new IntersectionObserver(G,{threshold:.5});return R.current&&L.observe(R.current),()=>{L.disconnect()}}},[r]),B.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:jl(m,O),onBlur:jl(p,k),onMouseEnter:jl(g,O),onMouseLeave:jl(E,k),onTouchStart:jl(S,O)}]:[!1,R,{}]}function jl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Gw({page:r,...t}){let{router:n}=Hw(),s=B.useMemo(()=>W0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(Kw,{page:r,matches:s,...t}):null}function $w(r){let{manifest:t,routeModules:n}=aE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return kw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Kw({page:r,matches:t,...n}){let s=or(),{manifest:o,routeModules:u}=aE(),{loaderData:f,matches:m}=qw(),p=B.useMemo(()=>Ev(r,t,m,o,s,"data"),[r,t,m,o,s]),g=B.useMemo(()=>Ev(r,t,m,o,s,"assets"),[r,t,m,o,s]),E=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,k=!1;if(t.forEach(L=>{var Q;let $=o.routes[L.route.id];!$||!$.hasLoader||(!p.some(K=>K.route.id===L.route.id)&&L.route.id in f&&((Q=u[L.route.id])!=null&&Q.shouldRevalidate)||$.hasClientLoader?k=!0:O.add(L.route.id))}),O.size===0)return[];let G=jw(r);return k&&O.size>0&&G.searchParams.set("_routes",t.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[G.pathname+G.search]},[f,s,o,p,t,r,u]),S=B.useMemo(()=>Lw(g,o),[g,o]),R=$w(g);return B.createElement(B.Fragment,null,E.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),R.map(({key:O,link:k})=>B.createElement("link",{key:O,...k})))}function Qw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.2.0")}catch{}function Yw({basename:r,children:t,window:n}){let s=B.useRef();s.current==null&&(s.current=kS({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(Sw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=B.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...R},O){let{basename:k}=B.useContext(Xn),G=typeof g=="string"&&lE.test(g),L,$=!1;if(typeof g=="string"&&G&&(L=g,oE))try{let A=new URL(window.location.href),I=g.startsWith("//")?new URL(A.protocol+g):new URL(g),x=ss(I.pathname,k);I.origin===A.origin&&x!=null?g=x+I.search+I.hash:$=!0}catch{zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=lw(g,{relative:o}),[K,it,st]=Fw(s,R),mt=Jw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function N(A){t&&t(A),A.defaultPrevented||mt(A)}let w=B.createElement("a",{...R,...st,href:L||Q,onClick:$||u?t:N,ref:Qw(O,it),target:p,"data-discover":!G&&n==="render"?"true":void 0});return K&&!G?B.createElement(B.Fragment,null,w,B.createElement(Gw,{page:Q})):w});Ys.displayName="Link";var Xw=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=mu(f,{relative:g.relative}),R=or(),O=B.useContext(Ph),{navigator:k,basename:G}=B.useContext(Xn),L=O!=null&&r1(S)&&m===!0,$=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,Q=R.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&G&&(K=ss(K,G)||K);const it=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let st=Q===$||!o&&Q.startsWith($)&&Q.charAt(it)==="/",mt=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),N={isActive:st,isPending:mt,isTransitioning:L},w=st?t:void 0,A;typeof s=="function"?A=s(N):A=[s,st?"active":null,mt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return B.createElement(Ys,{...g,"aria-current":w,className:A,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Xw.displayName="NavLink";var Ww=B.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...R},O)=>{let k=n1(),G=i1(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&lE.test(m),Q=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let it=K.nativeEvent.submitter,st=(it==null?void 0:it.getAttribute("formmethod"))||f;k(it||K.currentTarget,{fetcherKey:t,method:st,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:O,method:L,action:G,onSubmit:s?p:Q,...R,"data-discover":!$&&r==="render"?"true":void 0})});Ww.displayName="Form";function Zw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(r){let t=B.useContext(Ao);return ee(t,Zw(r)),t}function Jw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=wo(),p=or(),g=mu(r,{relative:u});return B.useCallback(E=>{if(Nw(E,t)){E.preventDefault();let S=n!==void 0?n:tu(p)===tu(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var t1=0,e1=()=>`__${String(++t1)}__`;function n1(){let{router:r}=uE("useSubmit"),{basename:t}=B.useContext(Xn),n=vw();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Mw(s,t);if(o.navigate===!1){let E=o.fetcherKey||e1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function i1(r,{relative:t}={}){let{basename:n}=B.useContext(Xn),s=B.useContext(Ti);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:t})},f=or();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),tu(u)}function r1(r,t={}){let n=B.useContext(eE);ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uE("useViewTransitionState"),o=mu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ss(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ss(n.nextLocation.pathname,s)||n.nextLocation.pathname;return gh(o.pathname,f)!=null||gh(o.pathname,u)!=null}new TextEncoder;const s1=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},a1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(R=64)),s.push(n[E],n[S],n[R],n[O])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(cE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):a1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new o1;const R=u<<2|m>>4;if(s.push(R),g!==64){const O=m<<4&240|g>>2;if(s.push(O),S!==64){const k=g<<6&192|S;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class o1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l1=function(r){const t=cE(r);return hE.encodeByteArray(t,!0)},yh=function(r){return l1(r).replace(/\./g,"")},fE=function(r){try{return hE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=()=>u1().__FIREBASE_DEFAULTS__,h1=()=>{if(typeof process>"u"||typeof Tv>"u")return;const r=Tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},f1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fE(r[1]);return t&&JSON.parse(t)},Lh=()=>{try{return s1()||c1()||h1()||f1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dE=r=>{var t,n;return(n=(t=Lh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},d1=r=>{const t=dE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},mE=()=>{var r;return(r=Lh())===null||r===void 0?void 0:r.config},pE=r=>{var t;return(t=Lh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[yh(JSON.stringify(n)),yh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function y1(){var r;const t=(r=Lh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function E1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T1(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function b1(){return!y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A1(){try{return typeof indexedDB=="object"}catch{return!1}}function S1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="FirebaseError";class lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=w1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?R1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function R1(r,t){return r.replace(C1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const C1=/\{\$([^}]+)}/g;function I1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ws(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(bv(u)&&bv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function bv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ql(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Fl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function D1(r,t){const n=new N1(r,t);return n.subscribe.bind(n)}class N1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");O1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new m1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V1(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M1(r){return r===Ks?void 0:r}function V1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const k1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},L1=Ot.INFO,U1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},B1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=U1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class op{constructor(t){this.name=t,this._logLevel=L1,this._logHandler=B1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?k1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const z1=(r,t)=>t.some(n=>r instanceof n);let Av,Sv;function j1(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H1(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,wm=new WeakMap,yE=new WeakMap,fm=new WeakMap,lp=new WeakMap;function q1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&gE.set(n,r)}).catch(()=>{}),lp.set(t,r),t}function F1(r){if(wm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,t)}let Rm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return wm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||yE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function G1(r){Rm=r(Rm)}function $1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(dm(this),t,...n);return yE.set(s,t.sort?t.sort():[t]),ts(s)}:H1().includes(r)?function(...t){return r.apply(dm(this),t),ts(gE.get(this))}:function(...t){return ts(r.apply(dm(this),t))}}function K1(r){return typeof r=="function"?$1(r):(r instanceof IDBTransaction&&F1(r),z1(r,j1())?new Proxy(r,Rm):r)}function ts(r){if(r instanceof IDBRequest)return q1(r);if(fm.has(r))return fm.get(r);const t=K1(r);return t!==r&&(fm.set(r,t),lp.set(t,r)),t}const dm=r=>lp.get(r);function Q1(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ts(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ts(f.result),p.oldVersion,p.newVersion,ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Y1=["get","getKey","getAll","getAllKeys","count"],X1=["put","add","delete","clear"],mm=new Map;function wv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=X1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Y1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return mm.set(t,u),u}G1(r=>({...r,get:(t,n,s)=>wv(t,n)||r.get(t,n,s),has:(t,n)=>!!wv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Z1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cm="@firebase/app",Rv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new op("@firebase/app"),J1="@firebase/app-compat",tR="@firebase/analytics-compat",eR="@firebase/analytics",nR="@firebase/app-check-compat",iR="@firebase/app-check",rR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",oR="@firebase/data-connect",lR="@firebase/database-compat",uR="@firebase/functions",cR="@firebase/functions-compat",hR="@firebase/installations",fR="@firebase/installations-compat",dR="@firebase/messaging",mR="@firebase/messaging-compat",pR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",_R="@firebase/remote-config-compat",vR="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",bR="@firebase/vertexai",AR="@firebase/firestore-compat",SR="firebase",wR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",RR={[Cm]:"fire-core",[J1]:"fire-core-compat",[eR]:"fire-analytics",[tR]:"fire-analytics-compat",[iR]:"fire-app-check",[nR]:"fire-app-check-compat",[rR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[oR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[uR]:"fire-fn",[cR]:"fire-fn-compat",[hR]:"fire-iid",[fR]:"fire-iid-compat",[dR]:"fire-fcm",[mR]:"fire-fcm-compat",[pR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[_R]:"fire-rc-compat",[vR]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[AR]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[SR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,CR=new Map,Dm=new Map;function Cv(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const t=r.name;if(Dm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;Dm.set(t,r);for(const n of _h.values())Cv(n,r);for(const n of CR.values())Cv(n,r);return!0}function up(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new pu("app","Firebase",IR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=wR;function _E(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Im,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=mE()),!n)throw es.create("no-options");const u=_h.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new P1(o);for(const p of Dm.values())f.addComponent(p);const m=new DR(n,s,f);return _h.set(o,m),m}function vE(r=Im){const t=_h.get(r);if(!t&&r===Im&&mE())return _E();if(!t)throw es.create("no-app",{appName:r});return t}function ns(r,t,n){var s;let o=(s=RR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}po(new Zs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",OR=1,eu="firebase-heartbeat-store";let pm=null;function EE(){return pm||(pm=Q1(NR,OR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),pm}async function xR(r){try{const n=(await EE()).transaction(eu),s=await n.objectStore(eu).get(TE(r));return await n.done,s}catch(t){if(t instanceof lr)nr.warn(t.message);else{const n=es.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});nr.warn(n.message)}}}async function Iv(r,t){try{const s=(await EE()).transaction(eu,"readwrite");await s.objectStore(eu).put(t,TE(r)),await s.done}catch(n){if(n instanceof lr)nr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function TE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1024,VR=30;class PR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Dv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>VR){const f=UR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dv(),{heartbeatsToSend:s,unsentEntries:o}=kR(this._heartbeatsCache.heartbeats),u=yh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function kR(r,t=MR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Nv(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function UR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(r){po(new Zs("platform-logger",t=>new W1(t),"PRIVATE")),po(new Zs("heartbeat",t=>new PR(t),"PRIVATE")),ns(Cm,Rv,r),ns(Cm,Rv,"esm2017"),ns("fire-js","")}BR("");var zR="firebase",jR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(zR,jR,"app");function cp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=bE,AE=new pu("auth","Firebase",bE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new op("@firebase/auth");function qR(r,...t){vh.logLevel<=Ot.WARN&&vh.warn(`Auth (${Ro}): ${r}`,...t)}function ah(r,...t){vh.logLevel<=Ot.ERROR&&vh.error(`Auth (${Ro}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...t){throw hp(r,...t)}function pi(r,...t){return hp(r,...t)}function SE(r,t,n){const s=Object.assign(Object.assign({},HR()),{[t]:n});return new pu("auth","Firebase",s).create(t,{appName:r.name})}function tr(r){return SE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return AE.create(r,...t)}function Et(r,t,...n){if(!r)throw hp(t,...n)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ah(t),new Error(t)}function ir(r,t){r||Xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function FR(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||v1()||"connection"in navigator)?navigator.onLine:!0}function $R(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=g1()||E1()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,t){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new yu(3e4,6e4);function ur(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function cr(r,t,n,s,o={}){return RE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return _1()||(g.referrerPolicy="no-referrer"),wE.fetch()(CE(r,r.config.apiHost,n,m),g)})}async function RE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},KR),t);try{const o=new XR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw SE(r,E,g);Qn(r,E)}}catch(o){if(o instanceof lr)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function _u(r,t,n,s,o={}){const u=await cr(r,t,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function CE(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?fp(r.config,o):`${r.config.apiScheme}://${o}`}function YR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),QR.get())})}}function Wc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,t,s);return o.customData._tokenResponse=n,o}function xv(r){return r!==void 0&&r.enterprise!==void 0}class WR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return YR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(r,t){return cr(r,"GET","/v2/recaptchaConfig",ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(r,t){return cr(r,"POST","/v1/accounts:delete",t)}async function IE(r,t){return cr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tC(r,t=!1){const n=cn(r),s=await n.getIdToken(t),o=dp(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(gm(o.auth_time)),issuedAtTime:Yl(gm(o.iat)),expirationTime:Yl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function dp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=fE(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mv(r){const t=dp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof lr&&eC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await nu(r,IE(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?DE(u.providerUserInfo):[],m=rC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function iC(r){const t=cn(r);await Eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function DE(r){return r.map(t=>{var{providerId:n}=t,s=cp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,t){const n=await RE(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=CE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",wE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(r,t){return cr(r,"POST","/v2/accounts:revokeToken",ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Mv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new co;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=cp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await nu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tC(this,t)}reload(){return iC(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await nu(this,JR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:it,isAnonymous:st,providerData:mt,stsTokenManager:N}=n;Et(K&&N,t,"internal-error");const w=co.fromJSON(this.name,N);Et(typeof K=="string",t,"internal-error"),Qr(S,t.name),Qr(R,t.name),Et(typeof it=="boolean",t,"internal-error"),Et(typeof st=="boolean",t,"internal-error"),Qr(O,t.name),Qr(k,t.name),Qr(G,t.name),Qr(L,t.name),Qr($,t.name),Qr(Q,t.name);const A=new Wi({uid:K,auth:t,email:R,emailVerified:it,displayName:S,isAnonymous:st,photoURL:k,phoneNumber:O,tenantId:G,stsTokenManager:w,createdAt:$,lastLoginAt:Q});return mt&&Array.isArray(mt)&&(A.providerData=mt.map(I=>Object.assign({},I))),L&&(A._redirectEventId=L),A}static async _fromIdTokenResponse(t,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new Wi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function Zi(r){ir(r instanceof Function,"Expected a class definition");let t=Vv.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Vv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}NE.type="NONE";const Pv=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r,t,n){return`firebase:${r}:${t}:${n}`}class ho{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Wi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ho(Zi(Pv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(Pv);const f=oh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const S=Wi._fromJSON(t,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kE(t))return"Blackberry";if(LE(t))return"Webos";if(xE(t))return"Safari";if((t.includes("chrome/")||ME(t))&&!t.includes("edge/"))return"Chrome";if(PE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function OE(r=We()){return/firefox\//i.test(r)}function xE(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ME(r=We()){return/crios\//i.test(r)}function VE(r=We()){return/iemobile/i.test(r)}function PE(r=We()){return/android/i.test(r)}function kE(r=We()){return/blackberry/i.test(r)}function LE(r=We()){return/webos/i.test(r)}function mp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oC(r=We()){var t;return mp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function lC(){return T1()&&document.documentMode===10}function UE(r=We()){return mp(r)||PE(r)||LE(r)||kE(r)||/windows phone/i.test(r)||VE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,t=[]){let n;switch(r){case"Browser":n=kv(We());break;case"Worker":n=`${kv(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,t={}){return cr(r,"GET","/v2/passwordPolicy",ur(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=6;class fC{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:hC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ho.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await IE(this,{idToken:t}),s=await Wi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Eh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$R()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(tr(this));const n=t?cn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cC(this),n=new fC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&qR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fs(r){return cn(r)}class Lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=D1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mC(r){Uh=r}function zE(r){return Uh.loadJS(r)}function pC(){return Uh.recaptchaEnterpriseScript}function gC(){return Uh.gapiScript}function yC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _C{constructor(){this.enterprise=new vC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class vC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const EC="recaptcha-enterprise",jE="NO_RECAPTCHA";class TC{constructor(t){this.type=EC,this.auth=fs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{ZR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new WR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(jE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _C().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&xv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pC();p.length!==0&&(p+=m),zE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Uv(r,t,n,s=!1,o=!1){const u=new TC(r);let f;if(o)f=jE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Th(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Uv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Uv(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r,t){const n=up(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,t??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:t})}function AC(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function SC(r,t,n){const s=fs(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=HE(t),{host:f,port:m}=wC(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Ws(g,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,RC()}function HE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wC(r){const t=HE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bv(f)}}}function Bv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function RC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,n){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function CC(r,t){return cr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,t){return _u(r,"POST","/v1/accounts:signInWithPassword",ur(r,t))}async function DC(r,t){return cr(r,"POST","/v1/accounts:sendOobCode",ur(r,t))}async function NC(r,t){return DC(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,t){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,t))}async function xC(r,t){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends pp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new iu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new iu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(t,n,"signInWithPassword",IC);case"emailLink":return OC(t,{email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(t,s,"signUpPassword",CC);case"emailLink":return xC(t,{idToken:n,email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,t){return _u(r,"POST","/v1/accounts:signInWithIdp",ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="http://localhost";class Js extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=cp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return fo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,fo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fo(t,n)}buildRequest(){const t={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PC(r){const t=ql(Fl(r)).link,n=t?ql(Fl(t)).deep_link_id:null,s=ql(Fl(r)).deep_link_id;return(s?ql(Fl(s)).link:null)||s||n||t||r}class gp{constructor(t){var n,s,o,u,f,m;const p=ql(Fl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=VC((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=PC(t);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(t,n){return iu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=gp.parseLink(n);return Et(s,"argument-error"),iu._fromEmailAndCode(t,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends qE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends vu{constructor(){super("facebook.com")}static credential(t){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends vu{constructor(){super("github.com")}static credential(t){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends vu{constructor(){super("twitter.com")}static credential(t,n){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,t){return _u(r,"POST","/v1/accounts:signUp",ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Wi._fromIdTokenResponse(t,s,o),f=zv(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=zv(s);return new ta({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends lr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new bh(t,n,s,o)}}function FE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,t,s):u})}async function LC(r,t,n=!1){const s=await nu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ta._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(r,t,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await nu(r,FE(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=dp(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),ta._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(r,t,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s="signIn",o=await FE(r,s,t),u=await ta._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function BC(r,t){return GE(fs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(r){const t=fs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zC(r,t,n){const s=fs(r);await Th(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",NC)}async function jC(r,t,n){if(Un(r.app))return Promise.reject(tr(r));const s=fs(r),f=await Th(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$E(r),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function HC(r,t,n){return Un(r.app)?Promise.reject(tr(r)):BC(cn(r),Co.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$E(r),s})}function qC(r,t,n,s){return cn(r).onIdTokenChanged(t,n,s)}function FC(r,t,n){return cn(r).beforeAuthStateChanged(t,n)}function GC(r,t,n,s){return cn(r).onAuthStateChanged(t,n,s)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1e3,KC=10;class QE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);lC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QE.type="LOCAL";const QC=QE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}YE.type="SESSION";const XE=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Bh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await YC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=yp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function WC(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function ZC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function tI(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firebaseLocalStorageDb",eI=1,Sh="firebaseLocalStorage",JE="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,t){return r.transaction([Sh],t?"readwrite":"readonly").objectStore(Sh)}function nI(){const r=indexedDB.deleteDatabase(ZE);return new Eu(r).toPromise()}function xm(){const r=indexedDB.open(ZE,eI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:JE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?t(s):(s.close(),await nI(),t(await xm()))})})}async function jv(r,t,n){const s=zh(r,!0).put({[JE]:t,value:n});return new Eu(s).toPromise()}async function iI(r,t){const n=zh(r,!1).get(t),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function Hv(r,t){const n=zh(r,!0).delete(t);return new Eu(n).toPromise()}const rI=800,sI=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>sI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(tI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xm();return await jv(t,Ah,"1"),await Hv(t,Ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>iI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const aI=tT;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(r,t){return t?Zi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends pp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lI(r){return GE(r.auth,new _p(r),r.bypassAuthState)}function uI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),UC(n,new _p(r),r.bypassAuthState)}async function cI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),LC(n,new _p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:Qn(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new yu(2e3,1e4);class uo extends eT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hI.get())};t()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="pendingRedirect",lh=new Map;class dI extends eT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=lh.get(this.auth._key());if(!t){try{const s=await mI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}lh.set(this.auth._key(),t)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mI(r,t){const n=yI(t),s=gI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function pI(r,t){lh.set(r._key(),t)}function gI(r){return Zi(r._redirectPersistence)}function yI(r){return oh(fI,r.config.apiKey,r.name)}async function _I(r,t,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s=fs(r),o=oI(s,t),f=await new dI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=10*60*1e3;class EI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!nT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vI&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(t))}saveEventToCache(t){this.cachedEventUids.add(qv(t)),this.lastProcessedEventTime=Date.now()}}function qv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function nT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function TI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,t={}){return cr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SI=/^https?/;async function wI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await bI(r);for(const n of t)try{if(RI(n))return}catch{}Qn(r,"unauthorized-domain")}function RI(r){const t=Nm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SI.test(n))return!1;if(AI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new yu(3e4,6e4);function Fv(){const r=gi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function II(r){return new Promise((t,n)=>{var s,o,u;function f(){Fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fv(),n(pi(r,"network-request-failed"))},timeout:CI.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=yC("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(r,"network-request-failed"))},zE(`${gC()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw uh=null,t})}let uh=null;function DI(r){return uh=uh||II(r),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new yu(5e3,15e3),OI="__/auth/iframe",xI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PI(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?fp(t,xI):`https://${r.config.authDomain}/${OI}`,s={apiKey:t.apiKey,appName:r.name,v:Ro},o=VI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function kI(r){const t=await DI(r),n=gi().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:PI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},NI.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UI=500,BI=600,zI="_blank",jI="http://localhost";class Gv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,t,n,s=UI,o=BI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},LI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=We().toLowerCase();n&&(m=ME(g)?zI:n),OE(g)&&(t=t||jI,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[O,k])=>`${R}${O}=${k},`,"");if(oC(g)&&m!=="_self")return qI(t||"",m),new Gv(null);const S=window.open(t||"",m,E);Et(S,r,"popup-blocked");try{S.focus()}catch{}return new Gv(S)}function qI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__/auth/handler",GI="emulator/auth/handler",$I=encodeURIComponent("fac");async function $v(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(t instanceof qE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",I1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof vu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${$I}=${encodeURIComponent(p)}`:"";return`${KI(r)}?${gu(m).slice(1)}${g}`}function KI({config:r}){return r.emulator?fp(r,GI):`https://${r.authDomain}/${FI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XE,this._completeRedirectFn=_I,this._overrideRedirectResult=pI}async _openPopup(t,n,s,o){var u;ir((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $v(t,n,s,Nm(),o);return HI(t,f,yp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await $v(t,n,s,Nm(),o);return WC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await kI(t),s=new EI(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ym,{type:ym},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];f!==void 0&&n(!!f),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UE()||xE()||mp()}}const YI=QI;var Kv="@firebase/auth",Qv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZI(r){po(new Zs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(r)},g=new dC(s,o,u,p);return AC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),po(new Zs("auth-internal",t=>{const n=fs(t.getProvider("auth").getImmediate());return(s=>new XI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(Kv,Qv,WI(r)),ns(Kv,Qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=5*60,t2=pE("authIdTokenMaxAge")||JI;let Yv=null;const e2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>t2)return;const o=n==null?void 0:n.token;Yv!==o&&(Yv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function n2(r=vE()){const t=up(r,"auth");if(t.isInitialized())return t.getImmediate();const n=bC(r,{popupRedirectResolver:YI,persistence:[aI,QC,XE]}),s=pE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=e2(u.toString());FC(n,f,()=>f(n.currentUser)),qC(n,m=>f(m))}}const o=dE("auth");return o&&SC(n,`http://${o}`),n}function i2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}mC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",i2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZI("Browser");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,iT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function A(){}A.prototype=w.prototype,N.D=w.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(I,x,U){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return w.prototype[x].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,A){A||(A=0);var I=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)I[x]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(x=0;16>x;++x)I[x]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=N.g[0],A=N.g[1],x=N.g[2];var U=N.g[3],D=w+(U^A&(x^U))+I[0]+3614090360&4294967295;w=A+(D<<7&4294967295|D>>>25),D=U+(x^w&(A^x))+I[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(A^U&(w^A))+I[2]+606105819&4294967295,x=U+(D<<17&4294967295|D>>>15),D=A+(w^x&(U^w))+I[3]+3250441966&4294967295,A=x+(D<<22&4294967295|D>>>10),D=w+(U^A&(x^U))+I[4]+4118548399&4294967295,w=A+(D<<7&4294967295|D>>>25),D=U+(x^w&(A^x))+I[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(A^U&(w^A))+I[6]+2821735955&4294967295,x=U+(D<<17&4294967295|D>>>15),D=A+(w^x&(U^w))+I[7]+4249261313&4294967295,A=x+(D<<22&4294967295|D>>>10),D=w+(U^A&(x^U))+I[8]+1770035416&4294967295,w=A+(D<<7&4294967295|D>>>25),D=U+(x^w&(A^x))+I[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(A^U&(w^A))+I[10]+4294925233&4294967295,x=U+(D<<17&4294967295|D>>>15),D=A+(w^x&(U^w))+I[11]+2304563134&4294967295,A=x+(D<<22&4294967295|D>>>10),D=w+(U^A&(x^U))+I[12]+1804603682&4294967295,w=A+(D<<7&4294967295|D>>>25),D=U+(x^w&(A^x))+I[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(A^U&(w^A))+I[14]+2792965006&4294967295,x=U+(D<<17&4294967295|D>>>15),D=A+(w^x&(U^w))+I[15]+1236535329&4294967295,A=x+(D<<22&4294967295|D>>>10),D=w+(x^U&(A^x))+I[1]+4129170786&4294967295,w=A+(D<<5&4294967295|D>>>27),D=U+(A^x&(w^A))+I[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^A&(U^w))+I[11]+643717713&4294967295,x=U+(D<<14&4294967295|D>>>18),D=A+(U^w&(x^U))+I[0]+3921069994&4294967295,A=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(A^x))+I[5]+3593408605&4294967295,w=A+(D<<5&4294967295|D>>>27),D=U+(A^x&(w^A))+I[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^A&(U^w))+I[15]+3634488961&4294967295,x=U+(D<<14&4294967295|D>>>18),D=A+(U^w&(x^U))+I[4]+3889429448&4294967295,A=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(A^x))+I[9]+568446438&4294967295,w=A+(D<<5&4294967295|D>>>27),D=U+(A^x&(w^A))+I[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^A&(U^w))+I[3]+4107603335&4294967295,x=U+(D<<14&4294967295|D>>>18),D=A+(U^w&(x^U))+I[8]+1163531501&4294967295,A=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(A^x))+I[13]+2850285829&4294967295,w=A+(D<<5&4294967295|D>>>27),D=U+(A^x&(w^A))+I[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^A&(U^w))+I[7]+1735328473&4294967295,x=U+(D<<14&4294967295|D>>>18),D=A+(U^w&(x^U))+I[12]+2368359562&4294967295,A=x+(D<<20&4294967295|D>>>12),D=w+(A^x^U)+I[5]+4294588738&4294967295,w=A+(D<<4&4294967295|D>>>28),D=U+(w^A^x)+I[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^A)+I[11]+1839030562&4294967295,x=U+(D<<16&4294967295|D>>>16),D=A+(x^U^w)+I[14]+4259657740&4294967295,A=x+(D<<23&4294967295|D>>>9),D=w+(A^x^U)+I[1]+2763975236&4294967295,w=A+(D<<4&4294967295|D>>>28),D=U+(w^A^x)+I[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^A)+I[7]+4139469664&4294967295,x=U+(D<<16&4294967295|D>>>16),D=A+(x^U^w)+I[10]+3200236656&4294967295,A=x+(D<<23&4294967295|D>>>9),D=w+(A^x^U)+I[13]+681279174&4294967295,w=A+(D<<4&4294967295|D>>>28),D=U+(w^A^x)+I[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^A)+I[3]+3572445317&4294967295,x=U+(D<<16&4294967295|D>>>16),D=A+(x^U^w)+I[6]+76029189&4294967295,A=x+(D<<23&4294967295|D>>>9),D=w+(A^x^U)+I[9]+3654602809&4294967295,w=A+(D<<4&4294967295|D>>>28),D=U+(w^A^x)+I[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^A)+I[15]+530742520&4294967295,x=U+(D<<16&4294967295|D>>>16),D=A+(x^U^w)+I[2]+3299628645&4294967295,A=x+(D<<23&4294967295|D>>>9),D=w+(x^(A|~U))+I[0]+4096336452&4294967295,w=A+(D<<6&4294967295|D>>>26),D=U+(A^(w|~x))+I[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~A))+I[14]+2878612391&4294967295,x=U+(D<<15&4294967295|D>>>17),D=A+(U^(x|~w))+I[5]+4237533241&4294967295,A=x+(D<<21&4294967295|D>>>11),D=w+(x^(A|~U))+I[12]+1700485571&4294967295,w=A+(D<<6&4294967295|D>>>26),D=U+(A^(w|~x))+I[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~A))+I[10]+4293915773&4294967295,x=U+(D<<15&4294967295|D>>>17),D=A+(U^(x|~w))+I[1]+2240044497&4294967295,A=x+(D<<21&4294967295|D>>>11),D=w+(x^(A|~U))+I[8]+1873313359&4294967295,w=A+(D<<6&4294967295|D>>>26),D=U+(A^(w|~x))+I[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~A))+I[6]+2734768916&4294967295,x=U+(D<<15&4294967295|D>>>17),D=A+(U^(x|~w))+I[13]+1309151649&4294967295,A=x+(D<<21&4294967295|D>>>11),D=w+(x^(A|~U))+I[4]+4149444226&4294967295,w=A+(D<<6&4294967295|D>>>26),D=U+(A^(w|~x))+I[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~A))+I[2]+718787259&4294967295,x=U+(D<<15&4294967295|D>>>17),D=A+(U^(x|~w))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var A=w-this.blockSize,I=this.B,x=this.h,U=0;U<w;){if(x==0)for(;U<=A;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(I[x++]=N.charCodeAt(U++),x==this.blockSize){o(this,I),x=0;break}}else for(;U<w;)if(I[x++]=N[U++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var A=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.u(N),N=Array(16),w=A=0;4>w;++w)for(var I=0;32>I;I+=8)N[A++]=this.g[w]>>>I&255;return N};function u(N,w){var A=m;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=w(N)}function f(N,w){this.h=w;for(var A=[],I=!0,x=N.length-1;0<=x;x--){var U=N[x]|0;I&&U==w||(A[x]=U,I=!1)}this.g=A}var m={};function p(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return L(g(-N));for(var w=[],A=1,I=0;N>=A;I++)w[I]=N/A|0,A*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return L(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(w,8)),I=S,x=0;x<N.length;x+=8){var U=Math.min(8,N.length-x),D=parseInt(N.substring(x,x+U),w);8>U?(U=g(Math.pow(w,U)),I=I.j(U).add(g(D))):(I=I.j(A),I=I.add(g(D)))}return I}var S=p(0),R=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-L(this).m();for(var N=0,w=1,A=0;A<this.g.length;A++){var I=this.i(A);N+=(0<=I?I:4294967296+I)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(G(this))return"-"+L(this).toString(N);for(var w=g(Math.pow(N,6)),A=this,I="";;){var x=it(A,w).g;A=$(A,x.j(w));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=x,k(A))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function G(N){return N.h==-1}r.l=function(N){return N=$(this,N),G(N)?-1:k(N)?0:1};function L(N){for(var w=N.g.length,A=[],I=0;I<w;I++)A[I]=~N.g[I];return new f(A,~N.h).add(R)}r.abs=function(){return G(this)?L(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0,x=0;x<=w;x++){var U=I+(this.i(x)&65535)+(N.i(x)&65535),D=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);I=D>>>16,U&=65535,D&=65535,A[x]=D<<16|U}return new f(A,A[A.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(L(w))}r.j=function(N){if(k(this)||k(N))return S;if(G(this))return G(N)?L(this).j(L(N)):L(L(this).j(N));if(G(N))return L(this.j(L(N)));if(0>this.l(O)&&0>N.l(O))return g(this.m()*N.m());for(var w=this.g.length+N.g.length,A=[],I=0;I<2*w;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<N.g.length;x++){var U=this.i(I)>>>16,D=this.i(I)&65535,fe=N.i(x)>>>16,ne=N.i(x)&65535;A[2*I+2*x]+=D*ne,Q(A,2*I+2*x),A[2*I+2*x+1]+=U*ne,Q(A,2*I+2*x+1),A[2*I+2*x+1]+=D*fe,Q(A,2*I+2*x+1),A[2*I+2*x+2]+=U*fe,Q(A,2*I+2*x+2)}for(I=0;I<w;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=w;I<2*w;I++)A[I]=0;return new f(A,0)};function Q(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function K(N,w){this.g=N,this.h=w}function it(N,w){if(k(w))throw Error("division by zero");if(k(N))return new K(S,S);if(G(N))return w=it(L(N),w),new K(L(w.g),L(w.h));if(G(w))return w=it(N,L(w)),new K(L(w.g),w.h);if(30<N.g.length){if(G(N)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var A=R,I=w;0>=I.l(N);)A=st(A),I=st(I);var x=mt(A,1),U=mt(I,1);for(I=mt(I,2),A=mt(A,2);!k(I);){var D=U.add(I);0>=D.l(N)&&(x=x.add(A),U=D),I=mt(I,1),A=mt(A,1)}return w=$(N,x.j(w)),new K(x,w)}for(x=S;0<=N.l(w);){for(A=Math.max(1,Math.floor(N.m()/w.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=g(A),D=U.j(w);G(D)||0<D.l(N);)A-=I,U=g(A),D=U.j(w);k(U)&&(U=R),x=x.add(U),N=$(N,D)}return new K(x,N)}r.A=function(N){return it(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)&N.i(I);return new f(A,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)|N.i(I);return new f(A,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)^N.i(I);return new f(A,this.h^N.h)};function st(N){for(var w=N.g.length+1,A=[],I=0;I<w;I++)A[I]=N.i(I)<<1|N.i(I-1)>>>31;return new f(A,N.h)}function mt(N,w){var A=w>>5;w%=32;for(var I=N.g.length-A,x=[],U=0;U<I;U++)x[U]=0<w?N.i(U+A)>>>w|N.i(U+A+1)<<32-w:N.i(U+A);return new f(x,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,is=f}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rT,Gl,sT,ch,Mm,aT,oT,lT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break t;_=_[j]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,Y){for(var rt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)rt[kt-2]=arguments[kt];return y.prototype[j].apply(b,rt)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,Y=b.length||0;c.length=j+Y;for(let rt=0;rt<Y;rt++)c[j+rt]=b[rt]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var st=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function mt(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let Y=0;Y<A.length;Y++)_=A[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ft;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const b=ne.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new $(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,ft=!1,Ft=new fe,M=()=>{const c=m.Promise.resolve(void 0);_t=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ct(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{it(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}k(Ct,ot);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),zt=0;function oe(c,y,_,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=j,this.key=++zt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ze(c){this.src=c,this.g={},this.h=0}Ze.prototype.add=function(c,y,_,b,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var rt=En(c,y,b,j);return-1<rt?(y=c[rt],_||(y.fa=!1)):(y=new oe(y,this.src,Y,!!b,j),y.fa=_,c.push(y)),y};function bi(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(b,j,1),Y&&(Kt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function En(c,y,_,b){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return j}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function Ai(c,y,_,b,j){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ai(c,y[Y],_,b,j);return null}return _=Du(_),c&&c[ge]?c.K(y,_,g(b)?!!b.capture:!1,j):Mo(c,y,_,!1,b,j)}function Mo(c,y,_,b,j,Y){if(!y)throw Error("Invalid event type");var rt=g(j)?!!j.capture:!!j,kt=Vo(c);if(kt||(c[hr]=kt=new Ze(c)),_=kt.add(y,_,b,rt,Y),_.proxy)return _;if(b=fa(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)lt||(j=rt),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(ma(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fa(){function c(_){return y.call(c.src,c.listener,_)}const y=sf;return c}function da(c,y,_,b,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)da(c,y[Y],_,b,j);else b=g(b)?!!b.capture:!!b,_=Du(_),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=En(Y,_,b,j),-1<_&&(Kt(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Vo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=En(y,_,b,j)),(_=-1<c?y[c]:null)&&ds(_))}function ds(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])bi(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ma(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Vo(y))?(bi(_,c),_.h==0&&(_.src=null,y[hr]=null)):Kt(c)}}}function ma(c){return c in fr?fr[c]:fr[c]="on"+c}function sf(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ds(c),c=_.call(b,y)}return c}function Vo(c){return c=c[hr],c instanceof Ze?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function be(){pt.call(this),this.i=new Ze(this),this.M=this,this.F=null}k(be,pt),be.prototype[ge]=!0,be.prototype.removeEventListener=function(c,y,_,b){da(this,c,y,_,b)};function Ne(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var j=y;y=new ot(b,c),I(y,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var rt=y.g=_[Y];j=Si(rt,b,!0,y)&&j}if(rt=y.g=c,j=Si(rt,b,!0,y)&&j,j=Si(rt,b,!1,y)&&j,_)for(Y=0;Y<_.length;Y++)rt=y.g=_[Y],j=Si(rt,b,!1,y)&&j}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Kt(_[b]);delete c.g[y],c.h--}}this.F=null},be.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},be.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Si(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Y=0;Y<y.length;++Y){var rt=y[Y];if(rt&&!rt.da&&rt.capture==_){var kt=rt.listener,Se=rt.ha||rt.src;rt.fa&&bi(c.i,rt),j=kt.call(Se,b)!==!1&&j}}return j&&!b.defaultPrevented}function Nu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Po(c){c.g=Nu(()=>{c.g=null,c.i&&(c.i=!1,Po(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class af extends pt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){pt.call(this),this.h=c,this.g={}}k(ms,pt);var dr=[];function Ge(c){mt(c.g,function(y,_){this.g.hasOwnProperty(_)&&ds(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),Ge(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=m.JSON.stringify,Wn=m.JSON.parse,Je=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function Ou(c){return c.h||(c.h=c.i())}function xu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ot.call(this,"d")}k(mr,ot);function jn(){ot.call(this,"c")}k(jn,ot);var Tn={},pr=null;function pa(){return pr=pr||new be}Tn.La="serverreachability";function Uo(c){ot.call(this,Tn.La,c)}k(Uo,ot);function gr(c){const y=pa();Ne(y,new Uo(y))}Tn.STAT_EVENT="statevent";function ga(c,y){ot.call(this,Tn.STAT_EVENT,c),this.stat=y}k(ga,ot);function de(c){const y=pa();Ne(y,new ga(y,c))}Tn.Ma="timingevent";function Mu(c,y){ot.call(this,Tn.Ma,c),this.size=y}k(Mu,ot);function yr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Vu(c,y,_,b,j,Y){c.info(function(){if(c.g)if(Y)for(var rt="",kt=Y.split("&"),Se=0;Se<kt.length;Se++){var Lt=kt[Se].split("=");if(1<Lt.length){var Me=Lt[0];Lt=Lt[1];var we=Me.split("_");rt=2<=we.length&&we[1]=="type"?rt+(Me+"="+Lt+"&"):rt+(Me+"=redacted&")}}else rt=null;else rt=Y;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+_+`
`+rt})}function Pu(c,y,_,b,j,Y,rt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+rt})}function vr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oe(c,_)+(b?" "+b:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function Oe(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var rt=1;rt<j.length;rt++)j[rt]=""}}}}return ko(_)}catch{return y}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function ya(){}k(ya,Lo),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},ps=new ya;function ti(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bo}function Bo(){this.i=null,this.g="",this.h=!1}var Er={},gs={};function Hn(c,y,_){c.L=1,c.v=vs(le(y)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),ie(c),c.A=le(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Di(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Bo,c.g=Yu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new af(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(dr[0]=j.toString()),j=dr);for(var Y=0;Y<j.length;Y++){var rt=Ai(_,j[Y],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),gr(),Vu(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)t:{const we=Rn(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||we!=4||y==7||(y==8||0>=Mi?gr(3):gr(2)),_a(this);var _=this.g.Z();this.X=_;e:if(Tr(this)){var b=ju(this.g);c="";var j=b.length,Y=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),hn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==j-1)});b.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Pu(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Se=this.g;if((kt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(kt)){var Lt=kt;break e}}Lt=null}if(_=Lt)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,_);else{this.o=!1,this.s=3,de(12),on(this),hn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=br(this,rt),Ue==gs){we==4&&(this.s=4,de(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Er){this.s=4,de(15),vr(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,Ue,null),fn(this,Ue);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||rt.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,rt,"[Invalid Chunked Response]"),on(this),hn(this);else if(0<rt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Rs(Me),Me.M=!0,de(11))}}else vr(this.i,this.l,rt,null),fn(this,rt);we==4&&on(this),this.o&&!this.J&&(we==4?$u(this.j,this):(this.o=!1,ie(this)))}else ff(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),on(this),hn(this)}}}catch{}finally{}};function Tr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function br(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?gs:(_=Number(y.substring(_,b)),isNaN(_)?Er:(b+=1,b+_>y.length?gs:(y=y.slice(b,b+_),c.C=b+_,y)))}ti.prototype.cancel=function(){this.J=!0,on(this)};function ie(c){c.S=Date.now()+c.I,zo(c,c.I)}function zo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yr(R(c.ba,c),y)}function _a(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(gr(),de(17)),on(this),this.s=2,hn(this)):zo(this,this.S-c)};function hn(c){c.j.G==0||c.J||$u(c.j,c)}function on(c){_a(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ge(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ar(_.h,c))){if(!c.K&&Ar(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ia(_),Ra(_);else break t;Wo(_),de(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=yr(R(_.Za,_),6e3));if(1>=ku(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((c.K||_.g==c)&&Ia(_),!Q(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Lt=j[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Me=Lt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const we=Lt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Mi=Lt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(b=1.5*Mi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ue=c.g;if(Ue){const oi=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Y=b.h;Y.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Sr(Y,Y.h),Y.h=null))}if(b.D){const Jo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(b.ya=Jo,jt(b.I,b.D,Jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var rt=c;if(b.qa=Qu(b,b.J?b.ia:null,b.W),rt.K){bn(b.h,rt);var kt=rt,Se=b.L;Se&&(kt.I=Se),kt.B&&(_a(kt),ie(kt)),b.g=rt}else Fu(b);0<_.i.length&&Ca(_)}else Lt[0]!="stop"&&Lt[0]!="close"||xi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?xi(_,7):Yo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}gr(4)}catch{}}var of=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Ar(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sr(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Lu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function lf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ys(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=lf(c),b=Lu(c),j=b.length,Y=0;Y<j;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var Y=c[_].substring(0,b);j=c[_].substring(b+1)}else Y=c[_];y(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,wr(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.s),this.l=c.l;var y=c.i,_=new ei;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ea(this,_),this.m=c.m}else c&&(y=String(c).match(qo))?(this.h=!1,wr(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),_s(this,y[4]),this.l=Rr(y[5]||"",!0),Ea(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Ci.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,Fo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,Fo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?Go:Uu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,hf)),c.join("")};function le(c){return new Ci(c)}function wr(c,y,_){c.j=_?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ea(c,y,_){y instanceof ei?(c.i=y,$o(c.i,c.h)):(_||(y=An(y,cf)),c.i=new ei(y,c.h))}function jt(c,y,_){c.i.set(y,_)}function vs(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,uf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Uu=/[#\?:]/g,Go=/[#\?]/g,cf=/[#\?@]/g,hf=/#/g;function ei(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ei.prototype,r.add=function(c,y){Sn(this),this.i=null,c=Ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ta(c,y){Sn(c),y=Ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ii(c,y){return Sn(c),y=Ni(c,y),c.g.has(y)}r.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(y,j,b,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const j=c[b];for(let Y=0;Y<j.length;Y++)_.push(y[b])}return _},r.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ii(this,c)&&(y=y.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Sn(this),this.i=null,c=Ni(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Di(c,y,_){Ta(c,y),0<_.length&&(c.i=null,c.g.set(Ni(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),rt=this.V(b);for(b=0;b<rt.length;b++){var j=Y;rt[b]!==""&&(j+="="+encodeURIComponent(String(rt[b]))),c.push(j)}}return this.i=c.join("&")};function Ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function $o(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Ta(this,b),Di(this,j,_))},c)),c.j=y}function Bu(c,y){const _=new _r;if(m.Image){const b=new Image;b.onload=O(wn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(wn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(wn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(wn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Es(c,y){const _=new _r,b=new AbortController,j=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(j),Y.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function Ts(){this.g=new Je}function ni(c,y,_){const b=_||"";try{ys(c,function(j,Y){let rt=j;g(j)&&(rt=ko(j)),y.push(b+Y+"="+encodeURIComponent(rt))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Cr,Lo),Cr.prototype.g=function(){return new Oi(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){be.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Oi,be),r=Oi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return mt(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function xe(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):jt(c,y,_))}function Gt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Gt,be);var ba=/^https?$/i,bs=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?Ou(this.o):Ou(ps),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){zu(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,rt]of _)this.g.setRequestHeader(Y,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){zu(this,Y)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),si(c)}function Aa(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ne(this,"complete"),Ne(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},r.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Nu(c.Ea,0,c);else if(Ne(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=rt===0){var j=String(c.D).match(qo)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!ba.test(j?j.toLowerCase():"")}_=b}if(_)Ne(c,"complete"),Ne(c,"success");else{c.m=6;try{var Y=2<Rn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Aa(c)}}finally{si(c)}}}}function si(c,y){if(c.g){As(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ne(c,"ready");try{_.onreadystatechange=b}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ff(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Q(c[b]))continue;var _=x(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}N(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=wa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){de(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Qu(this,null,this.W),Ca(this)};function Yo(c){if(Hu(c),c.G==3){var y=c.U++,_=le(c.I);if(jt(_,"SID",c.K),jt(_,"RID",y),jt(_,"TYPE","terminate"),ws(c,_),y=new ti(c,c.j,y),y.L=2,y.v=vs(le(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ie(y)}Ku(c)}function Ra(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Hu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!Ho(c.h)&&!c.s){c.s=!0;var y=c.Ga;_t||M(),ft||(_t(),ft=!0),Ft.add(y,c),c.B=0}}function df(c,y){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yr(R(c.Ga,c,y),Zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ti(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=qu(this,j,y),_=le(this.I),jt(_,"RID",c),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),ws(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Qo(Y)))+"&"+y:this.m&&xe(_,this.m,Y)),Sr(this.h,j),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",y),jt(_,"SID","null"),j.T=!0,Hn(j,_,null)):Hn(j,_,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||Ho(this.h)||Xo(this))};function Xo(c,y){var _;y?_=y.l:_=c.U++;const b=le(c.I);jt(b,"SID",c.K),jt(b,"RID",_),jt(b,"AID",c.T),ws(c,b),c.m&&c.o&&xe(b,c.m,c.o),_=new ti(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sr(c.h,_),Hn(_,b,y)}function ws(c,y){c.H&&mt(c.H,function(_,b){jt(y,b,_)}),c.l&&ys({},function(_,b){jt(y,b,_)})}function qu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;t:{var j=c.i;let Y=-1;for(;;){const rt=["count="+_];Y==-1?0<_?(Y=j[0].g,rt.push("ofs="+Y)):Y=0:rt.push("ofs="+Y);let kt=!0;for(let Se=0;Se<_;Se++){let Lt=j[Se].g;const Me=j[Se].map;if(Lt-=Y,0>Lt)Y=Math.max(0,j[Se].g-100),kt=!1;else try{ni(Me,rt,"req"+Lt+"_")}catch{b&&b(Me)}}if(kt){b=rt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_t||M(),ft||(_t(),ft=!0),Ft.add(y,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yr(R(c.Fa,c),Zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Ra(this),Gu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=le(c.qa);jt(y,"RID","rpc"),jt(y,"SID",c.K),jt(y,"AID",c.T),jt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(y,"TO",c.ja),jt(y,"TYPE","xmlhttp"),ws(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(le(y)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),Wo(this),de(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var _=null;if(c.g==y){Ia(c),Rs(c),c.g=null;var b=2}else if(Ar(c.h,y))_=y.D,bn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;b=pa(),Ne(b,new Mu(b,_)),Ca(c)}else Fu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&df(c,y)||b==2&&Wo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const j=!b;b=new Ci(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wr(b,"https"),vs(b),j?Bu(b.toString(),_):Es(b.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),Ku(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Qu(c,y,_){var b=_ instanceof Ci?le(_):new Ci(_);if(b.g!="")y&&(b.g=y+"."+b.g),_s(b,b.s);else{var j=m.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Y=new Ci(null);b&&wr(Y,b),y&&(Y.g=y),j&&_s(Y,j),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&jt(b,_,y),jt(b,"VER",c.la),ws(c,b),b}function Yu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new Cr({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Da(){}Da.prototype.g=function(c,y){return new en(c,y)};function en(c,y){be.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}k(en,be),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Yo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ko(c),c=_);y.i.push(new of(y.Ya++,c)),y.G==3&&Ca(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,en.aa.N.call(this)};function Wu(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Wu,mr);function Zu(){jn.call(this),this.status=1}k(Zu,jn);function ai(c){this.g=c}k(ai,Xu),ai.prototype.ua=function(){Ne(this.g,"a")},ai.prototype.ta=function(c){Ne(this.g,new Wu(c))},ai.prototype.sa=function(c){Ne(this.g,new Zu)},ai.prototype.ra=function(){Ne(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,lT=function(){return new Da},oT=function(){return pa()},aT=Tn,Mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,ch=Ae,wi.COMPLETE="complete",sT=wi,xu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",be.prototype.listen=be.prototype.K,Gl=xu,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,rT=Gt}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",Zv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new op("@firebase/firestore");function so(){return ea.logLevel}function ut(r,...t){if(ea.logLevel<=Ot.DEBUG){const n=t.map(vp);ea.debug(`Firestore (${Io}): ${r}`,...n)}}function rr(r,...t){if(ea.logLevel<=Ot.ERROR){const n=t.map(vp);ea.error(`Firestore (${Io}): ${r}`,...n)}}function go(r,...t){if(ea.logLevel<=Ot.WARN){const n=t.map(vp);ea.warn(`Firestore (${Io}): ${r}`,...n)}}function vp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const t=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+r;throw rr(t),new Error(t)}function $t(r,t){r||Tt()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class s2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a2{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new uT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Ye(t)}}class o2{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class l2{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new o2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new Jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=c2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function yo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-62135596800,e0=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*e0);return new Ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<t0)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-t0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Ie(0,0))}static max(){return new bt(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="__name__";class mi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(),s===void 0?s=t.length-n:s>t.length-n&&Tt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=mi.isNumericId(t),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(t).compare(mi.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class te extends mi{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends mi{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return h2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new qe([n0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(te.fromString(t))}static fromName(t){return new yt(te.fromString(t).popFirst(5))}static empty(){return new yt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function f2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new Ie(n+1,0):new Ie(n,s));return new as(o,yt.empty(),t)}function d2(r){return new as(r.readTime,r.key,ru)}class as{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new as(bt.min(),yt.empty(),ru)}static max(){return new as(bt.max(),yt.empty(),ru)}}function m2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==p2)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function y2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function Hh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function _2(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function v2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=i0(t)),t=E2(r.get(n),t);return i0(t)}function E2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hT:n+="";break;default:n+=u}}return n}function i0(r){return r+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function aa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function fT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jc(this.root,t,this.comparator,!0)}}class Jc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(t){return new s0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class s0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new De(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return yo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if($t(!!r),typeof r=="string"){let t=0;const n=T2.exec(r);if($t(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",pT="__type__",gT="__previous_value__",yT="__local_write_time__";function Tp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[pT])===null||n===void 0?void 0:n.stringValue)===mT}function qh(r){const t=r.mapValue.fields[gT];return Tp(t)?qh(t):t}function su(r){const t=os(r.mapValue.fields[yT].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,n,s,o,u,f,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Rh="(default)";class au{constructor(t,n){this.projectId=t,this.database=n||Rh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",A2="__max__",th={mapValue:{}},vT="__vector__",Ch="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:w2(r)?9007199254740991:S2(r)?10:11:Tt()}function Ei(r,t){if(r===t)return!0;const n=us(r);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return su(r).isEqual(su(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return yo(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(r0(f)!==r0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(r,t);default:return Tt()}}function ou(r,t){return(r.values||[]).find(n=>Ei(n,t))!==void 0}function _o(r,t){if(r===t)return 0;const n=us(r),s=us(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return a0(r.timestampValue,t.timestampValue);case 4:return a0(su(r),su(t));case 5:return Vt(r.stringValue,t.stringValue);case 6:return function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Vt(m[g],p[g]);if(E!==0)return E}return Vt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Vt(pe(u.latitude),pe(f.latitude));return m!==0?m:Vt(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return o0(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},R=f.fields||{},O=(m=S[Ch])===null||m===void 0?void 0:m.arrayValue,k=(p=R[Ch])===null||p===void 0?void 0:p.arrayValue,G=Vt(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:o0(O,k)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Vt(p[S],E[S]);if(R!==0)return R;const O=_o(m[p[S]],g[E[S]]);if(O!==0)return O}return Vt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt()}}function a0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=os(r),s=os(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function o0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=_o(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function vo(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ls(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt()}function hh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qh(r);return t?16+hh(t):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return aa(s.fields,(u,f)=>{o+=u.length+hh(f)}),o}(r.mapValue);default:throw Tt()}}function l0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function bp(r){return!!r&&"arrayValue"in r}function u0(r){return!!r&&"nullValue"in r}function c0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function S2(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[_T])===null||n===void 0?void 0:n.stringValue)===vT}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return aa(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Xl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function w2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){aa(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Bn(Xl(this.value))}}function ET(r){const t=[];return aa(r.fields,(n,s)=>{const o=new qe([n]);if(fh(s)){const u=ET(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,bt.min(),bt.min(),bt.min(),Bn.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,bt.min(),bt.min(),Bn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,bt.min(),bt.min(),Bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,n){this.position=t,this.inclusive=n}}function h0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=_o(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function f0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,n="asc"){this.field=t,this.dir=n}}function R2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class Te extends TT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new I2(t,n,s):n==="array-contains"?new O2(t,s):n==="in"?new x2(t,s):n==="not-in"?new M2(t,s):n==="array-contains-any"?new V2(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new D2(t,s):new N2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends TT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Yn(t,n)}matches(t){return bT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bT(r){return r.op==="and"}function AT(r){return C2(r)&&bT(r)}function C2(r){for(const t of r.filters)if(t instanceof Yn)return!1;return!0}function km(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(AT(r))return r.filters.map(t=>km(t)).join(",");{const t=r.filters.map(n=>km(n)).join(",");return`${r.op}(${t})`}}function ST(r,t){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,t):r instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&ST(f,o.filters[m]),!0):!1}(r,t):void Tt()}function wT(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(r):r instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(wT).join(" ,")+"}"}(r):"Filter"}class I2 extends Te{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class D2 extends Te{constructor(t,n){super(t,"in",n),this.keys=RT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class N2 extends Te{constructor(t,n){super(t,"not-in",n),this.keys=RT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function RT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class O2 extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bp(n)&&ou(n.arrayValue,this.value)}}class x2 extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class M2 extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class V2 extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function d0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new P2(r,t,n,s,o,u,f)}function Ap(r){const t=St(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>km(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>vo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>vo(s)).join(",")),t.le=n}return t.le}function Sp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!R2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ST(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!f0(r.startAt,t.startAt)&&f0(r.endAt,t.endAt)}function Lm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function k2(r,t,n,s,o,u,f,m){return new Oo(r,t,n,s,o,u,f,m)}function wp(r){return new Oo(r)}function m0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CT(r){return r.collectionGroup!==null}function Wl(r){const t=St(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new lu(u,s))}),n.has(qe.keyField().canonicalString())||t.he.push(new lu(qe.keyField(),s))}return t.he}function yi(r){const t=St(r);return t.Pe||(t.Pe=L2(t,Wl(r))),t.Pe}function L2(r,t){if(r.limitType==="F")return d0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new lu(o.field,u)});const n=r.endAt?new Ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ih(r.startAt.position,r.startAt.inclusive):null;return d0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Um(r,t){const n=r.filters.concat([t]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,t,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Fh(r,t){return Sp(yi(r),yi(t))&&r.limitType===t.limitType}function IT(r){return`${Ap(yi(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>wT(o)).join(", ")}]`),Hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>vo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function Gh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=h0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Wl(s),o)||s.endAt&&!function(f,m,p){const g=h0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Wl(s),o))}(r,t)}function U2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DT(r){return(t,n)=>{let s=!1;for(const o of Wl(r)){const u=B2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function B2(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_o(p,g):Tt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){aa(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new ae(yt.comparator);function sr(){return z2}const NT=new ae(yt.comparator);function $l(...r){let t=NT;for(const n of r)t=t.insert(n.key,n);return t}function OT(r){let t=NT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Qs(){return Zl()}function xT(){return Zl()}function Zl(){return new oa(r=>r.toString(),(r,t)=>r.isEqual(t))}const j2=new ae(yt.comparator),H2=new De(yt.comparator);function xt(...r){let t=H2;for(const n of r)t=t.add(n);return t}const q2=new De(Vt);function F2(){return q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function MT(r){return{integerValue:""+r}}function G2(r,t){return _2(t)?MT(t):Rp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function $2(r,t,n){return r instanceof uu?function(o,u){const f={fields:{[pT]:{stringValue:mT},[yT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=qh(u)),u&&(f.fields[gT]=u),{mapValue:f}}(n,t):r instanceof cu?PT(r,t):r instanceof hu?kT(r,t):function(o,u){const f=VT(o,u),m=p0(f)+p0(o.Ie);return Pm(f)&&Pm(o.Ie)?MT(m):Rp(o.serializer,m)}(r,t)}function K2(r,t,n){return r instanceof cu?PT(r,t):r instanceof hu?kT(r,t):n}function VT(r,t){return r instanceof Dh?function(s){return Pm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class uu extends $h{}class cu extends $h{constructor(t){super(),this.elements=t}}function PT(r,t){const n=LT(t);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class hu extends $h{constructor(t){super(),this.elements=t}}function kT(r,t){let n=LT(t);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class Dh extends $h{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function p0(r){return pe(r.integerValue||r.doubleValue)}function LT(r){return bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,n){this.field=t,this.transform=n}}function Y2(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?yo(s.elements,o.elements,Ei):s instanceof Dh&&o instanceof Dh?Ei(s.Ie,o.Ie):s instanceof uu&&o instanceof uu}(r.transform,t.transform)}class X2{constructor(t,n){this.version=t,this.transformResults=n}}class _i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Kh{}function UT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Cp(r.key,_i.none()):new Tu(r.key,r.data,_i.none());{const n=r.data,s=Bn.empty();let o=new De(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new la(r.key,s,new Kn(o.toArray()),_i.none())}}function W2(r,t,n){r instanceof Tu?function(o,u,f){const m=o.value.clone(),p=y0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof la?function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=y0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(BT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Jl(r,t,n,s){return r instanceof Tu?function(u,f,m,p){if(!dh(u.precondition,f))return m;const g=u.value.clone(),E=_0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof la?function(u,f,m,p){if(!dh(u.precondition,f))return m;const g=_0(u.fieldTransforms,p,f),E=f.data;return E.setAll(BT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function Z2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=VT(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function g0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,(u,f)=>Y2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Tu extends Kh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends Kh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function y0(r,t,n){const s=new Map;$t(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,K2(f,m,n[o]))}return s}function _0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,$2(u,f,t))}return s}class Cp extends Kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends Kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&W2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=xT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=UT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&yo(this.mutations,t.mutations,(n,s)=>g0(n,s))&&yo(this.baseMutations,t.baseMutations,(n,s)=>g0(n,s))}}class Ip{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length);let o=function(){return j2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Bt;function iD(r){switch(r){case J.OK:return Tt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt()}}function zT(r){if(r===void 0)return rr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return Tt()}}(Bt=Ee||(Ee={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new is([4294967295,4294967295],0);function v0(r){const t=rD().encode(r),n=new iT;return n.update(t),new Uint8Array(n.digest())}function E0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Dp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=is.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(is.fromNumber(s)));return o.compare(sD)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=v0(t),[s,o]=E0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=v0(t),[s,o]=E0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qh(bt.min(),o,new ae(Vt),sr(),xt())}}class bu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new bu(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class jT{constructor(t,n){this.targetId=t,this.ge=n}}class HT{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class T0{constructor(){this.pe=0,this.ye=b0(),this.we=Fe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=xt(),n=xt(),s=xt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt()}}),new bu(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=b0()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class aD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=sr(),this.$e=eh(),this.Ke=eh(),this.Ue=new ae(Vt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new yt(u.path);this.ze(n,f,Xe.newNoDocument(f,bt.min()))}else $t(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof dT)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return go(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Lm(m.target)){const p=new yt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xe.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=xt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Qh(t,n,this.Ue,this.Qe,s);return this.Qe=sr(),this.$e=eh(),this.Ke=eh(),this.Ue=new ae(Vt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new T0,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new De(Vt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new De(Vt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new T0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function eh(){return new ae(yt.comparator)}function b0(){return new ae(yt.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},lD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uD={and:"AND",or:"OR"};class cD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zm(r,t){return r.useProto3Json||Hh(t)?t:{value:t}}function Nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function hD(r,t){return Nh(r,t.toTimestamp())}function vi(r){return $t(!!r),bt.fromTimestamp(function(n){const s=os(n);return new Ie(s.seconds,s.nanos)}(r))}function Np(r,t){return jm(r,t).canonicalString()}function jm(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function FT(r){const t=te.fromString(r);return $t(YT(t)),t}function Hm(r,t){return Np(r.databaseId,t.path)}function _m(r,t){const n=FT(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt($T(n))}function GT(r,t){return Np(r.databaseId,t)}function fD(r){const t=FT(r);return t.length===4?te.emptyPath():$T(t)}function qm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $T(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function A0(r,t,n){return{name:Hm(r,t),fields:n.value.mapValue.fields}}function dD(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($t(E===void 0||typeof E=="string"),Fe.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:zT(g.code);return new ct(E,g.message||"")}(f);n=new HT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):bt.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?vi(s.readTime):bt.min(),f=Xe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in t))return Tt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new nD(o,u),m=s.targetId;n=new jT(m,f)}}return n}function mD(r,t){let n;if(t instanceof Tu)n={update:A0(r,t.key,t.value)};else if(t instanceof Cp)n={delete:Hm(r,t.key)};else if(t instanceof la)n={update:A0(r,t.key,t.data),updateMask:AD(t.fieldMask)};else{if(!(t instanceof J2))return Tt();n={verify:Hm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof uu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Tt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:hD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt()}(r,t.precondition)),n}function pD(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(bt.min())&&(f=vi(u)),new X2(f,o.transformResults||[])}(n,t))):[]}function gD(r,t){return{documents:[GT(r,t.path)]}}function yD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GT(r,o);const u=function(g){if(g.length!==0)return QT(Yn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:oo(R.field),direction:ED(R.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function _D(r){let t=fD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=KT(S);return R instanceof Yn&&AT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(R=>function(k){return new lu(lo(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Hh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(S){const R=!!S.before,O=S.values||[];return new Ih(O,R)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const R=!S.before,O=S.values||[];return new Ih(O,R)}(n.endAt)),k2(t,o,f,u,m,"F",p,g)}function vD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(r):r.fieldFilter!==void 0?function(n){return Te.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>KT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(r):Tt()}function ED(r){return oD[r]}function TD(r){return lD[r]}function bD(r){return uD[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return qe.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof Te?function(n){if(n.op==="=="){if(c0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(u0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(u0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:TD(n.op),value:n.value}}}(r):r instanceof Yn?function(n){const s=n.getFilters().map(o=>QT(o));return s.length===1?s[0]:{compositeFilter:{op:bD(n.op),filters:s}}}(r):Tt()}function AD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function YT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.Tt=t}}function wD(r){const t=_D({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Tn=new CD}addToCollectionParentIndex(t,n){return this.Tn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(as.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(as.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class CD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(XT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Eo(0)}static Un(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",ID=1048576;function R0([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class DD{constructor(t){this.Hn=t,this.buffer=new De(R0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();R0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ND{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(w0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ut(w0,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.er(3e5)})}}class OD{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(jh.ae);const s=new DD(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(S0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),so()<=Ot.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function xD(r,t){return new OD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new oa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Jl(s.mutation,o,Kn.empty(),Ie.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const o=Qs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=$l();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Qs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=sr();const f=Zl(),m=function(){return Zl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof la)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Jl(E.mutation,g,E.mutation.getFieldMask(),Ie.now())):f.set(g.key,Kn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new VD(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Zl();let o=new ae((f,m)=>f-m),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Kn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||xt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=xT();E.forEach(R=>{if(!u.has(R)){const O=UT(n.get(R),s.get(R));O!==null&&S.set(R,O),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,S))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(Qs());let m=ru,p=u;return f.next(g=>tt.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,xt())).next(E=>({batchId:m,changes:OT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=$l();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(S,R){return new Oo(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))});let m=$l();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,g,Kn.empty(),Ie.now()),Gh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return tt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:wD(o.bundledQuery),readTime:vi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.overlays=new ae(yt.comparator),this.Rr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Qs();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=Qs(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return tt.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new eD(n,s));let u=this.Rr.get(n);u===void 0&&(u=xt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Vr=new De(Le.mr),this.gr=new De(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Le(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Le(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new yt(new te([])),s=new Le(n,t),o=new Le(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new te([])),s=new Le(n,t),o=new Le(n,t+1);let u=xt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Vt(t.Cr,n.Cr)}static pr(t,n){return Vt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new De(Le.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Ep:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Vt);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new yt(u),0);let m=new De(Vt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),tt.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Le(n,0),o=this.Mr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.kr=t,this.docs=function(){return new ae(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=sr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||m2(d2(E),s)<=0||(o.has(E.key)||Gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt()}qr(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new jD(this)}getSize(t){return tt.resolve(this.size)}}class jD extends MD{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t){this.persistence=t,this.Qr=new oa(n=>Ap(n),Sp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Op,this.targetCount=0,this.Ur=Eo.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),tt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Eo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.zn(n),tt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new jh(0),this.zr=!1,this.zr=!0,this.jr=new UD,this.referenceDelegate=t(this),this.Hr=new HD(this),this.indexManager=new RD,this.remoteDocumentCache=function(o){return new zD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new SD(n),this.Yr=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new LD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new BD(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new qD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class qD extends g2{constructor(t){super(),this.currentSequenceNumber=t}}class xp{constructor(t){this.persistence=t,this.ti=new Op,this.ni=null}static ri(t){return new xp(t)}get ii(){if(this.ni)return this.ni;throw Tt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),tt.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return tt.or([()=>tt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Oh{constructor(t,n){this.persistence=t,this.oi=new oa(s=>v2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=xD(this,n)}static ri(t,n){return new Oh(t,n)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return tt.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=hh(t.data.value)),n}ar(t,n,s){return tt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return b1()?8:y2(We())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new FD;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(so()<=Ot.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(so()<=Ot.DEBUG&&ut("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=Ot.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yi(n))):tt.resolve())}rs(t,n){if(m0(n))return tt.resolve(null);let s=yi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=xt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(t,Bm(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,s,o){return m0(n)||o.isEqual(bt.min())?tt.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?tt.resolve(null):(so()<=Ot.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(t,f,n,f2(o,ru)).next(m=>m))})}cs(t,n){let s=new De(DT(t));return n.forEach((o,u)=>{Gh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return so()<=Ot.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(t,n,as.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",$D=3e8;class KD{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ae(Vt),this.Is=new oa(u=>Ap(u),Sp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function QD(r,t,n,s){return new KD(r,t,n,s)}async function ZT(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function YD(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,R=S.keys();let O=tt.resolve();return R.forEach(k=>{O=O.next(()=>E.getEntry(p,k)).next(G=>{const L=g.docVersions.get(k);$t(L!==null),G.version.compareTo(L)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function JT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function XD(r,t){const n=St(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let O=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(Fe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),function(G,L,$){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=$D?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=sr(),g=xt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(WD(u,f,t.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(bt.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function WD(r,t,n){let s=xt(),o=xt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut(Vp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function ZD(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function JD(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Fm(r,t,n){const s=St(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;ut(Vp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function C0(r,t,n){const s=St(r);let o=bt.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=St(p),R=S.Is.get(E);return R!==void 0?tt.resolve(S.Ts.get(R)):S.Hr.getTargetData(g,E)}(s,f,yi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:xt())).next(m=>(tN(s,U2(t),m),{documents:m,gs:u})))}function tN(r,t,n){let s=r.Es.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class I0{constructor(){this.activeTargetIds=F2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eN{constructor(){this.ho=new I0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new I0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="ConnectivityMonitor";class N0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(D0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(D0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function Gm(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rN{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,n,s,o,u){const f=Gm(),m=this.So(t,n.toUriEncodedString());ut(vm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(g=>(ut(vm,`Received RPC '${t}' ${f}: `,g),g),g=>{throw go(vm,`RPC '${t}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(t,n,s,o,u,f){return this.bo(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}So(t,n){const s=iN[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class aN extends rN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=Gm();return new Promise((f,m)=>{const p=new rT;p.setWithCredentials(!0),p.listenOnce(sT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const E=p.getResponseJson();ut(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case ch.TIMEOUT:ut(Qe,`RPC '${t}' ${u} timed out`),m(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const S=p.getStatus();if(ut(Qe,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const k=function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(O.status);m(new ct(k,O.message))}else m(new ct(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(J.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{ut(Qe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ut(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(t,n,s){const o=Gm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=lT(),m=oT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ut(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let R=!1,O=!1;const k=new sN({Fo:L=>{O?ut(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(R||(ut(Qe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),ut(Qe,`RPC '${t}' stream ${o} sending:`,L),S.send(L))},Mo:()=>S.close()}),G=(L,$,Q)=>{L.listen($,K=>{try{Q(K)}catch(it){setTimeout(()=>{throw it},0)}})};return G(S,Gl.EventType.OPEN,()=>{O||(ut(Qe,`RPC '${t}' stream ${o} transport opened.`),k.Qo())}),G(S,Gl.EventType.CLOSE,()=>{O||(O=!0,ut(Qe,`RPC '${t}' stream ${o} transport closed`),k.Ko())}),G(S,Gl.EventType.ERROR,L=>{O||(O=!0,go(Qe,`RPC '${t}' stream ${o} transport errored:`,L),k.Ko(new ct(J.UNAVAILABLE,"The operation could not be completed")))}),G(S,Gl.EventType.MESSAGE,L=>{var $;if(!O){const Q=L.data[0];$t(!!Q);const K=Q,it=(K==null?void 0:K.error)||(($=K[0])===null||$===void 0?void 0:$.error);if(it){ut(Qe,`RPC '${t}' stream ${o} received error:`,it);const st=it.status;let mt=function(A){const I=Ee[A];if(I!==void 0)return zT(I)}(st),N=it.message;mt===void 0&&(mt=J.INTERNAL,N="Unknown error status: "+st+" with message "+it.message),O=!0,k.Ko(new ct(mt,N)),S.close()}else ut(Qe,`RPC '${t}' stream ${o} received:`,Q),k.Uo(Q)}}),G(m,aT.STAT_EVENT,L=>{L.stat===Mm.PROXY?ut(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Mm.NOPROXY&&ut(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(r){return new cD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="PersistentStream";class eb{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new tb(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(O0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ut(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oN extends eb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=dD(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?vi(f.readTime):bt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=qm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Lm(p)?{documents:gD(u,p)}:{query:yD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qT(u,f.resumeToken);const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=vD(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=qm(this.serializer),n.removeTarget=t,this.I_(n)}}class lN extends eb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=pD(t.writeResults,t.commitTime),s=vi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=qm(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>mD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{}class cN extends uN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,jm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(J.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,jm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(rr(n),this.N_=!1):ut("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class fN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ua(this)&&(ut(na,"Restarting streams for network reachability change."),await async function(p){const g=St(p);g.W_.add(4),await Au(g),g.j_.set("Unknown"),g.W_.delete(4),await Xh(g)}(this))})}),this.j_=new hN(s,o)}}async function Xh(r){if(ua(r))for(const t of r.G_)await t(!0)}async function Au(r){for(const t of r.G_)await t(!1)}function nb(r,t){const n=St(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Up(n)?Lp(n):xo(n).c_()&&kp(n,t))}function Pp(r,t){const n=St(r),s=xo(n);n.U_.delete(t),s.c_()&&ib(n,t),n.U_.size===0&&(s.c_()?s.P_():ua(n)&&n.j_.set("Unknown"))}function kp(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xo(r).y_(t)}function ib(r,t){r.H_.Ne(t),xo(r).w_(t)}function Lp(r){r.H_=new aD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.j_.B_()}function Up(r){return ua(r)&&!xo(r).u_()&&r.U_.size>0}function ua(r){return St(r).W_.size===0}function rb(r){r.H_=void 0}async function dN(r){r.j_.set("Online")}async function mN(r){r.U_.forEach((t,n)=>{kp(r,t)})}async function pN(r,t){rb(r),Up(r)?(r.j_.q_(t),Lp(r)):r.j_.set("Unknown")}async function gN(r,t,n){if(r.j_.set("Online"),t instanceof HT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ut(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await xh(r,s)}else if(t instanceof mh?r.H_.We(t):t instanceof jT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(bt.min()))try{const s=await JT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),ib(u,p);const S=new Jr(E.target,p,g,E.sequenceNumber);kp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ut(na,"Failed to raise snapshot:",s),await xh(r,s)}}async function xh(r,t,n){if(!No(t))throw t;r.W_.add(1),await Au(r),r.j_.set("Offline"),n||(n=()=>JT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(na,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Xh(r)})}function sb(r,t){return t().catch(n=>xh(r,n,t))}async function Wh(r){const t=St(r),n=cs(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:Ep;for(;yN(t);)try{const o=await ZD(t.localStore,s);if(o===null){t.K_.length===0&&n.P_();break}s=o.batchId,_N(t,o)}catch(o){await xh(t,o)}ab(t)&&ob(t)}function yN(r){return ua(r)&&r.K_.length<10}function _N(r,t){r.K_.push(t);const n=cs(r);n.c_()&&n.b_&&n.S_(t.mutations)}function ab(r){return ua(r)&&!cs(r).u_()&&r.K_.length>0}function ob(r){cs(r).start()}async function vN(r){cs(r).C_()}async function EN(r){const t=cs(r);for(const n of r.K_)t.S_(n.mutations)}async function TN(r,t,n){const s=r.K_.shift(),o=Ip.from(s,t,n);await sb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Wh(r)}async function bN(r,t){t&&cs(r).b_&&await async function(s,o){if(function(f){return iD(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();cs(s).h_(),await sb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wh(s)}}(r,t),ab(r)&&ob(r)}async function x0(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ut(na,"RemoteStore received new credentials");const s=ua(n);n.W_.add(3),await Au(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Xh(n)}async function AN(r,t){const n=St(r);t?(n.W_.delete(2),await Xh(n)):t||(n.W_.add(2),await Au(n),n.j_.set("Unknown"))}function xo(r){return r.J_||(r.J_=function(n,s,o){const u=St(n);return u.M_(),new oN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:dN.bind(null,r),No:mN.bind(null,r),Lo:pN.bind(null,r),p_:gN.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Up(r)?Lp(r):r.j_.set("Unknown")):(await r.J_.stop(),rb(r))})),r.J_}function cs(r){return r.Y_||(r.Y_=function(n,s,o){const u=St(n);return u.M_(),new lN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:vN.bind(null,r),Lo:bN.bind(null,r),D_:EN.bind(null,r),v_:TN.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Wh(r)):(await r.Y_.stop(),r.K_.length>0&&(ut(na,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Bp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(r,t){if(rr("AsyncQueue",`${t}: ${r}`),No(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(t){return new mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Z_=new ae(yt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Tt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class To{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new To(t,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class wN{constructor(){this.queries=V0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=V0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function V0(){return new oa(r=>IT(r),Fh)}async function lb(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new SN,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&jp(n)}async function ub(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RN(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&jp(n)}function CN(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function jp(r){r.ia.forEach(t=>{t.next()})}var $m,P0;(P0=$m||($m={}))._a="default",P0.Cache="cache";class cb{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new To(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this.key=t}}class fb{constructor(t){this.key=t}}class IN{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=DT(t),this.wa=new mo(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new M0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const R=o.get(E),O=Gh(this.query,S)?S:null,k=!!R&&this.mutatedKeys.has(R.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;R&&O?R.data.isEqual(O.data)?k!==G&&(s.track({type:3,doc:O}),L=!0):this.va(R,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),L=!0):R&&!O&&(s.track({type:1,doc:R}),L=!0,(p||g)&&(m=!0)),L&&(O?(f=f.add(O),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,S)=>function(O,k){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return G(O)-G(k)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new To(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new M0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new fb(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new hb(s))}),n}Oa(t){this.fa=t.gs,this.pa=xt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Hp="SyncEngine";class DN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class NN{constructor(t){this.key=t,this.Ba=!1}}class ON{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new oa(m=>IT(m),Fh),this.qa=new Map,this.Qa=new Set,this.$a=new ae(yt.comparator),this.Ka=new Map,this.Ua=new Op,this.Wa={},this.Ga=new Map,this.za=Eo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xN(r,t,n=!0){const s=_b(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await db(s,t,n,!0),o}async function MN(r,t){const n=_b(r);await db(n,t,!0,!1)}async function db(r,t,n,s){const o=await JD(r.localStore,yi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&nb(r.remoteStore,o),m}async function VN(r,t,n,s,o){r.Ha=(S,R,O)=>async function(G,L,$,Q){let K=L.view.Sa($);K.ls&&(K=await C0(G.localStore,L.query,!1).then(({documents:N})=>L.view.Sa(N,K)));const it=Q&&Q.targetChanges.get(L.targetId),st=Q&&Q.targetMismatches.get(L.targetId)!=null,mt=L.view.applyChanges(K,G.isPrimaryClient,it,st);return L0(G,L.targetId,mt.Ma),mt.snapshot}(r,S,R,O);const u=await C0(r.localStore,t,!0),f=new IN(t,u.gs),m=f.Sa(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);L0(r,n,g.Ma);const E=new DN(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function PN(r,t,n){const s=St(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Fh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),Km(s,o.targetId)}).catch(Do)):(Km(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function kN(r,t){const n=St(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function LN(r,t,n){const s=FN(r);try{const o=await function(f,m){const p=St(f),g=Ie.now(),E=m.reduce((O,k)=>O.add(k.key),xt());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=sr(),G=xt();return p.ds.getEntries(O,E).next(L=>{k=L,k.forEach(($,Q)=>{Q.isValidDocument()||(G=G.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,k)).next(L=>{S=L;const $=[];for(const Q of m){const K=Z2(Q,S.get(Q.key).overlayedDocument);K!=null&&$.push(new la(Q.key,K,ET(K.value.mapValue),_i.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)}).next(L=>{R=L;const $=L.applyToLocalDocumentSet(S,G);return p.documentOverlayCache.saveOverlays(O,L.batchId,$)})}).then(()=>({batchId:R.batchId,changes:OT(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ae(Vt)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Su(s,o.changes),await Wh(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function mb(r,t){const n=St(r);try{const s=await XD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$t(f.Ba):o.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await Su(n,s,t)}catch(s){await Do(s)}}function k0(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=St(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(g=!0)}),g&&jp(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function UN(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),u=o&&o.key;if(u){let f=new ae(yt.comparator);f=f.insert(u,Xe.newNoDocument(u,bt.min()));const m=xt().add(u),p=new Qh(bt.min(),new Map,new ae(Vt),f,m);await mb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(t),qp(s)}else await Fm(s.localStore,t,!1).then(()=>Km(s,t,n)).catch(Do)}async function BN(r,t){const n=St(r),s=t.batch.batchId;try{const o=await YD(n.localStore,t);gb(n,s,null),pb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Do(o)}}async function zN(r,t,n){const s=St(r);try{const o=await function(f,m){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>($t(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);gb(s,t,n),pb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Su(s,o)}catch(o){await Do(o)}}function pb(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function gb(r,t,n){const s=St(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Km(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||yb(r,s)})}function yb(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Pp(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),qp(r))}function L0(r,t,n){for(const s of n)s instanceof hb?(r.Ua.addReference(s.key,t),jN(r,s)):s instanceof fb?(ut(Hp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||yb(r,s.key)):Tt()}function jN(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ut(Hp,"New document in limbo: "+n),r.Qa.add(s),qp(r))}function qp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new yt(te.fromString(t)),s=r.za.next();r.Ka.set(s,new NN(n)),r.$a=r.$a.insert(n,s),nb(r.remoteStore,new Jr(yi(wp(n.path)),s,"TargetPurposeLimboResolution",jh.ae))}}async function Su(r,t,n){const s=St(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Mp.Yi(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>tt.forEach(g,R=>tt.forEach(R.Hi,O=>E.persistence.referenceDelegate.addReference(S,R.targetId,O)).next(()=>tt.forEach(R.Ji,O=>E.persistence.referenceDelegate.removeReference(S,R.targetId,O)))))}catch(S){if(!No(S))throw S;ut(Vp,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const O=E.Ts.get(R),k=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(R,G)}}}(s.localStore,u))}async function HN(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ut(Hp,"User change. New user:",t.toKey());const s=await ZT(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ct(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Rs)}}function qN(r,t){const n=St(r),s=n.Ka.get(t);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function _b(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UN.bind(null,t),t.La.p_=RN.bind(null,t.eventManager),t.La.Ja=CN.bind(null,t.eventManager),t}function FN(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,t),t}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return QD(this.persistence,new GD,t.initialUser,this.serializer)}Xa(t){return new WT(xp.ri,this.serializer)}Za(t){return new eN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class GN extends Mh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof Oh);const s=this.persistence.referenceDelegate.garbageCollector;return new ND(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new WT(s=>Oh.ri(s,n),this.serializer)}}class Qm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await AN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wN}()}createDatastore(t){const n=Yh(t.databaseInfo.databaseId),s=function(u){return new aN(u)}(t.databaseInfo);return function(u,f,m,p){return new cN(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new fN(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>k0(this.syncEngine,n,0),function(){return N0.D()?new N0:new nN}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const S=new ON(o,u,f,m,p,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);ut(na,"RemoteStore shutting down."),u.W_.add(5),await Au(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class $N{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=cT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ut(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Tm(r,t){r.asyncQueue.verifyOperationInProgress(),ut(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ZT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function U0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await KN(r);ut(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>x0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>x0(t.remoteStore,o)),r._onlineComponents=t}async function KN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(hs,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Mh)}}else ut(hs,"Using default OfflineComponentProvider"),await Tm(r,new GN(void 0));return r._offlineComponents}async function Eb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(hs,"Using user provided OnlineComponentProvider"),await U0(r,r._uninitializedComponentsProvider._online)):(ut(hs,"Using default OnlineComponentProvider"),await U0(r,new Qm))),r._onlineComponents}function QN(r){return Eb(r).then(t=>t.syncEngine)}async function Tb(r){const t=await Eb(r),n=t.eventManager;return n.onListen=xN.bind(null,t.syncEngine),n.onUnlisten=PN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kN.bind(null,t.syncEngine),n}function YN(r,t,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new vb({next:R=>{E.su(),f.enqueueAndForget(()=>ub(u,S));const O=R.docs.has(m);!O&&R.fromCache?g.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?g.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new cb(wp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return lb(u,S)}(await Tb(r),r.asyncQueue,t,n,s)),s.promise}function XN(r,t,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new vb({next:R=>{E.su(),f.enqueueAndForget(()=>ub(u,S)),R.fromCache&&p.source==="server"?g.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new cb(m,E,{includeMetadataChanges:!0,Ta:!0});return lb(u,S)}(await Tb(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function WN(r,t,n,s){if(t===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function z0(r){if(!yt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function j0(r){if(yt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function ia(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",H0=!0;class q0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=H0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:H0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ID)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new r2;switch(s.type){case"firstParty":return new l2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=B0.get(n);s&&(ut("ComponentProvider","Removing Datastore"),B0.delete(n),s.terminate())}(this),Promise.resolve()}}function ZN(r,t,n,s={}){var o;const u=(r=ia(r,Jh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==Sb&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ws(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Ye.MOCK_USER;else{g=p1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ye(S)}r._authCredentials=new s2(new uT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ca(this.firestore,t,this._query)}}class vn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}}class rs extends ca{constructor(t,n,s){super(t,n,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new yt(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function wb(r,t,...n){if(r=cn(r),Ab("collection","path",t),r instanceof Jh){const s=te.fromString(t,...n);return j0(s),new rs(r,null,s)}{if(!(r instanceof vn||r instanceof rs))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return j0(s),new rs(r.firestore,null,s)}}function Fp(r,t,...n){if(r=cn(r),arguments.length===1&&(t=cT.newId()),Ab("doc","path",t),r instanceof Jh){const s=te.fromString(t,...n);return z0(s),new vn(r,null,new yt(s))}{if(!(r instanceof vn||r instanceof rs))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return z0(s),new vn(r.firestore,r instanceof rs?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="AsyncQueue";class G0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new tb(this,"async_queue_retry"),this.bu=()=>{const s=Em();s&&ut(F0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new er;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!No(t))throw t;ut(F0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw rr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Bp.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Tt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class wu extends Jh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new G0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new G0(t),this._firestoreClient=void 0,await t}}}function JN(r,t){const n=typeof r=="object"?r:vE(),s=typeof r=="string"?r:Rh,o=up(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=d1("firestore");u&&ZN(o,...u)}return o}function Gp(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tO(r),r._firestoreClient}function tO(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new b2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,bb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new $N(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bo(Fe.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new bo(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^__.*__$/;class nO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(t,this.data,n,this.fieldTransforms)}}function Rb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class Xp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Xp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Vh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Rb(this.Lu)&&eO.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class iO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(t)}ju(t,n,s,o=!1){return new Xp({Lu:t,methodName:n,zu:s,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cb(r){const t=r._freezeSettings(),n=Yh(r._databaseId);return new iO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function rO(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);Nb("Data must be an object, but it was:",f,s);const m=Ib(s,f);let p,g;if(u.merge)p=new Kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=aO(t,S,n);if(!f.contains(R))throw new ct(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);lO(E,R)||E.push(R)}p=new Kn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new nO(new Bn(m),p,g)}class Wp extends Kp{_toFieldTransform(t){return new Q2(t.path,new uu)}isEqual(t){return t instanceof Wp}}function sO(r,t,n,s=!1){return Zp(n,r.ju(s?4:3,t))}function Zp(r,t){if(Db(r=cn(r)))return Nb("Unsupported field value:",t,r),Ib(r,t);if(r instanceof Kp)return function(s,o){if(!Rb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Zp(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return G2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ie.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Ie){const u=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bo)return{bytesValue:qT(o.serializer,s._byteString)};if(s instanceof vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yp)return function(f,m){return{mapValue:{fields:{[_T]:{stringValue:vT},[Ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Rp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Zh(s)}`)}(r,t)}function Ib(r,t){const n={};return fT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aa(r,(s,o)=>{const u=Zp(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Db(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ie||r instanceof Qp||r instanceof bo||r instanceof vn||r instanceof Kp||r instanceof Yp)}function Nb(r,t,n){if(!Db(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Zh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function aO(r,t,n){if((t=cn(t))instanceof $p)return t._internalPath;if(typeof t=="string")return Ob(r,t);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const oO=new RegExp("[~\\*/\\[\\]]");function Ob(r,t,n){if(t.search(oO)>=0)throw Vh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $p(...t.split("."))._internalPath}catch{throw Vh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Vh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(J.INVALID_ARGUMENT,m+r+p)}function lO(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uO extends xb{data(){return super.data()}}function Jp(r,t){return typeof t=="string"?Ob(r,t):t instanceof $p?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class Mb extends tg{}function hO(r,t,...n){let s=[];t instanceof tg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ng).length,m=u.filter(p=>p instanceof eg).length;if(f>1||f>0&&m>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class eg extends Mb{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new eg(t,n,s)}_apply(t){const n=this._parse(t);return Vb(t._query,n),new ca(t.firestore,t.converter,Um(t._query,n))}_parse(t){const n=Cb(t.firestore);return function(u,f,m,p,g,E,S){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){K0(S,E);const k=[];for(const G of S)k.push($0(p,u,G));R={arrayValue:{values:k}}}else R=$0(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||K0(S,E),R=sO(m,f,S,E==="in"||E==="not-in");return Te.create(g,E,R)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ng(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Vb(f,p),f=Um(f,p)}(t._query,n),new ca(t.firestore,t.converter,Um(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends Mb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new ig(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(u,f)}(t._query,this._field,this._direction);return new ca(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Oo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function fO(r,t="asc"){const n=t,s=Jp("orderBy",r);return ig._create(s,n)}function $0(r,t,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(t)&&n.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!yt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return l0(r,new yt(s))}if(n instanceof vn)return l0(r,n._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function K0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Vb(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dO{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return aa(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Ch].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new Yp(u)}convertGeoPoint(t){return new Qp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const n=os(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);$t(YT(s));const o=new au(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pb extends xb{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ph extends Pb{data(t={}){return super.data(t)}}class pO{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:gO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r){r=ia(r,vn);const t=ia(r.firestore,wu);return YN(Gp(t),r._key).then(n=>EO(t,r,n))}class kb extends dO{constructor(t){super(),this.firestore=t}convertBytes(t){return new bo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Lb(r){r=ia(r,ca);const t=ia(r.firestore,wu),n=Gp(t),s=new kb(t);return cO(r._query),XN(n,r._query).then(o=>new pO(t,s,r,o))}function _O(r){return Ub(ia(r.firestore,wu),[new Cp(r._key,_i.none())])}function vO(r,t){const n=ia(r.firestore,wu),s=Fp(r),o=mO(r.converter,t);return Ub(n,[rO(Cb(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then(()=>s)}function Ub(r,t){return function(s,o){const u=new er;return s.asyncQueue.enqueueAndForget(async()=>LN(await QN(s),o,u)),u.promise}(Gp(r),t)}function EO(r,t,n){const s=n.docs.get(t._key),o=new kb(r);return new Pb(r,o,t._key,s,new Ql(n.hasPendingWrites,n.fromCache),t.converter)}function TO(){return new Wp("serverTimestamp")}(function(t,n=!0){(function(o){Io=o})(Ro),po(new Zs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new wu(new a2(s.getProvider("auth-internal")),new u2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ns(Wv,Zv,t),ns(Wv,Zv,"esm2017")})();const bO={apiKey:"AIzaSyCsCmtvFeJ-KLdomUOkSU8FCw5daIrEZ_I",authDomain:"plant-pals-webpage.firebaseapp.com",projectId:"plant-pals-webpage",storageBucket:"plant-pals-webpage.firebasestorage.app",messagingSenderId:"151908866050",appId:"1:151908866050:web:79bd4a5303bc286590ef1b"},Bb=_E(bO),Ru=n2(Bb),tf=JN(Bb),zb=Jt.createContext();function ha(){return B.useContext(zb)}function AO({children:r}){const[t,n]=B.useState(null),[s,o]=B.useState(!1),[u,f]=B.useState(!0);B.useEffect(()=>GC(Ru,m),[]);async function m(g){g?(n({...g}),o(!0)):(n(null),o(!1)),f(!1)}const p={currentUser:t,userLoggedIn:s,loading:u};return F.jsx(zb.Provider,{value:p,children:!u&&r})}function jb(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=jb(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Xs(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=jb(r))&&(s&&(s+=" "),s+=t);return s}function SO(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}SO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cu=r=>typeof r=="number"&&!isNaN(r),ra=r=>typeof r=="string",ar=r=>typeof r=="function",wO=r=>ra(r)||Cu(r),Ym=r=>ra(r)||ar(r)?r:null,RO=(r,t)=>r===!1||Cu(r)&&r>0?r:t,Xm=r=>B.isValidElement(r)||ra(r)||ar(r)||Cu(r);function CO(r,t,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function IO({enter:r,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:S}){let R=n?`${r}--${f}`:r,O=n?`${t}--${f}`:t,k=B.useRef(0);return B.useLayoutEffect(()=>{let G=g.current,L=R.split(" "),$=Q=>{Q.target===g.current&&(S(),G.removeEventListener("animationend",$),G.removeEventListener("animationcancel",$),k.current===0&&Q.type!=="animationcancel"&&G.classList.remove(...L))};G.classList.add(...L),G.addEventListener("animationend",$),G.addEventListener("animationcancel",$)},[]),B.useEffect(()=>{let G=g.current,L=()=>{G.removeEventListener("animationend",L),s?CO(G,p,o):p()};E||(m?L():(k.current=1,G.className+=` ${O}`,G.addEventListener("animationend",L)))},[E]),Jt.createElement(Jt.Fragment,null,u)}}function Q0(r,t){return{content:Hb(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function Hb(r,t,n=!1){return B.isValidElement(r)&&!ra(r.type)?B.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ar(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function DO({closeToast:r,theme:t,ariaLabel:n="close"}){return Jt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},Jt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Jt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function NO({delay:r,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let S=o||f&&m===0,R={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(R.transform=`scaleX(${m})`);let O=Xs("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),k=ar(u)?u({rtl:p,type:s,defaultClassName:O}):Xs(O,u),G={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return Jt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},Jt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Jt.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:k,style:R,...G}))}var OO=1,qb=()=>`${OO++}`;function xO(r,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=Q=>(g.add(Q),()=>g.delete(Q)),S=()=>{f=Array.from(p.values()),g.forEach(Q=>Q())},R=({containerId:Q,toastId:K,updateId:it})=>{let st=Q?Q!==r:r!==1,mt=p.has(K)&&it==null;return st||mt},O=(Q,K)=>{p.forEach(it=>{var st;(K==null||K===it.props.toastId)&&((st=it.toggle)==null||st.call(it,Q))})},k=Q=>{var K,it;(it=(K=Q.props)==null?void 0:K.onClose)==null||it.call(K,Q.removalReason),Q.isActive=!1},G=Q=>{if(Q==null)p.forEach(k);else{let K=p.get(Q);K&&k(K)}S()},L=()=>{o-=u.length,u=[]},$=Q=>{var K,it;let{toastId:st,updateId:mt}=Q.props,N=mt==null;Q.staleId&&p.delete(Q.staleId),Q.isActive=!0,p.set(st,Q),S(),n(Q0(Q,N?"added":"updated")),N&&((it=(K=Q.props).onOpen)==null||it.call(K))};return{id:r,props:m,observe:E,toggle:O,removeToast:G,toasts:p,clearQueue:L,buildToast:(Q,K)=>{if(R(K))return;let{toastId:it,updateId:st,data:mt,staleId:N,delay:w}=K,A=st==null;A&&o++;let I={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(K).filter(([U,D])=>D!=null)),toastId:it,updateId:st,data:mt,isIn:!1,className:Ym(K.className||m.toastClassName),progressClassName:Ym(K.progressClassName||m.progressClassName),autoClose:K.isLoading?!1:RO(K.autoClose,m.autoClose),closeToast(U){p.get(it).removalReason=U,G(it)},deleteToast(){let U=p.get(it);if(U!=null){if(n(Q0(U,"removed")),p.delete(it),o--,o<0&&(o=0),u.length>0){$(u.shift());return}S()}}};I.closeButton=m.closeButton,K.closeButton===!1||Xm(K.closeButton)?I.closeButton=K.closeButton:K.closeButton===!0&&(I.closeButton=Xm(m.closeButton)?m.closeButton:!0);let x={content:Q,props:I,staleId:N};m.limit&&m.limit>0&&o>m.limit&&A?u.push(x):Cu(w)?setTimeout(()=>{$(x)},w):$(x)},setProps(Q){m=Q},setToggle:(Q,K)=>{let it=p.get(Q);it&&(it.toggle=K)},isToastActive:Q=>{var K;return(K=p.get(Q))==null?void 0:K.isActive},getSnapshot:()=>f}}var sn=new Map,fu=[],Wm=new Set,MO=r=>Wm.forEach(t=>t(r)),Fb=()=>sn.size>0;function VO(){fu.forEach(r=>$b(r.content,r.options)),fu=[]}var PO=(r,{containerId:t})=>{var n;return(n=sn.get(t||1))==null?void 0:n.toasts.get(r)};function Gb(r,t){var n;if(t)return!!((n=sn.get(t))!=null&&n.isToastActive(r));let s=!1;return sn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function kO(r){if(!Fb()){fu=fu.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||wO(r))sn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=sn.get(r.containerId);t?t.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var LO=(r={})=>{sn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function $b(r,t){Xm(r)&&(Fb()||fu.push({content:r,options:t}),sn.forEach(n=>{n.buildToast(r,t)}))}function UO(r){var t;(t=sn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function Kb(r,t){sn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(r,t==null?void 0:t.id)})}function BO(r){let t=r.containerId||1;return{subscribe(n){let s=xO(t,r,MO);sn.set(t,s);let o=s.observe(n);return VO(),()=>{o(),sn.delete(t)}},setProps(n){var s;(s=sn.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=sn.get(t))==null?void 0:n.getSnapshot()}}}function zO(r){return Wm.add(r),()=>{Wm.delete(r)}}function jO(r){return r&&(ra(r.toastId)||Cu(r.toastId))?r.toastId:qb()}function Iu(r,t){return $b(r,t),t.toastId}function ef(r,t){return{...t,type:t&&t.type||r,toastId:jO(t)}}function nf(r){return(t,n)=>Iu(t,ef(r,n))}function Pt(r,t){return Iu(r,ef("default",t))}Pt.loading=(r,t)=>Iu(r,ef("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function HO(r,{pending:t,error:n,success:s},o){let u;t&&(u=ra(t)?Pt.loading(t,o):Pt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,S)=>{if(E==null){Pt.dismiss(u);return}let R={type:g,...f,...o,data:S},O=ra(E)?{render:E}:E;return u?Pt.update(u,{...R,...O}):Pt(O.render,{...R,...O}),S},p=ar(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Pt.promise=HO;Pt.success=nf("success");Pt.info=nf("info");Pt.error=nf("error");Pt.warning=nf("warning");Pt.warn=Pt.warning;Pt.dark=(r,t)=>Iu(r,ef("default",{theme:"dark",...t}));function qO(r){kO(r)}Pt.dismiss=qO;Pt.clearWaitingQueue=LO;Pt.isActive=Gb;Pt.update=(r,t={})=>{let n=PO(r,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:qb()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,Iu(f,u)}};Pt.done=r=>{Pt.update(r,{progress:1})};Pt.onChange=zO;Pt.play=r=>Kb(!0,r);Pt.pause=r=>Kb(!1,r);function FO(r){var t;let{subscribe:n,getSnapshot:s,setProps:o}=B.useRef(BO(r)).current;o(r);let u=(t=B.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:Gb,count:u==null?void 0:u.length}}function GO(r){let[t,n]=B.useState(!1),[s,o]=B.useState(!1),u=B.useRef(null),f=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:S}=r;UO({id:r.toastId,containerId:r.containerId,fn:n}),B.useEffect(()=>{if(r.pauseOnFocusLoss)return R(),()=>{O()}},[r.pauseOnFocusLoss]);function R(){document.hasFocus()||$(),window.addEventListener("focus",L),window.addEventListener("blur",$)}function O(){window.removeEventListener("focus",L),window.removeEventListener("blur",$)}function k(N){if(r.draggable===!0||r.draggable===N.pointerType){Q();let w=u.current;f.canCloseOnClick=!0,f.canDrag=!0,w.style.transition="none",r.draggableDirection==="x"?(f.start=N.clientX,f.removalDistance=w.offsetWidth*(r.draggablePercent/100)):(f.start=N.clientY,f.removalDistance=w.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function G(N){let{top:w,bottom:A,left:I,right:x}=u.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&r.pauseOnHover&&N.clientX>=I&&N.clientX<=x&&N.clientY>=w&&N.clientY<=A?$():L()}function L(){n(!0)}function $(){n(!1)}function Q(){f.didMove=!1,document.addEventListener("pointermove",it),document.addEventListener("pointerup",st)}function K(){document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",st)}function it(N){let w=u.current;if(f.canDrag&&w){f.didMove=!0,t&&$(),r.draggableDirection==="x"?f.delta=N.clientX-f.start:f.delta=N.clientY-f.start,f.start!==N.clientX&&(f.canCloseOnClick=!1);let A=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;w.style.transform=`translate3d(${A},0)`,w.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function st(){K();let N=u.current;if(f.canDrag&&f.didMove&&N){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let mt={onPointerDown:k,onPointerUp:G};return m&&p&&(mt.onMouseEnter=$,r.stacked||(mt.onMouseLeave=L)),S&&(mt.onClick=N=>{E&&E(N),f.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:$,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:mt}}var $O=typeof window<"u"?B.useLayoutEffect:B.useEffect,rf=({theme:r,type:t,isLoading:n,...s})=>Jt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function KO(r){return Jt.createElement(rf,{...r},Jt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function QO(r){return Jt.createElement(rf,{...r},Jt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function YO(r){return Jt.createElement(rf,{...r},Jt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function XO(r){return Jt.createElement(rf,{...r},Jt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function WO(){return Jt.createElement("div",{className:"Toastify__spinner"})}var Zm={info:QO,warning:KO,success:YO,error:XO,spinner:WO},ZO=r=>r in Zm;function JO({theme:r,type:t,isLoading:n,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(ar(s)?o=s({...u,isLoading:n}):B.isValidElement(s)?o=B.cloneElement(s,u):n?o=Zm.spinner():ZO(t)&&(o=Zm[t](u))),o}var tx=r=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=GO(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:S,closeToast:R,transition:O,position:k,className:G,style:L,progressClassName:$,updateId:Q,role:K,progress:it,rtl:st,toastId:mt,deleteToast:N,isIn:w,isLoading:A,closeOnClick:I,theme:x,ariaLabel:U}=r,D=Xs("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":st},{"Toastify__toast--close-on-click":I}),fe=ar(G)?G({rtl:st,position:k,type:E,defaultClassName:D}):Xs(D,G),ne=JO(r),at=!!it||!p,_t={closeToast:R,type:E,theme:x},ft=null;return f===!1||(ar(f)?ft=f(_t):B.isValidElement(f)?ft=B.cloneElement(f,_t):ft=DO(_t)),Jt.createElement(O,{isIn:w,done:N,position:k,preventExitTransition:n,nodeRef:s,playToast:u},Jt.createElement("div",{id:mt,tabIndex:0,onClick:g,"data-in":w,className:fe,...o,style:L,ref:s,...w&&{role:K,"aria-label":U}},ne!=null&&Jt.createElement("div",{className:Xs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},ne),Hb(m,r,!t),ft,!r.customProgressBar&&Jt.createElement(NO,{...Q&&!at?{key:`p-${Q}`}:{},rtl:st,theme:x,delay:p,isRunning:t,isIn:w,closeToast:R,hide:S,type:E,className:$,controlledProgress:at,progress:it||0})))},ex=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),nx=IO(ex("bounce",!0)),ix={position:"top-right",transition:nx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function rx(r){let t={...ix,...r},n=r.stacked,[s,o]=B.useState(!0),u=B.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=FO(t),{className:g,style:E,rtl:S,containerId:R,hotKeys:O}=t;function k(L){let $=Xs("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":S});return ar(g)?g({position:L,rtl:S,defaultClassName:$}):Xs($,Ym(g))}function G(){n&&(o(!0),Pt.play())}return $O(()=>{var L;if(n){let $=u.current.querySelectorAll('[data-in="true"]'),Q=12,K=(L=t.position)==null?void 0:L.includes("top"),it=0,st=0;Array.from($).reverse().forEach((mt,N)=>{let w=mt;w.classList.add("Toastify__toast--stacked"),N>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=K?"top":"bot");let A=it*(s?.2:1)+(s?0:Q*N);w.style.setProperty("--y",`${K?A:A*-1}px`),w.style.setProperty("--g",`${Q}`),w.style.setProperty("--s",`${1-(s?st:0)}`),it+=w.offsetHeight,st+=.025})}},[s,p,n]),B.useEffect(()=>{function L($){var Q;let K=u.current;O($)&&((Q=K.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),Pt.pause()),$.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(o(!0),Pt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[O]),Jt.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(o(!1),Pt.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,$)=>{let Q=$.length?{...E}:{...E,pointerEvents:"none"};return Jt.createElement("div",{tabIndex:-1,className:k(L),"data-stacked":n,style:Q,key:`c-${L}`},$.map(({content:K,props:it})=>Jt.createElement(tx,{...it,stacked:n,collapseAll:G,isIn:m(it.toastId,it.containerId),key:`t-${it.key}`},K)))}))}const sx="_loadingContainer_1o2a0_1",ax="_loadingSpinner_1o2a0_7",Y0={loadingContainer:sx,loadingSpinner:ax},ox=({children:r})=>{const{userLoggedIn:t,loading:n}=ha();return n?F.jsx("section",{className:Y0.loadingContainer,children:F.jsx("p",{className:Y0.loadingSpinner})}):t?r:(Pt.success("Please login to see your collection "),F.jsx(Aw,{to:"/login"}))},Qb=(r,t,n,s)=>B.useMemo(()=>r.filter(o=>t==="none"||n===""?!0:(t==="common-name"?o.common_name:o.scientific_name).toLowerCase().includes(n.toLowerCase())).sort((o,u)=>{var f,m;if(s==="alphabetical")return o.common_name.localeCompare(u.common_name);if(s==="date"){const p=((f=o.date_created)==null?void 0:f.toDate())||new Date(0);return(((m=u.date_created)==null?void 0:m.toDate())||new Date(0))-p}return 0}),[r,t,n,s]),lx="sk-PQcq67cf9ed8bcf4c9076",ux=r=>{const[t,n]=B.useState([]),[s,o]=B.useState(!1);return B.useEffect(()=>{if(!r)return;(async()=>{o(!0);try{const f=await fetch(`https://perenual.com/api/v2/species-list?key=${lx}&q=${r}`);if(!f.ok)throw new Error(`Error: ${f.status}`);const m=await f.json();console.log(m);const p=m.data.filter(g=>g.id<=3e3).map(g=>{var E;return{id:g.id,common_name:g.common_name,scientific_name:g.scientific_name.join(", "),thumbnail:((E=g.default_image)==null?void 0:E.thumbnail)||"/React-ComIT-Final-Project/logoNew.png"}});console.log("Filtered plants count:",p.length),n(p)}catch(f){console.error(f)}finally{o(!1)}})()},[r]),{plantsData:t,isLoading:s}},cx="/React-ComIT-Final-Project/assets/logoNew-LPtsig2e.png",hx=(r,t)=>jC(Ru,r,t),fx=(r,t)=>HC(Ru,r,t),dx=()=>Ru.signOut(),mx=r=>zC(Ru,r),px="_loginLogoutButton_2cu9v_1",gx={loginLogoutButton:px},X0=()=>{const r=wo(),{userLoggedIn:t}=ha(),n=async()=>{try{await dx(),r("/"),Pt.success("See you later ")}catch(o){console.error("Error logging out:",o)}},s=()=>{r("/login")};return F.jsx("button",{onClick:t?n:s,className:gx.loginLogoutButton,children:t?"Logout":"Login"})},yx="_header_lo6s6_1",_x="_dashboardHeader_lo6s6_12",vx="_headerH1_lo6s6_22",Ex="_logoTitle_lo6s6_27",Tx="_logo_lo6s6_27",bx="_desktopMenu_lo6s6_41",Ax="_plantCollectionLink_lo6s6_47",Sx="_hamburgerMenu_lo6s6_54",wx="_mobileMenu_lo6s6_54",Rx="_headerH4_lo6s6_59",Cx="_dashboardLink_lo6s6_86",Ix="_mobileMenuOpen_lo6s6_106",Ln={header:yx,dashboardHeader:_x,headerH1:vx,logoTitle:Ex,logo:Tx,desktopMenu:bx,plantCollectionLink:Ax,hamburgerMenu:Sx,mobileMenu:wx,headerH4:Rx,dashboardLink:Cx,mobileMenuOpen:Ix},Yb=()=>{const[r,t]=B.useState(!1),n=or(),s=()=>{t(u=>!u)},o=n.pathname==="/plant-dashboard";return F.jsxs("header",{className:o?Ln.dashboardHeader:Ln.header,children:[F.jsxs("figure",{className:Ln.logoTitle,children:[F.jsx("img",{src:cx,alt:"Plant Pals Logo",className:Ln.logo}),F.jsx("figcaption",{children:F.jsx(Ys,{to:"/",children:F.jsx("h1",{className:Ln.headerH1,children:"My Plant Pals"})})})]}),F.jsxs("section",{className:Ln.desktopMenu,children:[!o&&F.jsx(Ys,{to:"/plant-dashboard",className:Ln.plantCollectionLink,children:F.jsx("h4",{className:Ln.headerH4,children:"My Plant Collection"})}),F.jsx(X0,{})]}),F.jsx("button",{className:Ln.hamburgerMenu,onClick:s,"aria-label":"Toggle navigation menu",children:F.jsx("span",{children:r?"":""})}),F.jsxs("nav",{className:r?Ln.mobileMenuOpen:Ln.mobileMenu,children:[!o&&F.jsx(Ys,{to:"/plant-dashboard",className:Ln.dashboardLink,children:F.jsx("h4",{children:"My Plant Collection"})}),F.jsx(X0,{})]})]})},Dx="_searchSection_jld19_1",Nx="_searchH3_jld19_7",Ox="_searchBar_jld19_12",xx="_searchInput_jld19_17",Mx="_goButton_jld19_24",Vx="_srOnly_jld19_37",no={searchSection:Dx,searchH3:Nx,searchBar:Ox,searchInput:xx,goButton:Mx,srOnly:Vx},Px=({searchInputRef:r,onSearch:t})=>F.jsxs("section",{className:no.searchSection,children:[F.jsx("h3",{className:no.searchH3,children:"Find the care guide for your plants:"}),F.jsxs("section",{className:no.searchBar,children:[F.jsx("label",{htmlFor:"plant-input",className:no.srOnly,children:"Search your plant pal"}),F.jsx("input",{className:no.searchInput,id:"plant-input",type:"text",placeholder:"Search your plant pal",ref:r,onKeyDown:n=>{n.key==="Enter"&&t()}}),F.jsx("button",{className:no.goButton,onClick:t,children:"Go"})]})]}),kx="_sortFilterContainer_mzmua_1",Lx="_label_mzmua_7",Ux="_select_mzmua_11",Bx="_input_mzmua_19",io={sortFilterContainer:kx,label:Lx,select:Ux,input:Bx},Xb=({sortBy:r,filterType:t,filterText:n,setSortBy:s,setFilterType:o,setFilterText:u,isHomepage:f})=>{const m=E=>{s(E.target.value)},p=E=>{o(E.target.value)},g=E=>{u(E.target.value)};return F.jsxs("section",{className:io.sortFilterContainer,children:[F.jsx("label",{className:io.label,children:"Sort by:"}),F.jsxs("select",{className:io.select,value:r,onChange:m,children:[F.jsx("option",{value:"none",children:"None"}),F.jsx("option",{value:"alphabetical",children:"Alphabetical"}),!f&&F.jsx("option",{value:"date",children:"Creation Date"})]}),F.jsx("label",{className:io.label,children:"Filter by:"}),F.jsxs("select",{className:io.select,value:t,onChange:p,children:[F.jsx("option",{value:"none",children:"None"}),F.jsx("option",{value:"common-name",children:"Common name"}),F.jsx("option",{value:"scientific-name",children:"Scientific Name"})]}),F.jsx("input",{className:io.input,type:"text",placeholder:"name of the plant...",value:n,onChange:g})]})},zx="_plantDetails_aro15_1",jx="_loadingContainer_aro15_13",Hx="_loadingSpinner_aro15_19",qx="_detailsP_aro15_33",Gs={plantDetails:zx,loadingContainer:jx,loadingSpinner:Hx,detailsP:qx},Fx="sk-PQcq67cf9ed8bcf4c9076",Wb=async r=>{try{const t=await fetch(`https://perenual.com/api/v2/species/details/${r}?key=${Fx}`);if(!t.ok)throw new Error(`Error: ${t.status}`);const n=await t.json();return{watering:n.watering,sunlight:n.sunlight.join(", "),poisonous_to_pets:n.poisonous_to_pets?"Yes":"No",description:n.description}}catch(t){return console.error("Error fetching plant details:",t),null}},Gx=({id:r,isDashboard:t})=>{const[n,s]=B.useState(null),[o,u]=B.useState(!1),{currentUser:f}=ha();return B.useEffect(()=>{(async()=>{u(!0);let p=null;try{if(!t)p=await Wb(r);else if(f){const g=Fp(tf,"plants",f.uid,"userPlants",r),E=await yO(g);E.exists()?p=E.data().plant_details:console.log("No such document")}else console.log("User is not authenticated");s(p)}catch(g){console.error("Error fetching plant details:",g)}finally{u(!1)}})()},[r,t]),o?F.jsx("section",{className:Gs.loadingContainer,children:F.jsx("p",{className:Gs.loadingSpinner})}):n?F.jsxs("section",{className:Gs.plantDetails,children:[F.jsxs("p",{className:Gs.detailsP,children:[F.jsx("strong",{children:"Watering: "}),n.watering]}),F.jsxs("p",{className:Gs.detailsP,children:[F.jsx("strong",{children:"Light: "}),n.sunlight]}),F.jsxs("p",{className:Gs.detailsP,children:[F.jsx("strong",{children:"Pet-friendly: "}),n.poisonous_to_pets]}),F.jsxs("p",{className:Gs.detailsP,children:[F.jsx("strong",{children:"Description: "}),n.description]})]}):F.jsx("p",{children:"No details were found for this plant"})},$x="_cardH3_1spla_1",Kx="_plantCardP_1spla_7",Qx="_cardButtons_1spla_10",Yx="_plantContainer_1spla_23",Xx="_plantCard_1spla_7",Wx="_plantCardDetailsOn_1spla_42",Zx="_plantNames_1spla_71",Jx="_plantActionButtons_1spla_79",di={cardH3:$x,plantCardP:Kx,cardButtons:Qx,plantContainer:Yx,plantCard:Xx,plantCardDetailsOn:Wx,plantNames:Zx,plantActionButtons:Jx},tM=({plant:r,onDelete:t,isDashboard:n})=>{const[s,o]=B.useState(!1),u=wo(),{currentUser:f}=ha(),m=()=>{o(g=>!g)},p=async()=>{if(f)try{const g=wb(tf,"plants",f.uid,"userPlants");if((await Lb(g)).docs.some(O=>O.data().plant_id===r.id)){Pt.error("This plant is already in your collection");return}const R=await Wb(r.id);await vO(g,{plant_id:r.id,common_name:r.common_name,scientific_name:r.scientific_name,thumbnail:r.thumbnail,plant_details:R,date_created:TO()}),Pt.success("Plant added successfully!"),u("/plant-dashboard")}catch(g){console.error("Error adding plant: ",g)}else u("/login"),Pt.success("Please login to add a plant")};return F.jsxs("section",{className:di.plantContainer,children:[F.jsxs("article",{className:s?di.plantCardDetailsOn:di.plantCard,children:[F.jsx("img",{src:r.thumbnail,alt:`Plant picture of ${r.common_name}`}),F.jsxs("section",{className:di.plantNames,children:[F.jsx("h3",{className:di.cardH3,children:r.common_name.charAt(0).toUpperCase()+r.common_name.slice(1).toLowerCase()}),F.jsxs("p",{className:di.plantCardP,children:[F.jsx("strong",{children:"Scientific name: "}),r.scientific_name]})]}),F.jsxs("section",{className:di.plantActionButtons,children:[F.jsx("button",{className:di.cardButtons,onClick:m,children:"Details"}),!n&&F.jsx("button",{className:di.cardButtons,onClick:p,children:"Add"}),n&&F.jsx("button",{className:di.cardButtons,onClick:()=>t(r.id),children:"Remove"})]})]}),s&&F.jsx(Gx,{id:r.id,isDashboard:n})]})},eM="_listContainer_1w4gh_1",nM="_loadingSpinner_1w4gh_8",iM="_notFound_1w4gh_22",rM="_plantList_1w4gh_28",sM="_listItem_1w4gh_39",Hl={listContainer:eM,loadingSpinner:nM,notFound:iM,plantList:rM,listItem:sM},Zb=({searchTerm:r,filteredPlants:t,isLoading:n,onDelete:s,isDashboard:o})=>F.jsx("section",{className:Hl.listContainer,children:n?F.jsx("section",{children:F.jsx("p",{className:Hl.loadingSpinner})}):r&&t.length===0?F.jsx("p",{className:Hl.notFound,children:"No plants found. Try another plant name!"}):F.jsx("ul",{className:Hl.plantList,children:t.map(u=>F.jsx("li",{className:Hl.listItem,children:F.jsx(tM,{plant:u,onDelete:s,isDashboard:o})},u.id))})}),aM="_footerContainer_1l1rd_1",oM={footerContainer:aM},Jb=()=>{const t=`${new Date().getFullYear()} Created by Sara Costa Cabral Mululo for  ComIT React Course`;return F.jsx("footer",{className:oM.footerContainer,children:F.jsx("h5",{children:t})})},lM="_homeContainer_1ijy5_1",uM="_container_1ijy5_6",cM="_homeH2_1ijy5_12",bm={homeContainer:lM,container:uM,homeH2:cM},hM=()=>{const[r,t]=B.useState(""),[n,s]=B.useState("none"),[o,u]=B.useState("none"),[f,m]=B.useState(""),p=B.useRef(null);B.useEffect(()=>{document.title="Plant Pals - Homepage"},[]);const{plantsData:g,isLoading:E}=ux(r),S=()=>{p.current&&(t(p.current.value),p.current.value="")},R=Qb(g,o,f,n);return F.jsxs("section",{className:bm.homeContainer,children:[F.jsxs("section",{className:bm.container,children:[F.jsx(Yb,{}),F.jsxs("main",{children:[F.jsx("h2",{className:bm.homeH2,children:"The help you need to manage your plant collection!"}),F.jsx(Px,{searchInputRef:p,onSearch:S}),F.jsx(Xb,{sortBy:n,filterType:o,filterText:f,setSortBy:s,setFilterType:u,setFilterText:m,isHomepage:!0}),F.jsx(Zb,{searchTerm:r,filteredPlants:R,isLoading:E,isDashboard:!1})]})]}),F.jsx(Jb,{})]})},fM="_accountBoxH2_o004y_1",dM="_accountInput_o004y_6",mM="_createAccountButton_o004y_13",pM="_accountLoginButton_o004y_23",gM="_accountP_o004y_26",yM="_errorMessage_o004y_40",$s={accountBoxH2:fM,accountInput:dM,createAccountButton:mM,accountLoginButton:pM,accountP:gM,errorMessage:yM},_M=({setIsCreateAccount:r})=>{const[t,n]=B.useState(""),[s,o]=B.useState(""),[u,f]=B.useState(null),m=wo(),p=async g=>{g.preventDefault();try{await hx(t,s),m("/plant-dashboard")}catch{f("Failed to create account. Please try again.")}};return F.jsxs("section",{children:[F.jsx("h2",{className:$s.accountBoxH2,children:"Create an account"}),u&&F.jsx("p",{className:$s.errorMessage,children:u}),F.jsxs("form",{onSubmit:p,children:[F.jsx("input",{className:$s.accountInput,type:"email",placeholder:"Email",value:t,onChange:g=>n(g.target.value),required:!0}),F.jsx("input",{className:$s.accountInput,type:"password",placeholder:"Password",value:s,onChange:g=>o(g.target.value),required:!0}),F.jsx("button",{className:$s.createAccountButton,type:"submit",children:"Create Account"})]}),F.jsxs("p",{className:$s.accountP,children:["Already have an account? "," ",F.jsx("button",{className:$s.accountLoginButton,onClick:()=>r(!1),children:"Login"})]})]})},vM="_resetH2_mu4e9_1",EM="_srOnly_mu4e9_6",TM="_resetInput_mu4e9_17",bM="_resetEmailButton_mu4e9_24",AM="_resetLoginButton_mu4e9_34",SM="_errorMessage_mu4e9_66",ro={resetH2:vM,srOnly:EM,resetInput:TM,resetEmailButton:bM,resetLoginButton:AM,errorMessage:SM},wM=({setIsResetPassword:r})=>{const[t,n]=B.useState(""),[s,o]=B.useState(null),[u,f]=B.useState(""),m=async p=>{p.preventDefault();try{await mx(t),f("A password reset link has been sent to your email address."),o(null)}catch{o("Failed to send reset email. Please check your email address")}};return F.jsxs("section",{children:[F.jsx("h2",{className:ro.resetH2,children:"Reset Your Password"}),s&&F.jsx("p",{className:ro.errorMessage,children:s}),u&&F.jsx("p",{children:u}),F.jsxs("form",{onSubmit:m,children:[F.jsx("label",{htmlFor:"email",className:ro.srOnly,children:"Email Address"}),F.jsx("input",{className:ro.resetInput,type:"email",placeholder:"Enter your email",value:t,onChange:p=>n(p.target.value),required:!0}),F.jsx("button",{className:ro.resetEmailButton,type:"submit",children:"Send Reset Email"})]}),F.jsx("button",{className:ro.resetLoginButton,onClick:()=>r(!1),children:"Back to Login"})]})},RM="_loginContainer_1u7re_1",CM="_loginBox_1u7re_8",IM="_loginBoxH2_1u7re_21",DM="_loginBoxInput_1u7re_26",NM="_loginBoxFormButton_1u7re_33",OM="_loginBoxButton_1u7re_45",xM="_loginP_1u7re_56",MM="_closeButtonContainer_1u7re_61",VM="_closeButton_1u7re_61",PM="_errorMessage_1u7re_81",_n={loginContainer:RM,loginBox:CM,loginBoxH2:IM,loginBoxInput:DM,loginBoxFormButton:NM,loginBoxButton:OM,loginP:xM,closeButtonContainer:MM,closeButton:VM,errorMessage:PM},kM=()=>{const[r,t]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(null),[f,m]=B.useState(!1),[p,g]=B.useState(!1),E=wo(),{userLoggedIn:S}=ha();B.useEffect(()=>{S&&E("/")},[S,E]);const R=async k=>{k.preventDefault();try{await fx(r,n),E("/"),Pt.success("Youre in, plant lover ")}catch{u("Failed to log in. Please check your email and password.")}},O=()=>{E("/")};return F.jsx("section",{className:_n.loginContainer,children:F.jsxs("section",{className:_n.loginBox,children:[F.jsx("section",{className:_n.closeButtonContainer,children:F.jsx("button",{className:_n.closeButton,onClick:O,children:"X"})}),p?F.jsx(wM,{setIsResetPassword:g}):f?F.jsx(_M,{setIsCreateAccount:m}):F.jsxs(F.Fragment,{children:[F.jsx("h2",{className:_n.loginBoxH2,children:"Login to add a plant"}),o&&F.jsx("p",{className:_n.errorMessage,children:o}),F.jsxs("form",{onSubmit:R,children:[F.jsx("input",{className:_n.loginBoxInput,type:"email",placeholder:"Email",value:r,onChange:k=>t(k.target.value),required:!0}),F.jsx("input",{className:_n.loginBoxInput,type:"password",placeholder:"Password",value:n,onChange:k=>s(k.target.value),required:!0}),F.jsx("button",{className:_n.loginBoxFormButton,type:"submit",children:"Login"})]}),F.jsx("p",{className:_n.loginP,children:"Forgot your password?"}),F.jsx("button",{className:_n.loginBoxButton,onClick:()=>g(!0),children:"Reset Password"}),F.jsx("p",{className:_n.loginP,children:"Don't have an account?"}),F.jsx("button",{className:_n.loginBoxButton,onClick:()=>m(!0),children:"Create one here"})]})]})})},LM=()=>{const[r,t]=B.useState([]),[n,s]=B.useState(!0),{currentUser:o}=ha();return B.useEffect(()=>{(async()=>{if(!o){s(!1);return}try{const f=wb(tf,"plants",o.uid,"userPlants"),m=hO(f,fO("date_created","desc")),g=(await Lb(m)).docs.map(E=>({id:E.id,...E.data()}));t(g)}catch(f){console.error("Error fetching plants:",f)}finally{s(!1)}})()},[o]),{plants:r,setPlants:t,isLoading:n}},UM="_container_1lwx4_1",BM="_authContainer_1lwx4_7",zM="_authBox_1lwx4_14",jM="_authBoxH2_1lwx4_26",HM="_authBoxLink_1lwx4_30",qM="_dashboardH2Container_1lwx4_40",FM="_dashboardH2_1lwx4_40",GM="_addMoreButtonContainer_1lwx4_52",$M="_addMoreButton_1lwx4_52",Yi={container:UM,authContainer:BM,authBox:zM,authBoxH2:jM,authBoxLink:HM,dashboardH2Container:qM,dashboardH2:FM,addMoreButtonContainer:GM,addMoreButton:$M},KM=()=>{const[r,t]=B.useState("none"),[n,s]=B.useState("none"),[o,u]=B.useState(""),{currentUser:f}=ha(),{plants:m,setPlants:p,isLoading:g}=LM();B.useEffect(()=>{document.title="Plant Pals - My Plant Collection"},[]);const E=async R=>{if(f)try{const O=Fp(tf,"plants",f.uid,"userPlants",R);await _O(O),Pt.success("Plant removed successfully!"),p(k=>k.filter(G=>G.id!==R))}catch(O){console.error("Error removing plant: ",O),Pt.error("failed to delete plant.")}},S=Qb(m,n,o,r);return f?F.jsxs("section",{className:Yi.container,children:[F.jsx(Yb,{}),F.jsxs("main",{children:[F.jsx("section",{className:Yi.dashboardH2Container,children:F.jsx("h2",{className:Yi.dashboardH2,children:"My Plant Collection"})}),F.jsx("section",{className:Yi.addMoreButtonContainer,children:F.jsx(Ys,{to:"/",children:F.jsx("button",{className:Yi.addMoreButton,children:"Add More Plants"})})}),F.jsx(Xb,{sortBy:r,filterType:n,filterText:o,setSortBy:t,setFilterType:s,setFilterText:u,isHomepage:!1}),F.jsx(Zb,{filteredPlants:S,isLoading:g,onDelete:E,isDashboard:!0})]}),F.jsx(Jb,{})]}):F.jsx("section",{className:Yi.authContainer,children:F.jsxs("section",{className:Yi.authBox,children:[F.jsx("h2",{className:Yi.authBoxH2,children:"Please log in to view your plant collection:"}),F.jsx(Ys,{className:Yi.authBoxLink,to:"/login",children:"Go to Login"})]})})},QM=()=>F.jsx(AO,{children:F.jsxs(Yw,{children:[F.jsx(rx,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),F.jsxs(ww,{children:[F.jsx(ih,{path:"/",element:F.jsx(hM,{})}),F.jsx(ih,{path:"/login",element:F.jsx(kM,{})}),F.jsx(ih,{path:"/plant-dashboard",element:F.jsxs(ox,{children:[" ",F.jsx(KM,{})," "]})})]})]})});VS.createRoot(document.getElementById("root")).render(F.jsx(B.StrictMode,{children:F.jsx(QM,{})}));
