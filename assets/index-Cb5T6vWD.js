(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function DS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function NS(){if(ov)return Bl;ov=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=t,Bl.jsx=n,Bl.jsxs=n,Bl}var lv;function OS(){return lv||(lv=1,rm.exports=NS()),rm.exports}var H=OS(),sm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function xS(){if(uv)return Rt;uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function L(M,nt,pt){this.props=M,this.context=nt,this.refs=G,this.updater=pt||O}L.prototype.isReactComponent={},L.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=L.prototype;function K(M,nt,pt){this.props=M,this.context=nt,this.refs=G,this.updater=pt||O}var Q=K.prototype=new $;Q.constructor=K,V(Q,L.prototype),Q.isPureReactComponent=!0;var it=Array.isArray,st={H:null,A:null,T:null,S:null},mt=Object.prototype.hasOwnProperty;function N(M,nt,pt,ot,lt,Ct){return pt=Ct.ref,{$$typeof:r,type:M,key:nt,ref:pt!==void 0?pt:null,props:Ct}}function w(M,nt){return N(M.type,nt,void 0,void 0,void 0,M.props)}function S(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function I(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pt){return nt[pt]})}var x=/\/+/g;function B(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):nt.toString(36)}function D(){}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,nt,pt,ot,lt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var wt=!1;if(M===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(M.$$typeof){case r:case t:wt=!0;break;case E:return wt=M._init,ne(wt(M._payload),nt,pt,ot,lt)}}if(wt)return lt=lt(M),wt=ot===""?"."+B(M,0):ot,it(lt)?(pt="",wt!=null&&(pt=wt.replace(x,"$&/")+"/"),ne(lt,nt,pt,"",function(oe){return oe})):lt!=null&&(S(lt)&&(lt=w(lt,pt+(lt.key==null||M&&M.key===lt.key?"":(""+lt.key).replace(x,"$&/")+"/")+wt)),nt.push(lt)),1;wt=0;var ge=ot===""?".":ot+":";if(it(M))for(var zt=0;zt<M.length;zt++)ot=M[zt],Ct=ge+B(ot,zt),wt+=ne(ot,nt,pt,Ct,lt);else if(zt=R(M),typeof zt=="function")for(M=zt.call(M),zt=0;!(ot=M.next()).done;)ot=ot.value,Ct=ge+B(ot,zt++),wt+=ne(ot,nt,pt,Ct,lt);else if(Ct==="object"){if(typeof M.then=="function")return ne(fe(M),nt,pt,ot,lt);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function at(M,nt,pt){if(M==null)return M;var ot=[],lt=0;return ne(M,ot,"","",function(Ct){return nt.call(pt,Ct,lt++)}),ot}function _t(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(pt){(M._status===0||M._status===-1)&&(M._status=1,M._result=pt)},function(pt){(M._status===0||M._status===-1)&&(M._status=2,M._result=pt)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var ft=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ft(){}return Rt.Children={map:at,forEach:function(M,nt,pt){at(M,function(){nt.apply(this,arguments)},pt)},count:function(M){var nt=0;return at(M,function(){nt++}),nt},toArray:function(M){return at(M,function(nt){return nt})||[]},only:function(M){if(!S(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=L,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=K,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,nt,pt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=V({},M.props),lt=M.key,Ct=void 0;if(nt!=null)for(wt in nt.ref!==void 0&&(Ct=void 0),nt.key!==void 0&&(lt=""+nt.key),nt)!mt.call(nt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&nt.ref===void 0||(ot[wt]=nt[wt]);var wt=arguments.length-2;if(wt===1)ot.children=pt;else if(1<wt){for(var ge=Array(wt),zt=0;zt<wt;zt++)ge[zt]=arguments[zt+2];ot.children=ge}return N(M.type,lt,void 0,void 0,Ct,ot)},Rt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,nt,pt){var ot,lt={},Ct=null;if(nt!=null)for(ot in nt.key!==void 0&&(Ct=""+nt.key),nt)mt.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(lt[ot]=nt[ot]);var wt=arguments.length-2;if(wt===1)lt.children=pt;else if(1<wt){for(var ge=Array(wt),zt=0;zt<wt;zt++)ge[zt]=arguments[zt+2];lt.children=ge}if(M&&M.defaultProps)for(ot in wt=M.defaultProps,wt)lt[ot]===void 0&&(lt[ot]=wt[ot]);return N(M,Ct,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:m,render:M}},Rt.isValidElement=S,Rt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_t}},Rt.memo=function(M,nt){return{$$typeof:g,type:M,compare:nt===void 0?null:nt}},Rt.startTransition=function(M){var nt=st.T,pt={};st.T=pt;try{var ot=M(),lt=st.S;lt!==null&&lt(pt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ft,ft)}catch(Ct){ft(Ct)}finally{st.T=nt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(M){return st.H.use(M)},Rt.useActionState=function(M,nt,pt){return st.H.useActionState(M,nt,pt)},Rt.useCallback=function(M,nt){return st.H.useCallback(M,nt)},Rt.useContext=function(M){return st.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,nt){return st.H.useDeferredValue(M,nt)},Rt.useEffect=function(M,nt){return st.H.useEffect(M,nt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(M,nt,pt){return st.H.useImperativeHandle(M,nt,pt)},Rt.useInsertionEffect=function(M,nt){return st.H.useInsertionEffect(M,nt)},Rt.useLayoutEffect=function(M,nt){return st.H.useLayoutEffect(M,nt)},Rt.useMemo=function(M,nt){return st.H.useMemo(M,nt)},Rt.useOptimistic=function(M,nt){return st.H.useOptimistic(M,nt)},Rt.useReducer=function(M,nt,pt){return st.H.useReducer(M,nt,pt)},Rt.useRef=function(M){return st.H.useRef(M)},Rt.useState=function(M){return st.H.useState(M)},Rt.useSyncExternalStore=function(M,nt,pt){return st.H.useSyncExternalStore(M,nt,pt)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.0.0",Rt}var cv;function ep(){return cv||(cv=1,sm.exports=xS()),sm.exports}var U=ep();const Jt=DS(U);var am={exports:{}},zl={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function MS(){return hv||(hv=1,function(r){function t(at,_t){var ft=at.length;at.push(_t);t:for(;0<ft;){var Ft=ft-1>>>1,M=at[Ft];if(0<o(M,_t))at[Ft]=_t,at[ft]=M,ft=Ft;else break t}}function n(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var _t=at[0],ft=at.pop();if(ft!==_t){at[0]=ft;t:for(var Ft=0,M=at.length,nt=M>>>1;Ft<nt;){var pt=2*(Ft+1)-1,ot=at[pt],lt=pt+1,Ct=at[lt];if(0>o(ot,ft))lt<M&&0>o(Ct,ot)?(at[Ft]=Ct,at[lt]=ft,Ft=lt):(at[Ft]=ot,at[pt]=ft,Ft=pt);else if(lt<M&&0>o(Ct,ft))at[Ft]=Ct,at[lt]=ft,Ft=lt;else break t}}return _t}function o(at,_t){var ft=at.sortIndex-_t.sortIndex;return ft!==0?ft:at.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,R=3,O=!1,V=!1,G=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Q(at){for(var _t=n(g);_t!==null;){if(_t.callback===null)s(g);else if(_t.startTime<=at)s(g),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=n(g)}}function it(at){if(G=!1,Q(at),!V)if(n(p)!==null)V=!0,fe();else{var _t=n(g);_t!==null&&ne(it,_t.startTime-at)}}var st=!1,mt=-1,N=5,w=-1;function S(){return!(r.unstable_now()-w<N)}function I(){if(st){var at=r.unstable_now();w=at;var _t=!0;try{t:{V=!1,G&&(G=!1,$(mt),mt=-1),O=!0;var ft=R;try{e:{for(Q(at),A=n(p);A!==null&&!(A.expirationTime>at&&S());){var Ft=A.callback;if(typeof Ft=="function"){A.callback=null,R=A.priorityLevel;var M=Ft(A.expirationTime<=at);if(at=r.unstable_now(),typeof M=="function"){A.callback=M,Q(at),_t=!0;break e}A===n(p)&&s(p),Q(at)}else s(p);A=n(p)}if(A!==null)_t=!0;else{var nt=n(g);nt!==null&&ne(it,nt.startTime-at),_t=!1}}break t}finally{A=null,R=ft,O=!1}_t=void 0}}finally{_t?x():st=!1}}}var x;if(typeof K=="function")x=function(){K(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=I,x=function(){D.postMessage(null)}}else x=function(){L(I,0)};function fe(){st||(st=!0,x())}function ne(at,_t){mt=L(function(){at(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_continueExecution=function(){V||O||(V=!0,fe())},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(at){switch(R){case 1:case 2:case 3:var _t=3;break;default:_t=R}var ft=R;R=_t;try{return at()}finally{R=ft}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(at,_t){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ft=R;R=at;try{return _t()}finally{R=ft}},r.unstable_scheduleCallback=function(at,_t,ft){var Ft=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ft+ft:Ft):ft=Ft,at){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ft+M,at={id:E++,callback:_t,priorityLevel:at,startTime:ft,expirationTime:M,sortIndex:-1},ft>Ft?(at.sortIndex=ft,t(g,at),n(p)===null&&at===n(g)&&(G?($(mt),mt=-1):G=!0,ne(it,ft-Ft))):(at.sortIndex=M,t(p,at),V||O||(V=!0,fe())),at},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(at){var _t=R;return function(){var ft=R;R=_t;try{return at.apply(this,arguments)}finally{R=ft}}}}(lm)),lm}var fv;function PS(){return fv||(fv=1,om.exports=MS()),om.exports}var um={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function VS(){if(dv)return Ke;dv=1;var r=ep();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ke.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var mv;function kS(){if(mv)return um.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),um.exports=VS(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function LS(){if(pv)return zl;pv=1;var r=PS(),t=ep(),n=kS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function mt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case V:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case K:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,x,B;function D(e){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+B}var fe=!1;function ne(e,i){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var F=X}Reflect.construct(e,[],et)}else{try{et.call()}catch(X){F=X}e.call(et.prototype)}}else{try{throw Error()}catch(X){F=X}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),k=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===k.length)for(l=C.length-1,h=k.length-1;1<=l&&0<=h&&C[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==k[h]){var W=`
`+C[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?D(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function _t(e){try{var i="";do i+=at(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ft(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function M(e){if(ft(e)!==e)throw Error(s(188))}function nt(e){var i=e.alternate;if(!i){if(i=ft(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),e;if(d===l)return M(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function pt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=pt(e),i!==null)return i;e=e.sibling}return null}var ot=Array.isArray,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},wt=[],ge=-1;function zt(e){return{current:e}}function oe(e){0>ge||(e.current=wt[ge],wt[ge]=null,ge--)}function Kt(e,i){ge++,wt[ge]=e.current,e.current=i}var Ze=zt(null),Ai=zt(null),bn=zt(null),dr=zt(null);function mr(e,i){switch(Kt(bn,i),Kt(Ai,e),Kt(Ze,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?k_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=k_(e),i=L_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(Ze),Kt(Ze,i)}function Si(){oe(Ze),oe(Ai),oe(bn)}function Po(e){e.memoizedState!==null&&Kt(dr,e);var i=Ze.current,a=L_(i,e.type);i!==a&&(Kt(Ai,e),Kt(Ze,a))}function da(e){Ai.current===e&&(oe(Ze),oe(Ai)),dr.current===e&&(oe(dr),Pl._currentValue=Ct)}var ma=Object.prototype.hasOwnProperty,ps=r.unstable_scheduleCallback,pa=r.unstable_cancelCallback,af=r.unstable_shouldYield,Vo=r.unstable_requestPaint,an=r.unstable_now,Nu=r.unstable_getCurrentPriorityLevel,be=r.unstable_ImmediatePriority,Ne=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,Ou=r.unstable_LowPriority,ko=r.unstable_IdlePriority,of=r.log,gs=r.unstable_setDisableYieldValue,pr=null,Ge=null;function Lo(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(pr,e,void 0,(e.current.flags&128)===128)}catch{}}function Jn(e){if(typeof of=="function"&&gs(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(pr,e)}catch{}}var Je=Math.clz32?Math.clz32:Mu,Uo=Math.log,xu=Math.LN2;function Mu(e){return e>>>=0,e===0?32:31-(Uo(e)/xu|0)|0}var ti=128,gr=4194304;function Hn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function An(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Hn(a):(d&=T,d!==0?l=Hn(d):e||(v=T&~v,v!==0&&(l=Hn(v))))):(T=a&~h,T!==0?l=Hn(T):d!==0?l=Hn(d):e||(v=a&~v,v!==0&&(l=Hn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ga(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=ti;return ti<<=1,!(ti&4194176)&&(ti=128),e}function _r(){var e=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),e}function ya(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function de(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Je(a),et=1<<W;T[W]=0,C[W]=-1;var F=k[W];if(F!==null)for(k[W]=null,W=0;W<F.length;W++){var X=F[W];X!==null&&(X.lane&=-536870913)}a&=~et}l!==0&&vr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function vr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function Er(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Je(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ku(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:ev(e.type))}function Tr(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var ei=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ei,Ae="__reactProps$"+ei,Ri="__reactContainer$"+ei,ys="__reactEvents$"+ei,_a="__reactListeners$"+ei,ni="__reactHandles$"+ei,zo="__reactResources$"+ei,br="__reactMarker$"+ei;function _s(e){delete e[Oe],delete e[Ae],delete e[ys],delete e[_a],delete e[ni]}function qn(e){var i=e[Oe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ri]||a[Oe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=z_(e);e!==null;){if(a=e[Oe])return a;e=z_(e)}return i}e=a,a=e.parentNode}return null}function Ci(e){if(e=e[Oe]||e[Ri]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ar(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Sr(e){var i=e[zo];return i||(i=e[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(e){e[br]=!0}var jo=new Set,va={};function dn(e,i){on(e,i),on(e+"Capture",i)}function on(e,i){for(va[e]=i,e=0;e<i.length;e++)jo.add(i[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},qo={};function Lu(e){return ma.call(qo,e)?!0:ma.call(Ho,e)?!1:lf.test(e)?qo[e]=!0:(Ho[e]=!0,!1)}function wr(e,i,a){if(Lu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Rr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Sn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function uf(e){var i=Uu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function vs(e){e._valueTracker||(e._valueTracker=uf(e))}function Fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Uu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ii=/[\n"\\]/g;function le(e){return e.replace(Ii,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cr(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ta(e,v,tn(i)):a!=null?Ta(e,v,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function Es(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ta(e,i,a){i==="number"&&Ea(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ts(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function Ir(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function wn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||cf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Bu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(e,d,i[d])}function $o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return ff.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rn=null;function ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Ni=null;function Oi(e){var i=Ci(e);if(i&&(e=i.stateNode)){var a=e[Ae]||null;t:switch(e=i.stateNode,i.type){case"input":if(Cr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+le(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ae]||null;if(!h)throw Error(s(90));Cr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Fo(l)}break t;case"textarea":Ts(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&jt(e,!!a.multiple,i,!1)}}}var Ko=!1;function zu(e,i,a){if(Ko)return e(i,a);Ko=!0;try{var l=e(i);return l}finally{if(Ko=!1,(Di!==null||Ni!==null)&&(Oc(),Di&&(i=Di,e=Ni,Ni=Di=null,Oi(i),e)))for(i=0;i<e.length;i++)Oi(e[i])}}function bs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!1;if(mn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Cn=!1}var ri=null,Dr=null,xi=null;function Qo(){if(xi)return xi;var e,i=Dr,a=i.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return xi=h.slice(e,1<l?1-l:void 0)}function si(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function Yo(){return!1}function xe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Yo,this.isPropagationStopped=Yo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=xe(Gt),Ss=I({},Gt,{view:0,detail:0}),ju=xe(Ss),Sa,wa,oi,ws=I({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Sa=e.screenX-oi.screenX,wa=e.screenY-oi.screenY):wa=Sa=0,oi=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),In=xe(ws),Hu=I({},ws,{dataTransfer:0}),df=xe(Hu),Rs=I({},Ss,{relatedTarget:0}),Ra=xe(Rs),Xo=I({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=xe(Xo),qu=I({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ia=xe(qu),mf=I({},Gt,{data:0}),Wo=xe(mf),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Gu[e])?!!i[e]:!1}function Is(){return Zo}var $u=I({},Ss,{key:function(e){if(e.key){var i=Cs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Da=xe($u),Ku=I({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=xe(Ku),Mi=I({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Qu=xe(Mi),Yu=I({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=xe(Yu),Wu=I({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=xe(Wu),en=I({},Gt,{newState:0,oldState:0}),Zu=xe(en),Ju=[9,13,27,32],li=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var y=mn&&"TextEvent"in window&&!c,_=mn&&(!li||c&&8<c&&11>=c),b=" ",j=!1;function Y(e,i){switch(e){case"keyup":return Ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Se(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return e=i.data,e===b&&j?null:e;default:return null}}function kt(e,i){if(Vt)return e==="compositionend"||!li&&Y(e,i)?(e=Qo(),xi=Dr=ri=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Me[e.type]:i==="textarea"}function Pi(e,i,a,l){Di?Ni?Ni.push(l):Ni=[l]:Di=l,i=kc(i,"onChange"),0<i.length&&(a=new Aa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,ui=null;function tl(e){O_(e,0)}function tc(e){var i=Ar(e);if(Fo(i))return e}function ag(e,i){if(e==="change")return i}var og=!1;if(mn){var pf;if(mn){var gf="oninput"in document;if(!gf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),gf=typeof lg.oninput=="function"}pf=gf}else pf=!1;og=pf&&(!document.documentMode||9<document.documentMode)}function ug(){Ue&&(Ue.detachEvent("onpropertychange",cg),ui=Ue=null)}function cg(e){if(e.propertyName==="value"&&tc(ui)){var i=[];Pi(i,ui,e,ba(e)),zu(tl,i)}}function sA(e,i,a){e==="focusin"?(ug(),Ue=i,ui=a,Ue.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function aA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(ui)}function oA(e,i){if(e==="click")return tc(i)}function lA(e,i){if(e==="input"||e==="change")return tc(i)}function uA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:uA;function el(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ma.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,i){var a=hg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hg(a)}}function dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ea(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ea(e.document)}return i}function yf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function cA(e,i){var a=mg(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&dg(i.ownerDocument.documentElement,i)){if(l!==null&&yf(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=fg(i,d);var v=fg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var hA=mn&&"documentMode"in document&&11>=document.documentMode,Oa=null,_f=null,nl=null,vf=!1;function pg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Oa==null||Oa!==Ea(l)||(l=Oa,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=kc(_f,"onSelect"),0<l.length&&(i=new Aa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Oa)))}function Ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var xa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Ef={},gg={};mn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ns(e){if(Ef[e])return Ef[e];if(!xa[e])return e;var i=xa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in gg)return Ef[e]=i[a];return e}var yg=Ns("animationend"),_g=Ns("animationiteration"),vg=Ns("animationstart"),fA=Ns("transitionrun"),dA=Ns("transitionstart"),mA=Ns("transitioncancel"),Eg=Ns("transitionend"),Tg=new Map,bg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(e,i){Tg.set(e,i),dn(i,[e])}var Dn=[],Ma=0,Tf=0;function ec(){for(var e=Ma,i=Tf=Ma=0;i<e;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function nc(e,i,a,l){Dn[Ma++]=e,Dn[Ma++]=i,Dn[Ma++]=a,Dn[Ma++]=l,Tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bf(e,i,a,l){return nc(e,i,a,l),ic(e)}function Nr(e,i){return nc(e,null,null,i),ic(e)}function Ag(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Je(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function ic(e){if(50<Cl)throw Cl=0,Id=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Pa={},Sg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=Sg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:_t(i)},Sg.set(e,i),i)}return{value:e,source:i,stack:_t(i)}}var Va=[],ka=0,rc=null,sc=0,On=[],xn=0,Os=null,Vi=1,ki="";function xs(e,i){Va[ka++]=sc,Va[ka++]=rc,rc=e,sc=i}function wg(e,i,a){On[xn++]=Vi,On[xn++]=ki,On[xn++]=Os,Os=e;var l=Vi;e=ki;var h=32-Je(l)-1;l&=~(1<<h),a+=1;var d=32-Je(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-Je(i)+h|a<<h|l,ki=d+e}else Vi=1<<d|a<<h|l,ki=e}function Af(e){e.return!==null&&(xs(e,1),wg(e,1,0))}function Sf(e){for(;e===rc;)rc=Va[--ka],Va[ka]=null,sc=Va[--ka],Va[ka]=null;for(;e===Os;)Os=On[--xn],On[xn]=null,ki=On[--xn],On[xn]=null,Vi=On[--xn],On[xn]=null}var nn=null,Be=null,Ht=!1,Gn=null,ci=!1,wf=Error(s(519));function Ms(e){var i=Error(s(418,""));throw sl(Nn(i,e)),wf}function Rg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Oe]=e,i[Ae]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Mt(Dl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vs(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Ir(i,l.value,l.defaultValue,l.children),vs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||V_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||Ms(e)}function Cg(e){for(nn=e.return;nn;)switch(nn.tag){case 3:case 27:ci=!0;return;case 5:case 13:ci=!1;return;default:nn=nn.return}}function il(e){if(e!==nn)return!1;if(!Ht)return Cg(e),Ht=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Be&&Ms(e),Cg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Be=Kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Be=null}}else Be=nn?Kn(e.stateNode.nextSibling):null;return!0}function rl(){Be=nn=null,Ht=!1}function sl(e){Gn===null?Gn=[e]:Gn.push(e)}var al=Error(s(460)),Ig=Error(s(474)),Rf={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ac(){}function Ng(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ac,ac),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===al?Error(s(483)):e;default:if(typeof i.status=="string")i.then(ac,ac);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===al?Error(s(483)):e}throw ol=i,al}}var ol=null;function Og(){if(ol===null)throw Error(s(459));var e=ol;return ol=null,e}var La=null,ll=0;function oc(e){var i=ll;return ll+=1,La===null&&(La=[]),Ng(La,e,i)}function ul(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function lc(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function xg(e){var i=e._init;return i(e._payload)}function Mg(e){function i(z,P){if(e){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function a(z,P){if(!e)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=Hr(z,P),z.index=0,z.sibling=null,z}function d(z,P,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=33554434,P):q):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,P,q,Z){return P===null||P.tag!==6?(P=Ed(q,z.mode,Z),P.return=z,P):(P=h(P,q),P.return=z,P)}function C(z,P,q,Z){var ht=q.type;return ht===p?W(z,P,q.props.children,Z,q.key):P!==null&&(P.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===K&&xg(ht)===P.type)?(P=h(P,q.props),ul(P,q),P.return=z,P):(P=Rc(q.type,q.key,q.props,null,z.mode,Z),ul(P,q),P.return=z,P)}function k(z,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Td(q,z.mode,Z),P.return=z,P):(P=h(P,q.children||[]),P.return=z,P)}function W(z,P,q,Z,ht){return P===null||P.tag!==7?(P=qs(q,z.mode,Z,ht),P.return=z,P):(P=h(P,q),P.return=z,P)}function et(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ed(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return q=Rc(P.type,P.key,P.props,null,z.mode,q),ul(q,P),q.return=z,q;case m:return P=Td(P,z.mode,q),P.return=z,P;case K:var Z=P._init;return P=Z(P._payload),et(z,P,q)}if(ot(P)||mt(P))return P=qs(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return et(z,oc(P),q);if(P.$$typeof===O)return et(z,Ac(z,P),q);lc(z,P)}return null}function F(z,P,q,Z){var ht=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:T(z,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===ht?C(z,P,q,Z):null;case m:return q.key===ht?k(z,P,q,Z):null;case K:return ht=q._init,q=ht(q._payload),F(z,P,q,Z)}if(ot(q)||mt(q))return ht!==null?null:W(z,P,q,Z,null);if(typeof q.then=="function")return F(z,P,oc(q),Z);if(q.$$typeof===O)return F(z,P,Ac(z,q),Z);lc(z,q)}return null}function X(z,P,q,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,T(P,z,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?q:Z.key)||null,C(P,z,Z,ht);case m:return z=z.get(Z.key===null?q:Z.key)||null,k(P,z,Z,ht);case K:var Dt=Z._init;return Z=Dt(Z._payload),X(z,P,q,Z,ht)}if(ot(Z)||mt(Z))return z=z.get(q)||null,W(P,z,Z,ht,null);if(typeof Z.then=="function")return X(z,P,q,oc(Z),ht);if(Z.$$typeof===O)return X(z,P,q,Ac(P,Z),ht);lc(P,Z)}return null}function dt(z,P,q,Z){for(var ht=null,Dt=null,gt=P,vt=P=0,ke=null;gt!==null&&vt<q.length;vt++){gt.index>vt?(ke=gt,gt=null):ke=gt.sibling;var qt=F(z,gt,q[vt],Z);if(qt===null){gt===null&&(gt=ke);break}e&&gt&&qt.alternate===null&&i(z,gt),P=d(qt,P,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt,gt=ke}if(vt===q.length)return a(z,gt),Ht&&xs(z,vt),ht;if(gt===null){for(;vt<q.length;vt++)gt=et(z,q[vt],Z),gt!==null&&(P=d(gt,P,vt),Dt===null?ht=gt:Dt.sibling=gt,Dt=gt);return Ht&&xs(z,vt),ht}for(gt=l(gt);vt<q.length;vt++)ke=X(gt,z,vt,q[vt],Z),ke!==null&&(e&&ke.alternate!==null&&gt.delete(ke.key===null?vt:ke.key),P=d(ke,P,vt),Dt===null?ht=ke:Dt.sibling=ke,Dt=ke);return e&&gt.forEach(function(Yr){return i(z,Yr)}),Ht&&xs(z,vt),ht}function At(z,P,q,Z){if(q==null)throw Error(s(151));for(var ht=null,Dt=null,gt=P,vt=P=0,ke=null,qt=q.next();gt!==null&&!qt.done;vt++,qt=q.next()){gt.index>vt?(ke=gt,gt=null):ke=gt.sibling;var Yr=F(z,gt,qt.value,Z);if(Yr===null){gt===null&&(gt=ke);break}e&&gt&&Yr.alternate===null&&i(z,gt),P=d(Yr,P,vt),Dt===null?ht=Yr:Dt.sibling=Yr,Dt=Yr,gt=ke}if(qt.done)return a(z,gt),Ht&&xs(z,vt),ht;if(gt===null){for(;!qt.done;vt++,qt=q.next())qt=et(z,qt.value,Z),qt!==null&&(P=d(qt,P,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt);return Ht&&xs(z,vt),ht}for(gt=l(gt);!qt.done;vt++,qt=q.next())qt=X(gt,z,vt,qt.value,Z),qt!==null&&(e&&qt.alternate!==null&&gt.delete(qt.key===null?vt:qt.key),P=d(qt,P,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt);return e&&gt.forEach(function(IS){return i(z,IS)}),Ht&&xs(z,vt),ht}function he(z,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:t:{for(var ht=q.key;P!==null;){if(P.key===ht){if(ht=q.type,ht===p){if(P.tag===7){a(z,P.sibling),Z=h(P,q.props.children),Z.return=z,z=Z;break t}}else if(P.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===K&&xg(ht)===P.type){a(z,P.sibling),Z=h(P,q.props),ul(Z,q),Z.return=z,z=Z;break t}a(z,P);break}else i(z,P);P=P.sibling}q.type===p?(Z=qs(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=Rc(q.type,q.key,q.props,null,z.mode,Z),ul(Z,q),Z.return=z,z=Z)}return v(z);case m:t:{for(ht=q.key;P!==null;){if(P.key===ht)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(z,P.sibling),Z=h(P,q.children||[]),Z.return=z,z=Z;break t}else{a(z,P);break}else i(z,P);P=P.sibling}Z=Td(q,z.mode,Z),Z.return=z,z=Z}return v(z);case K:return ht=q._init,q=ht(q._payload),he(z,P,q,Z)}if(ot(q))return dt(z,P,q,Z);if(mt(q)){if(ht=mt(q),typeof ht!="function")throw Error(s(150));return q=ht.call(q),At(z,P,q,Z)}if(typeof q.then=="function")return he(z,P,oc(q),Z);if(q.$$typeof===O)return he(z,P,Ac(z,q),Z);lc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(z,P.sibling),Z=h(P,q),Z.return=z,z=Z):(a(z,P),Z=Ed(q,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,P)}return function(z,P,q,Z){try{ll=0;var ht=he(z,P,q,Z);return La=null,ht}catch(gt){if(gt===al)throw gt;var Dt=kn(29,gt,null,z.mode);return Dt.lanes=Z,Dt.return=z,Dt}finally{}}}var Ps=Mg(!0),Pg=Mg(!1),Ua=zt(null),uc=zt(0);function Vg(e,i){e=Ki,Kt(uc,e),Kt(Ua,i),Ki=e|i.baseLanes}function Cf(){Kt(uc,Ki),Kt(Ua,Ua.current)}function If(){Ki=uc.current,oe(Ua),oe(uc)}var Mn=zt(null),hi=null;function Or(e){var i=e.alternate;Kt(Re,Re.current&1),Kt(Mn,e),hi===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(hi=e)}function kg(e){if(e.tag===22){if(Kt(Re,Re.current),Kt(Mn,e),hi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(hi=e)}}else xr()}function xr(){Kt(Re,Re.current),Kt(Mn,Mn.current)}function Li(e){oe(Mn),hi===e&&(hi=null),oe(Re)}var Re=zt(0);function cc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},gA=r.unstable_scheduleCallback,yA=r.unstable_NormalPriority,Ce={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new pA,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&gA(yA,function(){e.controller.abort()})}var hl=null,Nf=0,Ba=0,za=null;function _A(e,i){if(hl===null){var a=hl=[];Nf=0,Ba=kd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(Lg,Lg),i}function Lg(){if(--Nf===0&&hl!==null){za!==null&&(za.status="fulfilled");var e=hl;hl=null,Ba=0,za=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function vA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ug=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(e,i),Ug!==null&&Ug(e,i)};var Vs=zt(null);function Of(){var e=Vs.current;return e!==null?e:Wt.pooledCache}function hc(e,i){i===null?Kt(Vs,Vs.current):Kt(Vs,i.pool)}function Bg(){var e=Of();return e===null?null:{parent:Ce._currentValue,pool:e}}var Mr=0,It=null,Qt=null,ye=null,fc=!1,ja=!1,ks=!1,dc=0,fl=0,Ha=null,EA=0;function me(){throw Error(s(321))}function xf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Mf(e,i,a,l,h,d){return Mr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Ls:Pr,ks=!1,d=a(l,h),ks=!1,ja&&(d=jg(i,a,l,h)),zg(e),d}function zg(e){S.H=fi;var i=Qt!==null&&Qt.next!==null;if(Mr=0,ye=Qt=It=null,fc=!1,fl=0,Ha=null,i)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&bc(e)&&(Pe=!0))}function jg(e,i,a,l){It=e;var h=0;do{if(ja&&(Ha=null),fl=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,ye=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Us,d=i(a,l)}while(ja);return d}function TA(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?dl(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(It.flags|=1024),i}function Pf(){var e=dc!==0;return dc=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(fc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}fc=!1}Mr=0,ye=Qt=It=null,ja=!1,fl=dc=0,Ha=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?It.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Qt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ye===null?It.memoizedState:ye.next;if(i!==null)ye=i,Qt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?It.memoizedState=ye=e:ye=ye.next=e}return ye}var mc;mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function dl(e){var i=fl;return fl+=1,Ha===null&&(Ha=[]),e=Ng(Ha,e,i),i=It,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ls:Pr),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===O)return $e(e)}throw Error(s(438,String(e)))}function Lf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=it;return i.index++,a}function Ui(e,i){return typeof i=="function"?i(e):i}function gc(e){var i=_e();return Uf(i,Qt,e)}function Uf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,C=null,k=i,W=!1;do{var et=k.lane&-536870913;if(et!==k.lane?(Lt&et)===et:(Mr&et)===et){var F=k.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),et===Ba&&(W=!0);else if((Mr&F)===F){k=k.next,F===Ba&&(W=!0);continue}else et={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(T=C=et,v=d):C=C.next=et,It.lanes|=F,qr|=F;et=k.action,ks&&a(d,et),d=k.hasEagerState?k.eagerState:a(d,et)}else F={lane:et,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(T=C=F,v=d):C=C.next=F,It.lanes|=et,qr|=et;k=k.next}while(k!==null&&k!==i);if(C===null?v=d:C.next=T,!pn(d,e.memoizedState)&&(Pe=!0,W&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Pe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(e,i,a){var l=It,h=_e(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Pe=!0),h=h.queue,Hf(Gg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,qa(9,Fg.bind(null,l,h,a,i),{destroy:void 0},null),Wt===null)throw Error(s(349));d||Mr&60||qg(l,i,a)}return a}function qg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=mc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Fg(e,i,a,l){i.value=a,i.getSnapshot=l,$g(i)&&Kg(e)}function Gg(e,i,a){return a(function(){$g(i)&&Kg(e)})}function $g(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Kg(e){var i=Nr(e,2);i!==null&&rn(i,e,2)}function zf(e){var i=ln();if(typeof e=="function"){var a=e;if(e=a(),ks){Jn(!0);try{a()}finally{Jn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},i}function Qg(e,i,a,l){return e.baseState=a,Uf(e,Qt,typeof l=="function"?l:Ui)}function bA(e,i,a,l,h){if(vc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,l),C=S.S;C!==null&&C(v,T),Xg(e,i,T)}catch(k){jf(e,i,k)}finally{S.T=d}}else try{d=a(h,l),Xg(e,i,d)}catch(k){jf(e,i,k)}}function Xg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(e,i,l)},function(l){return jf(e,i,l)}):Wg(e,i,a)}function Wg(e,i,a){i.status="fulfilled",i.value=a,Zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Yg(e,a)))}function jf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zg(i),i=i.next;while(i!==l)}e.action=null}function Zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Jg(e,i){return i}function ty(e,i){if(Ht){var a=Wt.formState;if(a!==null){t:{var l=It;if(Ht){if(Be){e:{for(var h=Be,d=ci;h.nodeType!==8;){if(!d){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Be=Kn(h.nextSibling),l=h.data==="F!";break t}}Ms(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},a.queue=l,a=_y.bind(null,It,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,It,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=bA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ey(e){var i=_e();return ny(i,Qt,e)}function ny(e,i,a){i=Uf(e,i,Jg)[0],e=gc(Ui)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?dl(i):i;var l=_e(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(It.flags|=2048,qa(9,AA.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function AA(e,i){e.action=i}function iy(e){var i=_e(),a=Qt;if(a!==null)return ny(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function qa(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=It.updateQueue,i===null&&(i=mc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ry(){return _e().memoizedState}function yc(e,i,a,l){var h=ln();It.flags|=e,h.memoizedState=qa(1|i,a,{destroy:void 0},l===void 0?null:l)}function _c(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&xf(l,Qt.memoizedState.deps)?h.memoizedState=qa(i,a,d,l):(It.flags|=e,h.memoizedState=qa(1|i,a,d,l))}function sy(e,i){yc(8390656,8,e,i)}function Hf(e,i){_c(2048,8,e,i)}function ay(e,i){return _c(4,2,e,i)}function oy(e,i){return _c(4,4,e,i)}function ly(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function uy(e,i,a){a=a!=null?a.concat([e]):null,_c(4,4,ly.bind(null,i,e),a)}function qf(){}function cy(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function hy(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=e(),ks){Jn(!0);try{e()}finally{Jn(!1)}}return a.memoizedState=[l,i],l}function Ff(e,i,a){return a===void 0||Mr&1073741824?e.memoizedState=i:(e.memoizedState=a,e=d_(),It.lanes|=e,qr|=e,a)}function fy(e,i,a,l){return pn(a,i)?a:Ua.current!==null?(e=Ff(e,a,l),pn(e,i)||(Pe=!0),e):Mr&42?(e=d_(),It.lanes|=e,qr|=e,i):(Pe=!0,e.memoizedState=a)}function dy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,Kf(e,!1,i,a);try{var C=h(),k=S.S;if(k!==null&&k(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=vA(C,l);ml(e,i,W,vn(e))}else ml(e,i,l,vn(e))}catch(et){ml(e,i,{then:function(){},status:"rejected",reason:et},vn())}finally{lt.p=d,S.T=v}}function SA(){}function Gf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=my(e).queue;dy(e,h,i,Ct,a===null?SA:function(){return py(e),a(l)})}function my(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:Ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function py(e){var i=my(e).next.queue;ml(e,i,{},vn())}function $f(){return $e(Pl)}function gy(){return _e().memoizedState}function yy(){return _e().memoizedState}function wA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();e=Lr(a);var l=Ur(i,e,a);l!==null&&(rn(l,i,a),yl(l,i,a)),i={cache:Df()},e.payload=i;return}i=i.return}}function RA(e,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?vy(i,a):(a=bf(e,i,a,l),a!==null&&(rn(a,e,l),Ey(a,i,l)))}function _y(e,i,a){var l=vn();ml(e,i,a,l)}function ml(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))vy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,v))return nc(e,i,h,0),Wt===null&&ec(),!1}catch{}finally{}if(a=bf(e,i,h,l),a!==null)return rn(a,e,l),Ey(a,i,l),!0}return!1}function Kf(e,i,a,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(i)throw Error(s(479))}else i=bf(e,a,l,2),i!==null&&rn(i,e,2)}function vc(e){var i=e.alternate;return e===It||i!==null&&i===It}function vy(e,i){ja=fc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ey(e,i,a){if(a&4194176){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Er(e,a)}}var fi={readContext:$e,use:pc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};fi.useCacheRefresh=me,fi.useMemoCache=me,fi.useHostTransitionStatus=me,fi.useFormState=me,fi.useActionState=me,fi.useOptimistic=me;var Ls={readContext:$e,use:pc,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:sy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,yc(4194308,4,ly.bind(null,i,e),a)},useLayoutEffect:function(e,i){return yc(4194308,4,e,i)},useInsertionEffect:function(e,i){yc(4,2,e,i)},useMemo:function(e,i){var a=ln();i=i===void 0?null:i;var l=e();if(ks){Jn(!0);try{e()}finally{Jn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=ln();if(a!==void 0){var h=a(i);if(ks){Jn(!0);try{a(i)}finally{Jn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=RA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=_y.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=ln();return Ff(a,e,i)},useTransition:function(){var e=zf(!1);return e=dy.bind(null,It,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=ln();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));Lt&60||qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,sy(Gg.bind(null,l,d,e),[e]),l.flags|=2048,qa(9,Fg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=ln(),i=Wt.identifierPrefix;if(Ht){var a=ki,l=Vi;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=EA++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return ln().memoizedState=wA.bind(null,It)}};Ls.useMemoCache=Lf,Ls.useHostTransitionStatus=$f,Ls.useFormState=ty,Ls.useActionState=ty,Ls.useOptimistic=function(e){var i=ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,It,!0,a),a.dispatch=i,[e,i]};var Pr={readContext:$e,use:pc,useCallback:cy,useContext:$e,useEffect:Hf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:gc,useRef:ry,useState:function(){return gc(Ui)},useDebugValue:qf,useDeferredValue:function(e,i){var a=_e();return fy(a,Qt.memoizedState,e,i)},useTransition:function(){var e=gc(Ui)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:Hg,useId:gy};Pr.useCacheRefresh=yy,Pr.useMemoCache=Lf,Pr.useHostTransitionStatus=$f,Pr.useFormState=ey,Pr.useActionState=ey,Pr.useOptimistic=function(e,i){var a=_e();return Qg(a,Qt,e,i)};var Us={readContext:$e,use:pc,useCallback:cy,useContext:$e,useEffect:Hf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:Bf,useRef:ry,useState:function(){return Bf(Ui)},useDebugValue:qf,useDeferredValue:function(e,i){var a=_e();return Qt===null?Ff(a,e,i):fy(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Bf(Ui)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:Hg,useId:gy};Us.useCacheRefresh=yy,Us.useMemoCache=Lf,Us.useHostTransitionStatus=$f,Us.useFormState=iy,Us.useActionState=iy,Us.useOptimistic=function(e,i){var a=_e();return Qt!==null?Qg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Qf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yf={isMounted:function(e){return(e=e._reactInternals)?ft(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=vn(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(e,h,l),i!==null&&(rn(i,e,l),yl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=vn(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(e,h,l),i!==null&&(rn(i,e,l),yl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=vn(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(e,l,a),i!==null&&(rn(i,e,a),yl(i,e,a))}};function Ty(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function by(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Yf.enqueueReplaceState(i,i.state,null)}function Bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ay(e){Ec(e)}function Sy(e){console.error(e)}function wy(e){Ec(e)}function Tc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(e,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,i)},a}function Cy(e){return e=Lr(e),e.tag=3,e}function Iy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ry(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ry(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function CA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&gl(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return hi===null?Od():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Md(e,l,h)),!1;case 22:return a.flags|=65536,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Md(e,l,h)),!1}throw Error(s(435,a.tag))}return Md(e,l,h),Od(),!1}if(Ht)return i=Mn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(e=Error(s(422),{cause:l}),sl(Nn(e,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),sl(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=Xf(e.stateNode,l,h),hd(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),wl===null?wl=[d]:wl.push(d),ce!==4&&(ce=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xf(a.stateNode,l,e),hd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cy(h),Iy(h,e,a,l),hd(a,h),!1}a=a.return}while(a!==null);return!1}var Dy=Error(s(461)),Pe=!1;function ze(e,i,a,l){i.child=e===null?Pg(i,null,a,l):Ps(i,e.child,a,l)}function Ny(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return js(i),l=Mf(e,i,a,v,d,h),T=Pf(),e!==null&&!Pe?(Vf(e,i,h),Bi(e,i,h)):(Ht&&T&&Af(i),i.flags|=1,ze(e,i,l,h),i.child)}function Oy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!vd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xy(e,i,d,l,h)):(e=Rc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!sd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(v,l)&&e.ref===i.ref)return Bi(e,i,h)}return i.flags|=1,e=Hr(d,l),e.ref=i.ref,e.return=i,i.child=e}function xy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(el(d,l)&&e.ref===i.ref)if(Pe=!1,i.pendingProps=l=d,sd(e,h))e.flags&131072&&(Pe=!0);else return i.lanes=e.lanes,Bi(e,i,h)}return Wf(e,i,a,l,h)}function My(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(pl(e,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Py(e,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&hc(i,v!==null?v.cachePool:null),v!==null?Vg(i,v):Cf(),kg(i);else return i.lanes=i.childLanes=536870912,Py(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(hc(i,v.cachePool),Vg(i,v),xr(),i.memoizedState=null):(e!==null&&hc(i,null),Cf(),xr());return ze(e,i,h,a),i.child}function Py(e,i,a,l){var h=Of();return h=h===null?null:{parent:Ce._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&hc(i,null),Cf(),kg(i),e!==null&&gl(e,i,l,!0),null}function pl(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Wf(e,i,a,l,h){return js(i),a=Mf(e,i,a,l,void 0,h),l=Pf(),e!==null&&!Pe?(Vf(e,i,h),Bi(e,i,h)):(Ht&&l&&Af(i),i.flags|=1,ze(e,i,a,h),i.child)}function Vy(e,i,a,l,h,d){return js(i),i.updateQueue=null,a=jg(i,l,a,h),zg(e),l=Pf(),e!==null&&!Pe?(Vf(e,i,d),Bi(e,i,d)):(Ht&&l&&Af(i),i.flags|=1,ze(e,i,a,d),i.child)}function ky(e,i,a,l,h){if(js(i),i.stateNode===null){var d=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ud(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$e(v):Pa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Qf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Yf.enqueueReplaceState(d,d.state,null),vl(i,l,d,h),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Bs(a,T);d.props=C;var k=d.context,W=a.contextType;v=Pa,typeof W=="object"&&W!==null&&(v=$e(W));var et=a.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==v)&&by(i,d,l,v),kr=!1;var F=i.memoizedState;d.state=F,vl(i,l,d,h),_l(),k=i.memoizedState,T||F!==k||kr?(typeof et=="function"&&(Qf(i,a,et,l),k=i.memoizedState),(C=kr||Ty(i,a,C,l,F,k,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,cd(e,i),v=i.memoizedProps,W=Bs(a,v),d.props=W,et=i.pendingProps,F=d.context,k=a.contextType,C=Pa,typeof k=="object"&&k!==null&&(C=$e(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||F!==C)&&by(i,d,l,C),kr=!1,F=i.memoizedState,d.state=F,vl(i,l,d,h),_l();var X=i.memoizedState;v!==et||F!==X||kr||e!==null&&e.dependencies!==null&&bc(e.dependencies)?(typeof T=="function"&&(Qf(i,a,T,l),X=i.memoizedState),(W=kr||Ty(i,a,W,l,F,X,C)||e!==null&&e.dependencies!==null&&bc(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,pl(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ps(i,e.child,null,h),i.child=Ps(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Bi(e,i,h),e}function Ly(e,i,a,l){return rl(),i.flags|=256,ze(e,i,a,l),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function Jf(e){return{baseLanes:e,cachePool:Bg()}}function td(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Ln),e}function Uy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?Or(i):xr(),Ht){var T=Be,C;if(C=T){t:{for(C=T,T=ci;C.nodeType!==8;){if(!T){T=null;break t}if(C=Kn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Vi,overflow:ki}:null,retryLane:536870912},C=kn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,nn=i,Be=null,C=!0):C=!1}C||Ms(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Li(i)}return T=l.children,l=l.fallback,h?(xr(),h=i.mode,T=nd({mode:"hidden",children:T},h),l=qs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Jf(a),h.childLanes=td(e,v,a),i.memoizedState=Zf,l):(Or(i),ed(i,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=id(e,i,a)):i.memoizedState!==null?(xr(),i.child=e.child,i.flags|=128,i=null):(xr(),h=l.fallback,T=i.mode,l=nd({mode:"visible",children:l.children},T),h=qs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ps(i,e.child,null,a),l=i.child,l.memoizedState=Jf(a),l.childLanes=td(e,v,a),i.memoizedState=Zf,i=h);else if(Or(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),i=id(e,i,a)}else if(Pe||gl(e,i,a,!1),v=(a&e.childLanes)!==0,Pe||v){if(v=Wt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Nr(e,l),rn(v,e,l),Dy}T.data==="$?"||Od(),i=id(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=HA.bind(null,e),T._reactRetry=i,i=null):(e=C.treeContext,Be=Kn(T.nextSibling),nn=i,Ht=!0,Gn=null,ci=!1,e!==null&&(On[xn++]=Vi,On[xn++]=ki,On[xn++]=Os,Vi=e.id,ki=e.overflow,Os=i),i=ed(i,l.children),i.flags|=4096);return i}return h?(xr(),h=l.fallback,T=i.mode,C=e.child,k=C.sibling,l=Hr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,k!==null?h=Hr(k,h):(h=qs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Jf(a):(C=T.cachePool,C!==null?(k=Ce._currentValue,C=C.parent!==k?{parent:k,pool:k}:C):C=Bg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=td(e,v,a),i.memoizedState=Zf,l):(Or(i),a=e.child,e=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function ed(e,i){return i=nd({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function nd(e,i){return c_(e,i,0,null)}function id(e,i,a){return Ps(i,e.child,null,a),e=ed(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function By(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),od(e.return,i,a)}function rd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function zy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=Re.current,l&2)l=l&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&By(e,a,i);else if(e.tag===19)By(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(Re,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&cc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rd(i,!0,a,null,d);break;case"together":rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),qr|=i.lanes,!(a&i.childLanes))if(e!==null){if(gl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Hr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Hr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&bc(e)))}function IA(e,i,a){switch(i.tag){case 3:mr(i,i.stateNode.containerInfo),Vr(i,Ce,e.memoizedState.cache),rl();break;case 27:case 5:Po(i);break;case 4:mr(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):a&i.child.childLanes?Uy(e,i,a):(Or(i),e=Bi(e,i,a),e!==null?e.sibling:null);Or(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(gl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return zy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,My(e,i,a);case 24:Vr(i,Ce,e.memoizedState.cache)}return Bi(e,i,a)}function jy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Pe=!0;else{if(!sd(e,a)&&!(i.flags&128))return Pe=!1,IA(e,i,a);Pe=!!(e.flags&131072)}else Pe=!1,Ht&&i.flags&1048576&&wg(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vd(l)?(e=Bs(l,e),i.tag=1,i=ky(null,i,l,e,a)):(i.tag=0,i=Wf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===V){i.tag=11,i=Ny(null,i,l,e,a);break t}else if(h===$){i.tag=14,i=Oy(null,i,l,e,a);break t}}throw i=w(l)||l,Error(s(306,i,""))}}return i;case 0:return Wf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),ky(e,i,l,h,a);case 3:t:{if(mr(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,cd(e,i),vl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Vr(i,Ce,d),d!==h.cache&&ld(i,[Ce],a,!0),_l(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Ly(e,i,d,a);break t}else if(d!==l){l=Nn(Error(s(424)),i),sl(l),i=Ly(e,i,d,a);break t}else for(Be=Kn(i.stateNode.containerInfo.firstChild),nn=i,Ht=!0,Gn=null,ci=!0,a=Pg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rl(),d===l){i=Bi(e,i,a);break t}ze(e,i,d,a)}i=i.child}return i;case 26:return pl(e,i),e===null?(a=F_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=Uc(bn.current).createElement(a),l[Oe]=i,l[Ae]=e,je(l,a,e),ie(l),i.stateNode=l):i.memoizedState=F_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Po(i),e===null&&Ht&&(l=i.stateNode=j_(i.type,i.pendingProps,bn.current),nn=i,ci=!0,Be=Kn(l.firstChild)),l=i.pendingProps.children,e!==null||Ht?ze(e,i,l,a):i.child=Ps(i,null,l,a),pl(e,i),i.child;case 5:return e===null&&Ht&&((h=l=Be)&&(l=rS(l,i.type,i.pendingProps,ci),l!==null?(i.stateNode=l,nn=i,Be=Kn(l.firstChild),ci=!1,h=!0):h=!1),h||Ms(i)),Po(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Gd(h,d)?l=null:v!==null&&Gd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,TA,null,null,a),Pl._currentValue=h),pl(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=Be)&&(a=sS(a,i.pendingProps,ci),a!==null?(i.stateNode=a,nn=i,Be=null,e=!0):e=!1),e||Ms(i)),null;case 13:return Uy(e,i,a);case 4:return mr(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ps(i,null,l,a):ze(e,i,l,a),i.child;case 11:return Ny(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=$e(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return Oy(e,i,i.type,i.pendingProps,a);case 15:return xy(e,i,i.type,i.pendingProps,a);case 19:return zy(e,i,a);case 22:return My(e,i,a);case 24:return js(i),l=$e(Ce),e===null?(h=Of(),h===null&&(h=Wt,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ud(i),Vr(i,Ce,h)):(e.lanes&a&&(cd(e,i),vl(i,null,null,a),_l()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vr(i,Ce,l)):(l=d.cache,Vr(i,Ce,l),l!==h.cache&&ld(i,[Ce],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var ad=zt(null),zs=null,zi=null;function Vr(e,i,a){Kt(ad,i._currentValue),i._currentValue=a}function ji(e){e._currentValue=ad.current,oe(ad)}function od(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function ld(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),od(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),od(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function gl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;pn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===dr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}h=h.return}e!==null&&ld(i,e,a,l),i.flags|=262144}function bc(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){zs=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Hy(zs,e)}function Ac(e,i){return zs===null&&js(e),Hy(e,i)}function Hy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else zi=zi.next=i;return a}var kr=!1;function ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,se&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ic(e),Ag(e,null,a),i}return nc(e,l,i,a),ic(e)}function yl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Er(e,a)}}function hd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var fd=!1;function _l(){if(fd){var e=za;if(e!==null)throw e}}function vl(e,i,a,l){fd=!1;var h=e.updateQueue;kr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,k=C.next;C.next=null,v===null?d=k:v.next=k,v=C;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=k:T.next=k,W.lastBaseUpdate=C))}if(d!==null){var et=h.baseState;v=0,W=k=C=null,T=d;do{var F=T.lane&-536870913,X=F!==T.lane;if(X?(Lt&F)===F:(l&F)===F){F!==0&&F===Ba&&(fd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,At=T;F=i;var he=a;switch(At.tag){case 1:if(dt=At.payload,typeof dt=="function"){et=dt.call(he,et,F);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=At.payload,F=typeof dt=="function"?dt.call(he,et,F):dt,F==null)break t;et=I({},et,F);break t;case 2:kr=!0}}F=T.callback,F!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(k=W=X,C=et):W=W.next=X,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(C=et),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),qr|=v,e.lanes=v,e.memoizedState=et}}function qy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Fy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qy(a[e],i)}function El(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Xt(i,i.return,T)}}function Br(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a;try{T()}catch(k){Xt(h,C,k)}}}l=l.next}while(l!==d)}}catch(k){Xt(i,i.return,k)}}function Gy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Fy(i,a)}catch(l){Xt(e,e.return,l)}}}function $y(e,i,a){a.props=Bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(e,i,l)}}function Hs(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Xt(e,i,d)}}function gn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function Ky(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function Qy(e,i,a){try{var l=e.stateNode;JA(l,e.type,a,i),l[Ae]=i}catch(h){Xt(e,e.return,h)}}function Yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(md(e,i,a),e=e.sibling;e!==null;)md(e,i,a),e=e.sibling}function Sc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Sc(e,i,a),e=e.sibling;e!==null;)Sc(e,i,a),e=e.sibling}var Hi=!1,ue=!1,pd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Wy=!1;function DA(e,i){if(e=e.containerInfo,qd=Fc,e=mg(e),yf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,k=0,W=0,et=e,F=null;e:for(;;){for(var X;et!==a||h!==0&&et.nodeType!==3||(T=v+h),et!==d||l!==0&&et.nodeType!==3||(C=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(X=et.firstChild)!==null;)F=et,et=X;for(;;){if(et===e)break e;if(F===a&&++k===h&&(T=v),F===d&&++W===l&&(C=v),(X=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=X}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:e,selectionRange:a},Fc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Bs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Xt(a,a.return,At)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Qd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}return dt=Wy,Wy=!1,dt}function Zy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),l&4&&El(5,a);break;case 1:if(Fi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Xt(a,a.return,T)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(a,a.return,T)}}l&64&&Gy(a),l&512&&Hs(a,a.return);break;case 3:if(Fi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Fy(l,e)}catch(T){Xt(a,a.return,T)}}break;case 26:Fi(e,a),l&512&&Hs(a,a.return);break;case 27:case 5:Fi(e,a),i===null&&l&4&&Ky(a),l&512&&Hs(a,a.return);break;case 12:Fi(e,a);break;case 13:Fi(e,a),l&4&&e_(e,a);break;case 22:if(h=a.memoizedState!==null||Hi,!h){i=i!==null&&i.memoizedState!==null||ue;var d=Hi,v=ue;Hi=h,(ue=i)&&!v?zr(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),Hi=d,ue=v}l&512&&(a.memoizedProps.mode==="manual"?Hs(a,a.return):gn(a,a.return));break;default:Fi(e,a)}}function Jy(e){var i=e.alternate;i!==null&&(e.alternate=null,Jy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&_s(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,yn=!1;function qi(e,i,a){for(a=a.child;a!==null;)t_(e,i,a),a=a.sibling}function t_(e,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:ue||gn(a,i),qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||gn(a,i);var l=ve,h=yn;for(ve=a.stateNode,qi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);_s(a),ve=l,yn=h;break;case 5:ue||gn(a,i);case 6:h=ve;var d=yn;if(ve=null,qi(e,i,a),ve=h,yn=d,ve!==null)if(yn)try{e=ve,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Xt(a,i,v)}else try{ve.removeChild(a.stateNode)}catch(v){Xt(a,i,v)}break;case 18:ve!==null&&(yn?(i=ve,a=a.stateNode,i.nodeType===8?Kd(i.parentNode,a):i.nodeType===1&&Kd(i,a),Ul(i)):Kd(ve,a.stateNode));break;case 4:l=ve,h=yn,ve=a.stateNode.containerInfo,yn=!0,qi(e,i,a),ve=l,yn=h;break;case 0:case 11:case 14:case 15:ue||Br(2,a,i),ue||Br(4,a,i),qi(e,i,a);break;case 1:ue||(gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,i,l)),qi(e,i,a);break;case 21:qi(e,i,a);break;case 22:ue||gn(a,i),ue=(l=ue)||a.memoizedState!==null,qi(e,i,a),ue=l;break;default:qi(e,i,a)}}function e_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ul(e)}catch(a){Xt(i,i.return,a)}}function NA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Xy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Xy),i;default:throw Error(s(435,e.tag))}}function gd(e,i){var a=NA(e);i.forEach(function(l){var h=qA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Pn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,yn=!1;break t;case 3:ve=T.stateNode.containerInfo,yn=!0;break t;case 4:ve=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(ve===null)throw Error(s(160));t_(d,v,h),ve=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)n_(i,e),i=i.sibling}var $n=null;function n_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pn(i,e),Vn(e),l&4&&(Br(3,e,e.return),El(3,e),Br(5,e,e.return));break;case 1:Pn(i,e),Vn(e),l&512&&(ue||a===null||gn(a,a.return)),l&64&&Hi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(Pn(i,e),Vn(e),l&512&&(ue||a===null||gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[br]||d[Oe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Oe]=e,ie(d),l=d;break t;case"link":var v=K_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=K_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Oe]=e,ie(d),l=d}e.stateNode=l}else Q_(h,e.type,e.stateNode);else e.stateNode=$_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,e.type,e.stateNode):$_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Qy(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var k=C.nextSibling,W=C.nodeName;C[br]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=k}for(var et=e.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);je(h,et,d),h[Oe]=e,h[Ae]=d}catch(dt){Xt(e,e.return,dt)}}case 5:if(Pn(i,e),Vn(e),l&512&&(ue||a===null||gn(a,a.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(dt){Xt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Qy(e,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(Pn(i,e),Vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Xt(e,e.return,dt)}}break;case 3:if(jc=null,h=$n,$n=Bc(i.containerInfo),Pn(i,e),$n=h,Vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(i.containerInfo)}catch(dt){Xt(e,e.return,dt)}pd&&(pd=!1,i_(e));break;case 4:l=$n,$n=Bc(e.stateNode.containerInfo),Pn(i,e),Vn(e),$n=l;break;case 12:Pn(i,e),Vn(e);break;case 13:Pn(i,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wd=an()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gd(e,l)));break;case 22:if(l&512&&(ue||a===null||gn(a,a.return)),C=e.memoizedState!==null,k=a!==null&&a.memoizedState!==null,W=Hi,et=ue,Hi=W||C,ue=et||k,Pn(i,e),ue=et,Hi=W,Vn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Hi||ue,a===null||k||i||Fa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,T=k.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(dt){Xt(k,k.return,dt)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=C?"":k.memoizedProps}catch(dt){Xt(k,k.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(e,a))));break;case 19:Pn(i,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gd(e,l)));break;case 21:break;default:Pn(i,e),Vn(e)}}function Vn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Yy(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=dd(e);Sc(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(wn(v,""),l.flags&=-33);var T=dd(e);Sc(e,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,k=dd(e);md(e,k,C);break;default:throw Error(s(161))}}}catch(W){Xt(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function i_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;i_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Fi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zy(e,i.alternate,i),i=i.sibling}function Fa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Fa(i);break;case 1:gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$y(i,i.return,a),Fa(i);break;case 26:case 27:case 5:gn(i,i.return),Fa(i);break;case 22:gn(i,i.return),i.memoizedState===null&&Fa(i);break;default:Fa(i)}e=e.sibling}}function zr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:zr(h,d,a),El(4,d);break;case 1:if(zr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Xt(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)qy(C[h],T)}catch(k){Xt(l,l.return,k)}}a&&v&64&&Gy(d),Hs(d,d.return);break;case 26:case 27:case 5:zr(h,d,a),a&&l===null&&v&4&&Ky(d),Hs(d,d.return);break;case 12:zr(h,d,a);break;case 13:zr(h,d,a),a&&v&4&&e_(h,d);break;case 22:d.memoizedState===null&&zr(h,d,a),Hs(d,d.return);break;default:zr(h,d,a)}i=i.sibling}}function yd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function _d(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&cl(e))}function jr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(e,i,a,l),i=i.sibling}function r_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:jr(e,i,a,l),h&2048&&El(9,i);break;case 3:jr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&cl(e)));break;case 12:if(h&2048){jr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(i,i.return,C)}}else jr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?jr(e,i,a,l):Tl(e,i):d._visibility&4?jr(e,i,a,l):(d._visibility|=4,Ga(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yd(i.alternate,i);break;case 24:jr(e,i,a,l),h&2048&&_d(i.alternate,i);break;default:jr(e,i,a,l)}}function Ga(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,C=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Ga(d,v,T,C,h),El(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Ga(d,v,T,C,h):Tl(d,v):(W._visibility|=4,Ga(d,v,T,C,h)),h&&k&2048&&yd(v.alternate,v);break;case 24:Ga(d,v,T,C,h),h&&k&2048&&_d(v.alternate,v);break;default:Ga(d,v,T,C,h)}i=i.sibling}}function Tl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&yd(l.alternate,l);break;case 24:Tl(a,l),h&2048&&_d(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var bl=8192;function $a(e){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)s_(e),e=e.sibling}function s_(e){switch(e.tag){case 26:$a(e),e.flags&bl&&e.memoizedState!==null&&_S($n,e.memoizedState,e.memoizedProps);break;case 5:$a(e);break;case 3:case 4:var i=$n;$n=Bc(e.stateNode.containerInfo),$a(e),$n=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=bl,bl=16777216,$a(e),bl=i):$a(e));break;default:$a(e)}}function a_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Al(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,l_(l,e)}a_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Br(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,wc(e)):Al(e);break;default:Al(e)}}function wc(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,l_(l,e)}a_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Br(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,wc(i));break;default:wc(i)}e=e.sibling}}function l_(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Jy(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}function OA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,i,a,l){return new OA(e,i,a,l)}function vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hr(e,i){var a=e.alternate;return a===null?(a=kn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function u_(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Rc(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")vd(e)&&(v=1);else if(typeof e=="string")v=gS(e,a,Ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return qs(a.children,h,d,i);case g:v=8,h|=24;break;case E:return e=kn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case G:return e=kn(13,a,i,h),e.elementType=G,e.lanes=d,e;case L:return e=kn(19,a,i,h),e.elementType=L,e.lanes=d,e;case Q:return c_(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case O:v=10;break t;case R:v=9;break t;case V:v=11;break t;case $:v=14;break t;case K:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=kn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function qs(e,i,a,l){return e=kn(7,e,l,i),e.lanes=a,e}function c_(e,i,a,l){e=kn(22,e,l,i),e.elementType=Q,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Nr(d,2);v!==null&&(h._pendingVisibility|=2,rn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Nr(d,2);v!==null&&(h._pendingVisibility&=-3,rn(v,d,2))}}};return e.stateNode=h,e}function Ed(e,i,a){return e=kn(6,e,null,i),e.lanes=a,e}function Td(e,i,a){return i=kn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Gi(e){e.flags|=4}function h_(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Y_(i)){if(i=Mn.current,i!==null&&((Lt&4194176)===Lt?hi!==null:(Lt&62914560)!==Lt&&!(Lt&536870912)||i!==hi))throw ol=Rf,Ig;e.flags|=8192}}function Cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_r():536870912,e.lanes|=i,Qa|=i)}function Sl(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function xA(e,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ce),Si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(il(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Gn!==null&&(Dd(Gn),Gn=null))),re(i),null;case 26:return a=i.memoizedState,e===null?(Gi(i),a!==null?(re(i),h_(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Gi(i),re(i),h_(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Gi(i),re(i),i.flags&=-16777217),null;case 27:da(i),a=bn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=Ze.current,il(i)?Rg(i):(e=j_(h,l,a),i.stateNode=e,Gi(i))}return re(i),null;case 5:if(da(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=Ze.current,il(i))Rg(i);else{switch(h=Uc(bn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Oe]=i,e[Ae]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bn.current,il(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Oe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(e.nodeValue,a)),e||Ms(i)}else e=Uc(e).createTextNode(l),e[Oe]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=il(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Oe]=i}else rl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else Gn!==null&&(Dd(Gn),Gn=null),h=!0;if(!h)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),re(i),null;case 4:return Si(),e===null&&zd(i.stateNode.containerInfo),re(i),null;case 10:return ji(i.type),re(i),null;case 19:if(oe(Re),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Sl(h,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=cc(e),d!==null){for(i.flags|=128,Sl(h,!1),e=d.updateQueue,i.updateQueue=e,Cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)u_(a,e),a=a.sibling;return Kt(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&an()>Ic&&(i.flags|=128,l=!0,Sl(h,!1),i.lanes=4194304)}else{if(!l)if(e=cc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Cc(i,e),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return re(i),null}else 2*an()-h.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,l=!0,Sl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,e=Re.current,Kt(Re,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Li(i),If(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&oe(Vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Ce),re(i),null;case 25:return null}throw Error(s(156,i.tag))}function MA(e,i){switch(Sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ji(Ce),Si(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 13:if(Li(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return oe(Re),null;case 4:return Si(),null;case 10:return ji(i.type),null;case 22:case 23:return Li(i),If(),e!==null&&oe(Vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ji(Ce),null;case 25:return null;default:return null}}function f_(e,i){switch(Sf(i),i.tag){case 3:ji(Ce),Si();break;case 26:case 27:case 5:da(i);break;case 4:Si();break;case 13:Li(i);break;case 19:oe(Re);break;case 10:ji(i.type);break;case 22:case 23:Li(i),If(),e!==null&&oe(Vs);break;case 24:ji(Ce)}}var PA={getCacheForType:function(e){var i=$e(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},VA=typeof WeakMap=="function"?WeakMap:Map,se=0,Wt=null,Nt=null,Lt=0,Zt=0,_n=null,$i=!1,Ka=!1,bd=!1,Ki=0,ce=0,qr=0,Fs=0,Ad=0,Ln=0,Qa=0,wl=null,di=null,Sd=!1,wd=0,Ic=1/0,Dc=null,Fr=null,Nc=!1,Gs=null,Rl=0,Rd=0,Cd=null,Cl=0,Id=null;function vn(){if(se&2&&Lt!==0)return Lt&-Lt;if(S.T!==null){var e=Ba;return e!==0?e:kd()}return ku()}function d_(){Ln===0&&(Ln=!(Lt&536870912)||Ht?Bo():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),Ln}function rn(e,i,a){(e===Wt&&Zt===2||e.cancelPendingCommit!==null)&&(Ya(e,0),Qi(e,Lt,Ln,!1)),de(e,a),(!(se&2)||e!==Wt)&&(e===Wt&&(!(se&2)&&(Fs|=a),ce===4&&Qi(e,Lt,Ln,!1)),mi(e))}function m_(e,i,a){if(se&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||yr(e,i),h=l?UA(e,i):xd(e,i,!0),d=l;do{if(h===0){Ka&&!l&&Qi(e,i,0,!1);break}else if(h===6)Qi(e,i,0,!$i);else{if(a=e.current.alternate,d&&!kA(a)){h=xd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=wl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ya(T,v).flags|=256),v=xd(T,v,!1),v!==2){if(bd&&!C){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break t}d=di,di=h,d!==null&&Dd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ya(e,0),Qi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Qi(l,i,Ln,!$i);break t}break;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=wd+300-an(),10<d)){if(Qi(l,i,Ln,!$i),An(l,0)!==0)break t;l.timeoutHandle=U_(p_.bind(null,l,a,di,Dc,Sd,i,Ln,Fs,Qa,$i,2,-0,0),d);break t}p_(l,a,di,Dc,Sd,i,Ln,Fs,Qa,$i,0,-0,0)}}break}while(!0);mi(e)}function Dd(e){di===null?di=e:di.push.apply(di,e)}function p_(e,i,a,l,h,d,v,T,C,k,W,et,F){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:yS},s_(i),i=vS(),i!==null)){e.cancelPendingCommit=i(b_.bind(null,e,a,l,h,v,T,C,1,et,F)),Qi(e,d,v,!k);return}b_(e,a,l,h,v,T,C,W,et,F)}function kA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(e,i,a,l){i&=~Ad,i&=~Fs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Je(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&vr(e,a,i)}function Oc(){return se&6?!0:(Il(0),!1)}function Nd(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,zi=zs=null,kf(e),La=null,ll=0,e=Nt;for(;e!==null;)f_(e.alternate,e),e=e.return;Nt=null}}function Ya(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,eS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Nd(),Wt=e,Nt=a=Hr(e.current,null),Lt=i,Zt=0,_n=null,$i=!1,Ka=yr(e,i),bd=!1,Qa=Ln=Ad=Fs=qr=ce=0,di=wl=null,Sd=!1,i&8&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Je(l),d=1<<h;i|=e[h],l&=~d}return Ki=i,ec(),a}function g_(e,i){It=null,S.H=fi,i===al?(i=Og(),Zt=3):i===Ig?(i=Og(),Zt=4):Zt=i===Dy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Nt===null&&(ce=1,Tc(e,Nn(i,e.current)))}function y_(){var e=S.H;return S.H=fi,e===null?fi:e}function __(){var e=S.A;return S.A=PA,e}function Od(){ce=4,$i||(Lt&4194176)!==Lt&&Mn.current!==null||(Ka=!0),!(qr&134217727)&&!(Fs&134217727)||Wt===null||Qi(Wt,Lt,Ln,!1)}function xd(e,i,a){var l=se;se|=2;var h=y_(),d=__();(Wt!==e||Lt!==i)&&(Dc=null,Ya(e,i)),i=!1;var v=ce;t:do try{if(Zt!==0&&Nt!==null){var T=Nt,C=_n;switch(Zt){case 8:Nd(),v=6;break t;case 3:case 2:case 6:Mn.current===null&&(i=!0);var k=Zt;if(Zt=0,_n=null,Xa(e,T,C,k),a&&Ka){v=0;break t}break;default:k=Zt,Zt=0,_n=null,Xa(e,T,C,k)}}LA(),v=ce;break}catch(W){g_(e,W)}while(!0);return i&&e.shellSuspendCounter++,zi=zs=null,se=l,S.H=h,S.A=d,Nt===null&&(Wt=null,Lt=0,ec()),v}function LA(){for(;Nt!==null;)v_(Nt)}function UA(e,i){var a=se;se|=2;var l=y_(),h=__();Wt!==e||Lt!==i?(Dc=null,Ic=an()+500,Ya(e,i)):Ka=yr(e,i);t:do try{if(Zt!==0&&Nt!==null){i=Nt;var d=_n;e:switch(Zt){case 1:Zt=0,_n=null,Xa(e,i,d,1);break;case 2:if(Dg(d)){Zt=0,_n=null,E_(i);break}i=function(){Zt===2&&Wt===e&&(Zt=7),mi(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Dg(d)?(Zt=0,_n=null,E_(i)):(Zt=0,_n=null,Xa(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||Y_(v)){Zt=0,_n=null;var C=T.sibling;if(C!==null)Nt=C;else{var k=T.return;k!==null?(Nt=k,xc(k)):Nt=null}break e}}Zt=0,_n=null,Xa(e,i,d,5);break;case 6:Zt=0,_n=null,Xa(e,i,d,6);break;case 8:Nd(),ce=6;break t;default:throw Error(s(462))}}BA();break}catch(W){g_(e,W)}while(!0);return zi=zs=null,S.H=l,S.A=h,se=a,Nt!==null?0:(Wt=null,Lt=0,ec(),ce)}function BA(){for(;Nt!==null&&!af();)v_(Nt)}function v_(e){var i=jy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?xc(e):Nt=i}function E_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:kf(i);default:f_(a,i),i=Nt=u_(i,Ki),i=jy(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?xc(e):Nt=i}function Xa(e,i,a,l){zi=zs=null,kf(i),La=null,ll=0;var h=i.return;try{if(CA(e,h,i,a,Lt)){ce=1,Tc(e,Nn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,Tc(e,Nn(a,e.current)),Nt=null;return}i.flags&32768?(Ht||l===1?e=!0:Ka||Lt&536870912?e=!1:($i=e=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(i,e)):xc(i)}function xc(e){var i=e;do{if(i.flags&32768){T_(i,$i);return}e=i.return;var a=xA(i.alternate,i,Ki);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function T_(e,i){do{var a=MA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function b_(e,i,a,l,h,d,v,T,C,k){var W=S.T,et=lt.p;try{lt.p=2,S.T=null,zA(e,i,a,l,et,h,d,v,T,C,k)}finally{S.T=W,lt.p=et}}function zA(e,i,a,l,h,d,v,T){do Wa();while(Gs!==null);if(se&6)throw Error(s(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var k=C.lanes|C.childLanes;if(k|=Tf,Pu(e,l,k,d,v,T),e===Wt&&(Nt=Wt=null,Lt=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Nc||(Nc=!0,Rd=k,Cd=a,FA(wi,function(){return Wa(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=S.T,S.T=null,d=lt.p,lt.p=2,v=se,se|=4,DA(e,C),n_(C,e),cA(Fd,e.containerInfo),Fc=!!qd,Fd=qd=null,e.current=C,Zy(e,C.alternate,C),Vo(),se=v,lt.p=d,S.T=a):e.current=C,Nc?(Nc=!1,Gs=e,Rl=l):A_(e,k),k=e.pendingLanes,k===0&&(Fr=null),Lo(C.stateNode),mi(e),i!==null)for(h=e.onRecoverableError,C=0;C<i.length;C++)k=i[C],h(k.value,{componentStack:k.stack});return Rl&3&&Wa(),k=e.pendingLanes,l&4194218&&k&42?e===Id?Cl++:(Cl=0,Id=e):Cl=0,Il(0),null}function A_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,cl(i)))}function Wa(){if(Gs!==null){var e=Gs,i=Rd;Rd=0;var a=Vu(Rl),l=S.T,h=lt.p;try{if(lt.p=32>a?32:a,S.T=null,Gs===null)var d=!1;else{a=Cd,Cd=null;var v=Gs,T=Rl;if(Gs=null,Rl=0,se&6)throw Error(s(331));var C=se;if(se|=4,o_(v.current),r_(v,v.current,T,a),se=C,Il(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(pr,v)}catch{}d=!0}return d}finally{lt.p=h,S.T=l,A_(e,i)}}return!1}function S_(e,i,a){i=Nn(a,i),i=Xf(e.stateNode,i,2),e=Ur(e,i,2),e!==null&&(de(e,2),mi(e))}function Xt(e,i,a){if(e.tag===3)S_(e,e,a);else for(;i!==null;){if(i.tag===3){S_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){e=Nn(a,e),a=Cy(2),l=Ur(i,a,2),l!==null&&(Iy(a,l,i,e),de(l,2),mi(l));break}}i=i.return}}function Md(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new VA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),e=jA.bind(null,e,i,a),i.then(e,e))}function jA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>an()-wd?!(se&2)&&Ya(e,0):Ad|=a,Qa===Lt&&(Qa=0)),mi(e)}function w_(e,i){i===0&&(i=_r()),e=Nr(e,i),e!==null&&(de(e,i),mi(e))}function HA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(e,a)}function qA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(e,a)}function FA(e,i){return ps(e,i)}var Mc=null,Za=null,Pd=!1,Pc=!1,Vd=!1,$s=0;function mi(e){e!==Za&&e.next===null&&(Za===null?Mc=Za=e:Za=Za.next=e),Pc=!0,Pd||(Pd=!0,$A(GA))}function Il(e,i){if(!Vd&&Pc){Vd=!0;do for(var a=!1,l=Mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,I_(l,d))}else d=Lt,d=An(l,l===Wt?d:0),!(d&3)||yr(l,d)||(a=!0,I_(l,d));l=l.next}while(a);Vd=!1}}function GA(){Pc=Pd=!1;var e=0;$s!==0&&(tS()&&(e=$s),$s=0);for(var i=an(),a=null,l=Mc;l!==null;){var h=l.next,d=R_(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(Za=a)):(a=l,(e!==0||d&3)&&(Pc=!0)),l=h}Il(e)}function R_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Je(d),T=1<<v,C=h[v];C===-1?(!(T&a)||T&l)&&(h[v]=ga(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Lt,a=An(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&pa(l),Vu(a)){case 2:case 8:a=Ne;break;case 32:a=wi;break;case 268435456:a=ko;break;default:a=wi}return l=C_.bind(null,e),a=ps(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&pa(l),e.callbackPriority=2,e.callbackNode=null,2}function C_(e,i){var a=e.callbackNode;if(Wa()&&e.callbackNode!==a)return null;var l=Lt;return l=An(e,e===Wt?l:0),l===0?null:(m_(e,l,i),R_(e,an()),e.callbackNode!=null&&e.callbackNode===a?C_.bind(null,e):null)}function I_(e,i){if(Wa())return null;m_(e,i,!0)}function $A(e){nS(function(){se&6?ps(be,e):e()})}function kd(){return $s===0&&($s=Bo()),$s}function D_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function N_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function KA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=D_((h[Ae]||null).action),v=l.submitter;v&&(i=(i=v[Ae]||null)?D_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Aa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var C=v?N_(h,v):new FormData(h);Gf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?N_(h,v):new FormData(h),Gf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Ld=0;Ld<bg.length;Ld++){var Ud=bg[Ld],QA=Ud.toLowerCase(),YA=Ud[0].toUpperCase()+Ud.slice(1);Fn(QA,"on"+YA)}Fn(yg,"onAnimationEnd"),Fn(_g,"onAnimationIteration"),Fn(vg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(fA,"onTransitionRun"),Fn(dA,"onTransitionStart"),Fn(mA,"onTransitionCancel"),Fn(Eg,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function O_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,k=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=k;try{d(h)}catch(W){Ec(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,k=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=k;try{d(h)}catch(W){Ec(W)}h.currentTarget=null,d=C}}}}function Mt(e,i){var a=i[ys];a===void 0&&(a=i[ys]=new Set);var l=e+"__bubble";a.has(l)||(x_(i,e,2,!1),a.add(l))}function Bd(e,i,a){var l=0;i&&(l|=4),x_(a,e,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[Vc]){e[Vc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(XA.has(a)||Bd(a,!1,e),Bd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Bd("selectionchange",!1,i))}}function x_(e,i,a,l){switch(ev(i)){case 2:var h=bS;break;case 8:h=AS;break;default:h=Jd}a=h.bind(null,i,a,e),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function jd(e,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;T!==null;){if(v=qn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}T=T.parentNode}}l=l.return}zu(function(){var k=d,W=ba(a),et=[];t:{var F=Tg.get(e);if(F!==void 0){var X=Aa,dt=e;switch(e){case"keypress":if(si(a)===0)break t;case"keydown":case"keyup":X=Da;break;case"focusin":dt="focus",X=Ra;break;case"focusout":dt="blur",X=Ra;break;case"beforeblur":case"afterblur":X=Ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Qu;break;case yg:case _g:case vg:X=Ca;break;case Eg:X=Xu;break;case"scroll":case"scrollend":X=ju;break;case"wheel":X=Na;break;case"copy":case"cut":case"paste":X=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Jo;break;case"toggle":case"beforetoggle":X=Zu}var At=(i&4)!==0,he=!At&&(e==="scroll"||e==="scrollend"),z=At?F!==null?F+"Capture":null:F;At=[];for(var P=k,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=bs(P,z),Z!=null&&At.push(Nl(P,Z,q))),he)break;P=P.return}0<At.length&&(F=new X(F,dt,null,a,W),et.push({event:F,listeners:At}))}}if(!(i&7)){t:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&a!==Rn&&(dt=a.relatedTarget||a.fromElement)&&(qn(dt)||dt[Ri]))break t;if((X||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,X?(dt=a.relatedTarget||a.toElement,X=k,dt=dt?qn(dt):null,dt!==null&&(he=ft(dt),At=dt.tag,dt!==he||At!==5&&At!==27&&At!==6)&&(dt=null)):(X=null,dt=k),X!==dt)){if(At=In,Z="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(At=Jo,Z="onPointerLeave",z="onPointerEnter",P="pointer"),he=X==null?F:Ar(X),q=dt==null?F:Ar(dt),F=new At(Z,P+"leave",X,a,W),F.target=he,F.relatedTarget=q,Z=null,qn(W)===k&&(At=new At(z,P+"enter",dt,a,W),At.target=q,At.relatedTarget=he,Z=At),he=Z,X&&dt)e:{for(At=X,z=dt,P=0,q=At;q;q=Ja(q))P++;for(q=0,Z=z;Z;Z=Ja(Z))q++;for(;0<P-q;)At=Ja(At),P--;for(;0<q-P;)z=Ja(z),q--;for(;P--;){if(At===z||z!==null&&At===z.alternate)break e;At=Ja(At),z=Ja(z)}At=null}else At=null;X!==null&&M_(et,F,X,At,!1),dt!==null&&he!==null&&M_(et,he,dt,At,!0)}}t:{if(F=k?Ar(k):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var ht=ag;else if(we(F))if(og)ht=lA;else{ht=aA;var Dt=sA}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?k&&$o(k.elementType)&&(ht=ag):ht=oA;if(ht&&(ht=ht(e,k))){Pi(et,ht,a,W);break t}Dt&&Dt(e,F,k),e==="focusout"&&k&&F.type==="number"&&k.memoizedProps.value!=null&&Ta(F,"number",F.value)}switch(Dt=k?Ar(k):window,e){case"focusin":(we(Dt)||Dt.contentEditable==="true")&&(Oa=Dt,_f=k,nl=null);break;case"focusout":nl=_f=Oa=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,pg(et,a,W);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":pg(et,a,W)}var gt;if(li)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Vt?Y(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Vt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vt&&(gt=Qo()):(ri=W,Dr="value"in ri?ri.value:ri.textContent,Vt=!0)),Dt=kc(k,vt),0<Dt.length&&(vt=new Wo(vt,e,null,a,W),et.push({event:vt,listeners:Dt}),gt?vt.data=gt:(gt=rt(a),gt!==null&&(vt.data=gt)))),(gt=y?Se(e,a):kt(e,a))&&(vt=kc(k,"onBeforeInput"),0<vt.length&&(Dt=new Wo("onBeforeInput","beforeinput",null,a,W),et.push({event:Dt,listeners:vt}),Dt.data=gt)),KA(et,e,k,a,W)}O_(et,i)})}function Nl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function kc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=bs(e,a),h!=null&&l.unshift(Nl(e,h,d)),h=bs(e,i),h!=null&&l.push(Nl(e,h,d))),e=e.return}return l}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function M_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,k=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||k===null||(C=k,h?(k=bs(a,d),k!=null&&v.unshift(Nl(a,k,C))):h||(k=bs(a,d),k!=null&&v.push(Nl(a,k,C)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var WA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function P_(e){return(typeof e=="string"?e:""+e).replace(WA,`
`).replace(ZA,"")}function V_(e,i){return i=P_(i),P_(e)===i}function Lc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(e,""+l);break;case"className":Rr(e,"class",l);break;case"tabIndex":Rr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,a,l);break;case"style":Bu(e,l,d);break;case"data":if(i!=="object"){Rr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ii(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ii(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Lc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ii(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),wr(e,"popover",l);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hf.get(a)||a,wr(e,a,l))}}function Hd(e,i,a,l,h,d){switch(a){case"style":Bu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ae]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):wr(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=v=h=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":k=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Yt(e,i,l,W,a,null)}}Es(e,d,T,C,k,v,h,!1),vs(e);return;case"select":Mt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?jt(e,!!l,i,!1):a!=null&&jt(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}Ir(e,l,h,d),vs(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,C,l,a,null)}return;case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Mt(Dl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,k,l,a,null)}return;default:if($o(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Hd(e,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function JA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,k=null,W=null;for(X in a){var et=a[X];if(a.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=et;default:l.hasOwnProperty(X)||Yt(e,i,X,null,l,et)}}for(var F in l){var X=l[F];if(et=a[F],l.hasOwnProperty(F)&&(X!=null||et!=null))switch(F){case"type":d=X;break;case"name":h=X;break;case"checked":k=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==et&&Yt(e,i,F,X,l,et)}}Cr(e,v,T,C,k,W,d,h);return;case"select":X=v=T=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Yt(e,i,h,d,l,C)}i=T,a=v,l=X,F!=null?jt(e,!!a,F,!1):!!l!=!!a&&(i!=null?jt(e,!!a,i,!0):jt(e,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}Ts(e,F,X);return;case"option":for(var dt in a)if(F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Yt(e,i,dt,null,l,F)}for(C in l)if(F=l[C],X=a[C],l.hasOwnProperty(C)&&F!==X&&(F!=null||X!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Yt(e,i,C,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)F=a[At],a.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&Yt(e,i,At,null,l,F);for(k in l)if(F=l[k],X=a[k],l.hasOwnProperty(k)&&F!==X&&(F!=null||X!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Yt(e,i,k,F,l,X)}return;default:if($o(i)){for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!==void 0&&!l.hasOwnProperty(he)&&Hd(e,i,he,void 0,l,F);for(W in l)F=l[W],X=a[W],!l.hasOwnProperty(W)||F===X||F===void 0&&X===void 0||Hd(e,i,W,F,l,X);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Yt(e,i,z,null,l,F);for(et in l)F=l[et],X=a[et],!l.hasOwnProperty(et)||F===X||F==null&&X==null||Yt(e,i,et,F,l,X)}var qd=null,Fd=null;function Uc(e){return e.nodeType===9?e:e.ownerDocument}function k_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Gd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function tS(){var e=window.event;return e&&e.type==="popstate"?e===$d?!1:($d=e,!0):($d=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(e){return B_.resolve(null).then(e).catch(iS)}:U_;function iS(e){setTimeout(function(){throw e})}function Kd(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Ul(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ul(i)}function Qd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),_s(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function rS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[br])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function sS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kn(e.nextSibling),e===null))return null;return e}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function z_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function j_(e,i,a){switch(i=Uc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Un=new Map,H_=new Set;function Bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Yi=lt.d;lt.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:hS,X:dS,S:fS,M:mS};function aS(){var e=Yi.f(),i=Oc();return e||i}function oS(e){var i=Ci(e);i!==null&&i.tag===5&&i.type==="form"?py(i):Yi.r(e)}var to=typeof document>"u"?null:document;function q_(e,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=le(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),ie(i),l.head.appendChild(i)))}}function lS(e){Yi.D(e),q_("dns-prefetch",e,null)}function uS(e,i){Yi.C(e,i),q_("preconnect",e,i)}function cS(e,i,a){Yi.L(e,i,a);var l=to;if(l&&e&&i){var h='link[rel="preload"][as="'+le(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+le(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+le(a.imageSizes)+'"]')):h+='[href="'+le(e)+'"]';var d=h;switch(i){case"style":d=eo(e);break;case"script":d=no(e)}Un.has(d)||(e=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Un.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),je(i,"link",e),ie(i),l.head.appendChild(i)))}}function hS(e,i){Yi.m(e,i);var a=to;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+le(l)+'"][href="'+le(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!Un.has(d)&&(e=I({rel:"modulepreload",href:e},i),Un.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),je(l,"link",e),ie(l),a.head.appendChild(l)}}}function fS(e,i,a){Yi.S(e,i,a);var l=to;if(l&&e){var h=Sr(l).hoistableStyles,d=eo(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ol(d)))T.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Un.get(d))&&Yd(e,a);var C=v=l.createElement("link");ie(C),je(C,"link",e),C._p=new Promise(function(k,W){C.onload=k,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function dS(e,i){Yi.X(e,i);var a=to;if(a&&e){var l=Sr(a).hoistableScripts,h=no(e),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(e=I({src:e,async:!0},i),(i=Un.get(h))&&Xd(e,i),d=a.createElement("script"),ie(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mS(e,i){Yi.M(e,i);var a=to;if(a&&e){var l=Sr(a).hoistableScripts,h=no(e),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(e=I({src:e,async:!0,type:"module"},i),(i=Un.get(h))&&Xd(e,i),d=a.createElement("script"),ie(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function F_(e,i,a,l){var h=(h=bn.current)?Bc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=Sr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=eo(a.href);var d=Sr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Ol(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),d||pS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=Sr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function eo(e){return'href="'+le(e)+'"'}function Ol(e){return'link[rel="stylesheet"]['+e+"]"}function G_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function pS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),ie(i),e.head.appendChild(i))}function no(e){return'[src="'+le(e)+'"]'}function xl(e){return"script[async]"+e}function $_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+le(a.href)+'"]');if(l)return i.instance=l,ie(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ie(l),je(l,"style",h),zc(l,a.precedence,e),i.instance=l;case"stylesheet":h=eo(a.href);var d=e.querySelector(Ol(h));if(d)return i.state.loading|=4,i.instance=d,ie(d),d;l=G_(a),(h=Un.get(h))&&Yd(l,h),d=(e.ownerDocument||e).createElement("link"),ie(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",l),i.state.loading|=4,zc(d,a.precedence,e),i.instance=d;case"script":return d=no(a.src),(h=e.querySelector(xl(d)))?(i.instance=h,ie(h),h):(l=a,(h=Un.get(d))&&(l=I({},a),Xd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ie(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,e));return i.instance}function zc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var jc=null;function K_(e,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[br]||d[Oe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Q_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function gS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ml=null;function yS(){}function _S(e,i,a){if(Ml===null)throw Error(s(475));var l=Ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=eo(a.href),d=e.querySelector(Ol(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Hc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ie(d);return}d=e.ownerDocument||e,a=G_(a),(h=Un.get(h))&&Yd(a,h),d=d.createElement("link"),ie(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=Hc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function vS(){if(Ml===null)throw Error(s(475));var e=Ml;return e.stylesheets&&e.count===0&&Wd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Wd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,i.forEach(ES,e),qc=null,Hc.call(e))}function ES(e,i){if(!(i.state.loading&4)){var a=qc.get(e);if(a)var l=a.get(null);else{a=new Map,qc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Pl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function TS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function X_(e,i,a,l,h,d,v,T,C,k,W,et){return e=new TS(e,i,a,v,T,C,k,et),i=1,d===!0&&(i|=24),d=kn(3,null,null,i),e.current=d,d.stateNode=e,i=Df(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ud(d),e}function W_(e){return e?(e=Pa,e):Pa}function Z_(e,i,a,l,h,d){h=W_(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(e,l,i),a!==null&&(rn(a,e,i),yl(a,e,i))}function J_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Zd(e,i){J_(e,i),(e=e.alternate)&&J_(e,i)}function tv(e){if(e.tag===13){var i=Nr(e,67108864);i!==null&&rn(i,e,67108864),Zd(e,67108864)}}var Fc=!0;function bS(e,i,a,l){var h=S.T;S.T=null;var d=lt.p;try{lt.p=2,Jd(e,i,a,l)}finally{lt.p=d,S.T=h}}function AS(e,i,a,l){var h=S.T;S.T=null;var d=lt.p;try{lt.p=8,Jd(e,i,a,l)}finally{lt.p=d,S.T=h}}function Jd(e,i,a,l){if(Fc){var h=tm(l);if(h===null)jd(e,i,l,Gc,a),nv(e,l);else if(wS(h,e,i,a,l))l.stopPropagation();else if(nv(e,l),i&4&&-1<SS.indexOf(e)){for(;h!==null;){var d=Ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Je(v);T.entanglements[1]|=C,v&=~C}mi(d),!(se&6)&&(Ic=an()+500,Il(0))}}break;case 13:T=Nr(d,2),T!==null&&rn(T,d,2),Oc(),Zd(d,2)}if(d=tm(l),d===null&&jd(e,i,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(e,i,l,null,a)}}function tm(e){return e=ba(e),em(e)}var Gc=null;function em(e){if(Gc=null,e=qn(e),e!==null){var i=ft(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ft(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Gc=e,null}function ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nu()){case be:return 2;case Ne:return 8;case wi:case Ou:return 32;case ko:return 268435456;default:return 32}default:return 32}}var nm=!1,Gr=null,$r=null,Kr=null,Vl=new Map,kl=new Map,Qr=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(e,i){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ll(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ci(i),i!==null&&tv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function wS(e,i,a,l,h){switch(i){case"focusin":return Gr=Ll(Gr,e,i,a,l,h),!0;case"dragenter":return $r=Ll($r,e,i,a,l,h),!0;case"mouseover":return Kr=Ll(Kr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ll(kl.get(d)||null,e,i,a,l,h)),!0}return!1}function iv(e){var i=qn(e.target);if(i!==null){var a=ft(i);if(a!==null){if(i=a.tag,i===13){if(i=Ft(a),i!==null){e.blockedOn=i,Tr(e.priority,function(){if(a.tag===13){var l=vn(),h=Nr(a,l);h!==null&&rn(h,a,l),Zd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=tm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return i=Ci(a),i!==null&&tv(i),e.blockedOn=a,!1;i.shift()}return!0}function rv(e,i,a){$c(e)&&a.delete(i)}function RS(){nm=!1,Gr!==null&&$c(Gr)&&(Gr=null),$r!==null&&$c($r)&&($r=null),Kr!==null&&$c(Kr)&&(Kr=null),Vl.forEach(rv),kl.forEach(rv)}function Kc(e,i){e.blockedOn===i&&(e.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RS)))}var Qc=null;function sv(e){Qc!==e&&(Qc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===e&&(Qc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=Ci(a);d!==null&&(e.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ul(e){function i(C){return Kc(C,e)}Gr!==null&&Kc(Gr,e),$r!==null&&Kc($r,e),Kr!==null&&Kc(Kr,e),Vl.forEach(i),kl.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&Qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ae]||null;if(typeof d=="function")v||sv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ae]||null)T=v.formAction;else if(em(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function im(e){this._internalRoot=e}Yc.prototype.render=im.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();Z_(a,l,e,i,null,null)},Yc.prototype.unmount=im.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Wa(),Z_(e.current,2,null,e,null,null),Oc(),i[Ri]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ku();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,e),a===0&&iv(e)}};var av=t.version;if(av!=="19.0.0")throw Error(s(527,av,"19.0.0"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(i),e=e!==null?pt(e):null,e=e===null?null:e.stateNode,e};var CS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{pr=Xc.inject(CS),Ge=Xc}catch{}}return zl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ay,d=Sy,v=wy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=X_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ri]=i.current,zd(e.nodeType===8?e.parentNode:e),new im(i)},zl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ay,v=Sy,T=wy,C=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=X_(e,1,!0,i,a??null,l,h,d,v,T,C,k),i.context=W_(null),a=i.current,l=vn(),h=Lr(l),h.callback=null,Ur(a,h,l),i.current.lanes=l,de(i,l),mi(i),e[Ri]=i.current,zd(e),new Yc(i)},zl.version="19.0.0",zl}var gv;function US(){if(gv)return am.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),am.exports=LS(),am.exports}var BS=US(),jl={},yv;function zS(){if(yv)return jl;yv=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=f,jl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,O){const V=new u,G=R.length;if(G<2)return V;const L=(O==null?void 0:O.decode)||E;let $=0;do{const K=R.indexOf("=",$);if(K===-1)break;const Q=R.indexOf(";",$),it=Q===-1?G:Q;if(K>it){$=R.lastIndexOf(";",K-1)+1;continue}const st=m(R,$,K),mt=p(R,K,st),N=R.slice(st,mt);if(V[N]===void 0){let w=m(R,K+1,it),S=p(R,it,w);const I=L(R.slice(w,S));V[N]=I}$=it+1}while($<G);return V}function m(R,O,V){do{const G=R.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<V);return V}function p(R,O,V){for(;O>V;){const G=R.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return V}function g(R,O,V){const G=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const L=G(O);if(!t.test(L))throw new TypeError(`argument val is invalid: ${O}`);let $=R+"="+L;if(!V)return $;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);$+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);$+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);$+="; Path="+V.path}if(V.expires){if(!A(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);$+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&($+="; HttpOnly"),V.secure&&($+="; Secure"),V.partitioned&&($+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return $}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return jl}zS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _v="popstate";function jS(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=aa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Sm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){jn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return qS(t,n,s,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function jn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HS(){return Math.random().toString(36).substring(2,10)}function vv(r,t){return{usr:r.state,key:r.key,idx:t}}function Sm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?aa(t):t,state:n,key:t&&t.key||s||HS()}}function eu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function aa(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function qS(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=E(),$=L==null?null:L-g;g=L,p&&p({action:m,location:G.location,delta:$})}function R(L,$){m="PUSH";let K=Sm(G.location,L,$);n&&n(K,L),g=E()+1;let Q=vv(K,g),it=G.createHref(K);try{f.pushState(Q,"",it)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(it)}u&&p&&p({action:m,location:G.location,delta:1})}function O(L,$){m="REPLACE";let K=Sm(G.location,L,$);n&&n(K,L),g=E();let Q=vv(K,g),it=G.createHref(K);f.replaceState(Q,"",it),u&&p&&p({action:m,location:G.location,delta:0})}function V(L){let $=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof L=="string"?L:eu(L);return K=K.replace(/ $/,"%20"),ee($,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,$)}let G={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,A),p=L,()=>{o.removeEventListener(_v,A),p=null}},createHref(L){return t(o,L)},createURL:V,encodeLocation(L){let $=V(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:O,go(L){return f.go(L)}};return G}function tE(r,t,n="/"){return FS(r,t,n,!1)}function FS(r,t,n,s){let o=typeof t=="string"?aa(t):t,u=os(o.pathname||"/",n);if(u==null)return null;let f=eE(r);GS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=nw(u);m=tw(f[p],g,s)}return m}function eE(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=tr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ee(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),eE(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:ZS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of nE(u.path))o(u,f,p)}),t}function nE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=nE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function GS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:JS(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $S=/^:[\w-]+$/,KS=3,QS=2,YS=1,XS=10,WS=-2,Ev=r=>r==="*";function ZS(r,t){let n=r.split("/"),s=n.length;return n.some(Ev)&&(s+=WS),t&&(s+=QS),n.filter(o=>!Ev(o)).reduce((o,u)=>o+($S.test(u)?KS:u===""?YS:XS),s)}function JS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function tw(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:tr([u,A.pathname]),pathnameBase:aw(tr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=tr([u,A.pathnameBase]))}return f}function yh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ew(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let V=m[R]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[R];return A&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function ew(r,t=!1,n=!0){jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function nw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function os(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function iw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?aa(r):r;return{pathname:n?n.startsWith("/")?n:rw(n,t):t,search:ow(s),hash:lw(o)}}function rw(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function np(r){let t=sw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ip(r,t,n,s=!1){let o;typeof r=="string"?o=aa(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?t[A]:"/"}let p=iw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),aw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iE=["POST","PUT","PATCH","DELETE"];new Set(iE);var cw=["GET",...iE];new Set(cw);var So=U.createContext(null);So.displayName="DataRouter";var kh=U.createContext(null);kh.displayName="DataRouterState";var rE=U.createContext({isTransitioning:!1});rE.displayName="ViewTransition";var hw=U.createContext(new Map);hw.displayName="Fetchers";var fw=U.createContext(null);fw.displayName="Await";var Zn=U.createContext(null);Zn.displayName="Navigation";var mu=U.createContext(null);mu.displayName="Location";var bi=U.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var rp=U.createContext(null);rp.displayName="RouteError";function dw(r,{relative:t}={}){ee(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Zn),{hash:o,pathname:u,search:f}=pu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function wo(){return U.useContext(mu)!=null}function ur(){return ee(wo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(mu).location}var sE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aE(r){U.useContext(Zn).static||U.useLayoutEffect(r)}function Ro(){let{isDataRoute:r}=U.useContext(bi);return r?Rw():mw()}function mw(){ee(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(So),{basename:t,navigator:n}=U.useContext(Zn),{matches:s}=U.useContext(bi),{pathname:o}=ur(),u=JSON.stringify(np(s)),f=U.useRef(!1);return aE(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(jn(f.current,sE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ip(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:tr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}U.createContext(null);function pu(r,{relative:t}={}){let{matches:n}=U.useContext(bi),{pathname:s}=ur(),o=JSON.stringify(np(n));return U.useMemo(()=>ip(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function pw(r,t){return oE(r,t)}function oE(r,t,n,s){var K;ee(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=U.useContext(Zn),{matches:f}=U.useContext(bi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let Q=A&&A.path||"";lE(g,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let R=ur(),O;if(t){let Q=typeof t=="string"?aa(t):t;ee(E==="/"||((K=Q.pathname)==null?void 0:K.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=R;let V=O.pathname||"/",G=V;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(Q.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:tE(r,{pathname:G});jn(A||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),jn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Ew(L&&L.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:tr([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:tr([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,s);return t&&$?U.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function gw(){let r=ww(),t=uw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:o},n):null,f)}var yw=U.createElement(gw,null),_w=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?U.createElement(bi.Provider,{value:this.props.routeContext},U.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vw({routeContext:r,match:t,children:n}){let s=U.useContext(So);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(bi.Provider,{value:r},n)}function Ew(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,R=!1,O=null,V=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||yw,f&&(m<0&&E===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,V=null):m===E&&(R=!0,V=g.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),L=()=>{let $;return A?$=O:R?$=V:g.route.Component?$=U.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,U.createElement(vw,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?U.createElement(_w,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:L(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):L()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(r){let t=U.useContext(So);return ee(t,sp(r)),t}function bw(r){let t=U.useContext(kh);return ee(t,sp(r)),t}function Aw(r){let t=U.useContext(bi);return ee(t,sp(r)),t}function ap(r){let t=Aw(r),n=t.matches[t.matches.length-1];return ee(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Sw(){return ap("useRouteId")}function ww(){var s;let r=U.useContext(rp),t=bw("useRouteError"),n=ap("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function Rw(){let{router:r}=Tw("useNavigate"),t=ap("useNavigate"),n=U.useRef(!1);return aE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{jn(n.current,sE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Tv={};function lE(r,t,n){!t&&!Tv[r]&&(Tv[r]=!0,jn(!1,n))}U.memo(Cw);function Cw({routes:r,future:t,state:n}){return oE(r,void 0,n,t)}function Iw({to:r,replace:t,state:n,relative:s}){ee(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Zn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(bi),{pathname:f}=ur(),m=Ro(),p=ip(r,np(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function rh(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ee(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=aa(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,O=U.useMemo(()=>{let V=os(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:A,key:R},navigationType:s}},[f,p,g,E,A,R,s]);return jn(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:U.createElement(Zn.Provider,{value:m},U.createElement(mu.Provider,{children:t,value:O}))}function Nw({children:r,location:t}){return pw(wm(r),t)}function wm(r,t=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...t,o];if(s.type===U.Fragment){n.push.apply(n,wm(s.props.children,u));return}ee(s.type===rh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Lh(r){return r!=null&&typeof r.tagName=="string"}function Ow(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function xw(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function Mw(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function Pw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Vw(r,t){return r.button===0&&(!t||t==="_self")&&!Pw(r)}var Wc=null;function kw(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var Lw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!Lw.has(r)?(jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function Uw(r,t){let n,s,o,u,f;if(xw(r)){let m=r.getAttribute("action");s=m?os(m,t):null,n=r.getAttribute("method")||sh,o=hm(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(Ow(r)||Mw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?os(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!kw()){let{name:g,type:E,value:A}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function op(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Bw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Bw(u,n);return f.links?f.links():[]}return[]}));return Gw(s.flat(1).filter(zw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Hw(r,t,{includeHydrateFallback:n}={}){return qw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qw(r){return[...new Set(r)]}function Fw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Gw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Fw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $w(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Kw(){let r=U.useContext(So);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=U.useContext(kh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=U.createContext(void 0);lp.displayName="FrameworkContext";function uE(){let r=U.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function Yw(r,t){let n=U.useContext(lp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,R=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=$=>{$.forEach(K=>{f(K.isIntersecting)})},L=new IntersectionObserver(G,{threshold:.5});return R.current&&L.observe(R.current),()=>{L.disconnect()}}},[r]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Hl(m,O),onBlur:Hl(p,V),onMouseEnter:Hl(g,O),onMouseLeave:Hl(E,V),onTouchStart:Hl(A,O)}]:[!1,R,{}]}function Hl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Xw({page:r,...t}){let{router:n}=Kw(),s=U.useMemo(()=>tE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Zw,{page:r,matches:s,...t}):null}function Ww(r){let{manifest:t,routeModules:n}=uE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return jw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Zw({page:r,matches:t,...n}){let s=ur(),{manifest:o,routeModules:u}=uE(),{loaderData:f,matches:m}=Qw(),p=U.useMemo(()=>bv(r,t,m,o,s,"data"),[r,t,m,o,s]),g=U.useMemo(()=>bv(r,t,m,o,s,"assets"),[r,t,m,o,s]),E=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,V=!1;if(t.forEach(L=>{var K;let $=o.routes[L.route.id];!$||!$.hasLoader||(!p.some(Q=>Q.route.id===L.route.id)&&L.route.id in f&&((K=u[L.route.id])!=null&&K.shouldRevalidate)||$.hasClientLoader?V=!0:O.add(L.route.id))}),O.size===0)return[];let G=$w(r);return V&&O.size>0&&G.searchParams.set("_routes",t.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[G.pathname+G.search]},[f,s,o,p,t,r,u]),A=U.useMemo(()=>Hw(g,o),[g,o]),R=Ww(g);return U.createElement(U.Fragment,null,E.map(O=>U.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>U.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),R.map(({key:O,link:V})=>U.createElement("link",{key:O,...V})))}function Jw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.2.0")}catch{}function t1({basename:r,children:t,window:n}){let s=U.useRef();s.current==null&&(s.current=jS({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(Dw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,er=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...R},O){let{basename:V}=U.useContext(Zn),G=typeof g=="string"&&hE.test(g),L,$=!1;if(typeof g=="string"&&G&&(L=g,cE))try{let S=new URL(window.location.href),I=g.startsWith("//")?new URL(S.protocol+g):new URL(g),x=os(I.pathname,V);I.origin===S.origin&&x!=null?g=x+I.search+I.hash:$=!0}catch{jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=dw(g,{relative:o}),[Q,it,st]=Yw(s,R),mt=r1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function N(S){t&&t(S),S.defaultPrevented||mt(S)}let w=U.createElement("a",{...R,...st,href:L||K,onClick:$||u?t:N,ref:Jw(O,it),target:p,"data-discover":!G&&n==="render"?"true":void 0});return Q&&!G?U.createElement(U.Fragment,null,w,U.createElement(Xw,{page:K})):w});er.displayName="Link";var e1=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=pu(f,{relative:g.relative}),R=ur(),O=U.useContext(kh),{navigator:V,basename:G}=U.useContext(Zn),L=O!=null&&u1(A)&&m===!0,$=V.encodeLocation?V.encodeLocation(A).pathname:A.pathname,K=R.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(K=K.toLowerCase(),Q=Q?Q.toLowerCase():null,$=$.toLowerCase()),Q&&G&&(Q=os(Q,G)||Q);const it=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let st=K===$||!o&&K.startsWith($)&&K.charAt(it)==="/",mt=Q!=null&&(Q===$||!o&&Q.startsWith($)&&Q.charAt($.length)==="/"),N={isActive:st,isPending:mt,isTransitioning:L},w=st?t:void 0,S;typeof s=="function"?S=s(N):S=[s,st?"active":null,mt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return U.createElement(er,{...g,"aria-current":w,className:S,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(N):p)});e1.displayName="NavLink";var n1=U.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...R},O)=>{let V=o1(),G=l1(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&hE.test(m),K=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let it=Q.nativeEvent.submitter,st=(it==null?void 0:it.getAttribute("formmethod"))||f;V(it||Q.currentTarget,{fetcherKey:t,method:st,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return U.createElement("form",{ref:O,method:L,action:G,onSubmit:s?p:K,...R,"data-discover":!$&&r==="render"?"true":void 0})});n1.displayName="Form";function i1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(r){let t=U.useContext(So);return ee(t,i1(r)),t}function r1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ro(),p=ur(),g=pu(r,{relative:u});return U.useCallback(E=>{if(Vw(E,t)){E.preventDefault();let A=n!==void 0?n:eu(p)===eu(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var s1=0,a1=()=>`__${String(++s1)}__`;function o1(){let{router:r}=fE("useSubmit"),{basename:t}=U.useContext(Zn),n=Sw();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Uw(s,t);if(o.navigate===!1){let E=o.fetcherKey||a1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function l1(r,{relative:t}={}){let{basename:n}=U.useContext(Zn),s=U.useContext(bi);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(r||".",{relative:t})},f=ur();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),eu(u)}function u1(r,t={}){let n=U.useContext(rE);ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fE("useViewTransitionState"),o=pu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=os(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=os(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}new TextEncoder;const c1=()=>{};var Av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},h1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(R=64)),s.push(n[E],n[A],n[R],n[O])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(dE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):h1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new f1;const R=u<<2|m>>4;if(s.push(R),g!==64){const O=m<<4&240|g>>2;if(s.push(O),A!==64){const V=g<<6&192|A;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class f1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d1=function(r){const t=dE(r);return mE.encodeByteArray(t,!0)},_h=function(r){return d1(r).replace(/\./g,"")},pE=function(r){try{return mE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=()=>m1().__FIREBASE_DEFAULTS__,g1=()=>{if(typeof process>"u"||typeof Av>"u")return;const r=Av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&pE(r[1]);return t&&JSON.parse(t)},Uh=()=>{try{return c1()||p1()||g1()||y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gE=r=>{var t,n;return(n=(t=Uh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},_1=r=>{const t=gE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},yE=()=>{var r;return(r=Uh())===null||r===void 0?void 0:r.config},_E=r=>{var t;return(t=Uh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function b1(){var r;const t=(r=Uh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function w1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R1(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function C1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I1(){try{return typeof indexedDB=="object"}catch{return!1}}function D1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="FirebaseError";class cr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=N1,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?O1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function O1(r,t){return r.replace(x1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const x1=/\{\$([^}]+)}/g;function M1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Zs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Sv(u)&&Sv(f)){if(!Zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Fl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Gl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function P1(r,t){const n=new V1(r,t);return n.subscribe.bind(n)}class V1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");k1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(r){return r&&r._delegate?r._delegate:r}class Js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new v1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B1(t))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ys){return this.instances.has(t)}getOptions(t=Ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ys){return this.component?this.component.multipleInstances?t:Ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(r){return r===Ys?void 0:r}function B1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new L1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const j1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},H1=Ot.INFO,q1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},F1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=q1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class up{constructor(t){this.name=t,this._logLevel=H1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?j1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const G1=(r,t)=>t.some(n=>r instanceof n);let wv,Rv;function $1(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,Rm=new WeakMap,EE=new WeakMap,dm=new WeakMap,cp=new WeakMap;function Q1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&vE.set(n,r)}).catch(()=>{}),cp.set(t,r),t}function Y1(r){if(Rm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,t)}let Cm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||EE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function X1(r){Cm=r(Cm)}function W1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(mm(this),t,...n);return EE.set(s,t.sort?t.sort():[t]),ns(s)}:K1().includes(r)?function(...t){return r.apply(mm(this),t),ns(vE.get(this))}:function(...t){return ns(r.apply(mm(this),t))}}function Z1(r){return typeof r=="function"?W1(r):(r instanceof IDBTransaction&&Y1(r),G1(r,$1())?new Proxy(r,Cm):r)}function ns(r){if(r instanceof IDBRequest)return Q1(r);if(dm.has(r))return dm.get(r);const t=Z1(r);return t!==r&&(dm.set(r,t),cp.set(t,r)),t}const mm=r=>cp.get(r);function J1(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const tR=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],pm=new Map;function Cv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(pm.get(t))return pm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=eR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return pm.set(t,u),u}X1(r=>({...r,get:(t,n,s)=>Cv(t,n)||r.get(t,n,s),has:(t,n)=>!!Cv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Im="@firebase/app",Iv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new up("@firebase/app"),rR="@firebase/app-compat",sR="@firebase/analytics-compat",aR="@firebase/analytics",oR="@firebase/app-check-compat",lR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",mR="@firebase/functions",pR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",ER="@firebase/performance",TR="@firebase/performance-compat",bR="@firebase/remote-config",AR="@firebase/remote-config-compat",SR="@firebase/storage",wR="@firebase/storage-compat",RR="@firebase/firestore",CR="@firebase/vertexai",IR="@firebase/firestore-compat",DR="firebase",NR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",OR={[Im]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[oR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[mR]:"fire-fn",[pR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[ER]:"fire-perf",[TR]:"fire-perf-compat",[bR]:"fire-rc",[AR]:"fire-rc-compat",[SR]:"fire-gcs",[wR]:"fire-gcs-compat",[RR]:"fire-fst",[IR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,xR=new Map,Nm=new Map;function Dv(r,t){try{r.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function go(r){const t=r.name;if(Nm.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;Nm.set(t,r);for(const n of vh.values())Dv(n,r);for(const n of xR.values())Dv(n,r);return!0}function hp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new gu("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=NR;function TE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=yE()),!n)throw is.create("no-options");const u=vh.get(o);if(u){if(Zs(n,u.options)&&Zs(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new z1(o);for(const p of Nm.values())f.addComponent(p);const m=new PR(n,s,f);return vh.set(o,m),m}function bE(r=Dm){const t=vh.get(r);if(!t&&r===Dm&&yE())return TE();if(!t)throw is.create("no-app",{appName:r});return t}function rs(r,t,n){var s;let o=(s=OR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}go(new Js(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-heartbeat-database",kR=1,nu="firebase-heartbeat-store";let gm=null;function AE(){return gm||(gm=J1(VR,kR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),gm}async function LR(r){try{const n=(await AE()).transaction(nu),s=await n.objectStore(nu).get(SE(r));return await n.done,s}catch(t){if(t instanceof cr)rr.warn(t.message);else{const n=is.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rr.warn(n.message)}}}async function Nv(r,t){try{const s=(await AE()).transaction(nu,"readwrite");await s.objectStore(nu).put(t,SE(r)),await s.done}catch(n){if(n instanceof cr)rr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,BR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ov();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>BR){const f=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ov(),{heartbeatsToSend:s,unsentEntries:o}=jR(this._heartbeatsCache.heartbeats),u=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function Ov(){return new Date().toISOString().substring(0,10)}function jR(r,t=UR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I1()?D1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function xv(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function qR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r){go(new Js("platform-logger",t=>new nR(t),"PRIVATE")),go(new Js("heartbeat",t=>new zR(t),"PRIVATE")),rs(Im,Iv,r),rs(Im,Iv,"esm2017"),rs("fire-js","")}FR("");var GR="firebase",$R="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(GR,$R,"app");function fp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KR=wE,RE=new gu("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new up("@firebase/auth");function QR(r,...t){Eh.logLevel<=Ot.WARN&&Eh.warn(`Auth (${Co}): ${r}`,...t)}function oh(r,...t){Eh.logLevel<=Ot.ERROR&&Eh.error(`Auth (${Co}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...t){throw dp(r,...t)}function gi(r,...t){return dp(r,...t)}function CE(r,t,n){const s=Object.assign(Object.assign({},KR()),{[t]:n});return new gu("auth","Firebase",s).create(t,{appName:r.name})}function nr(r){return CE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RE.create(r,...t)}function Et(r,t,...n){if(!r)throw dp(t,...n)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw oh(t),new Error(t)}function sr(r,t){r||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function YR(){return Mv()==="http:"||Mv()==="https:"}function Mv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||S1()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=T1()||w1()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,t){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new _u(3e4,6e4);function hr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function fr(r,t,n,s,o={}){return DE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=yu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return A1()||(g.referrerPolicy="no-referrer"),IE.fetch()(NE(r,r.config.apiHost,n,m),g)})}async function DE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},ZR),t);try{const o=new eC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CE(r,E,g);Xn(r,E)}}catch(o){if(o instanceof cr)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function vu(r,t,n,s,o={}){const u=await fr(r,t,n,s,o);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function NE(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?mp(r.config,o):`${r.config.apiScheme}://${o}`}function tC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),JR.get())})}}function Zc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(r,t,s);return o.customData._tokenResponse=n,o}function Pv(r){return r!==void 0&&r.enterprise!==void 0}class nC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return tC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iC(r,t){return fr(r,"GET","/v2/recaptchaConfig",hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(r,t){return fr(r,"POST","/v1/accounts:delete",t)}async function OE(r,t){return fr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sC(r,t=!1){const n=fn(r),s=await n.getIdToken(t),o=pp(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(ym(o.auth_time)),issuedAtTime:Xl(ym(o.iat)),expirationTime:Xl(ym(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(r){return Number(r)*1e3}function pp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vv(r){const t=pp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof cr&&aC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function aC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(r){var t;const n=r.auth,s=await r.getIdToken(),o=await iu(r,OE(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?xE(u.providerUserInfo):[],m=uC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new xm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function lC(r){const t=fn(r);await Th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function xE(r){return r.map(t=>{var{providerId:n}=t,s=fp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,t){const n=await DE(r,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=NE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hC(r,t){return fr(r,"POST","/v2/accounts:revokeToken",hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Vv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await cC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=fp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new xm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await iu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sC(this,t)}reload(){return lC(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(nr(this.auth));const t=await this.getIdToken();return await iu(this,rC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,K=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:it,isAnonymous:st,providerData:mt,stsTokenManager:N}=n;Et(Q&&N,t,"internal-error");const w=ho.fromJSON(this.name,N);Et(typeof Q=="string",t,"internal-error"),Xr(A,t.name),Xr(R,t.name),Et(typeof it=="boolean",t,"internal-error"),Et(typeof st=="boolean",t,"internal-error"),Xr(O,t.name),Xr(V,t.name),Xr(G,t.name),Xr(L,t.name),Xr($,t.name),Xr(K,t.name);const S=new Zi({uid:Q,auth:t,email:R,emailVerified:it,displayName:A,isAnonymous:st,photoURL:V,phoneNumber:O,tenantId:G,stsTokenManager:w,createdAt:$,lastLoginAt:K});return mt&&Array.isArray(mt)&&(S.providerData=mt.map(I=>Object.assign({},I))),L&&(S._redirectEventId=L),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function Ji(r){sr(r instanceof Function,"Expected a class definition");let t=kv.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,kv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ME.type="NONE";const Lv=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,t,n){return`firebase:${r}:${t}:${n}`}class fo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new fo(Ji(Lv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(Lv);const f=lh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const A=Zi._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new fo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BE(t))return"Blackberry";if(zE(t))return"Webos";if(VE(t))return"Safari";if((t.includes("chrome/")||kE(t))&&!t.includes("edge/"))return"Chrome";if(UE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PE(r=We()){return/firefox\//i.test(r)}function VE(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kE(r=We()){return/crios\//i.test(r)}function LE(r=We()){return/iemobile/i.test(r)}function UE(r=We()){return/android/i.test(r)}function BE(r=We()){return/blackberry/i.test(r)}function zE(r=We()){return/webos/i.test(r)}function gp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fC(r=We()){var t;return gp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function dC(){return R1()&&document.documentMode===10}function jE(r=We()){return gp(r)||UE(r)||zE(r)||BE(r)||/windows phone/i.test(r)||LE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r,t=[]){let n;switch(r){case"Browser":n=Uv(We());break;case"Worker":n=`${Uv(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,t={}){return fr(r,"GET","/v2/passwordPolicy",hr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=6;class yC{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:gC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await fo.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await OE(this,{idToken:t}),s=await Zi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Th(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(nr(this));const n=t?fn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),n=new yC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await hC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ji(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&QR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ms(r){return fn(r)}class Bv{constructor(t){this.auth=t,this.observer=null,this.addObserver=P1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(r){Bh=r}function qE(r){return Bh.loadJS(r)}function EC(){return Bh.recaptchaEnterpriseScript}function TC(){return Bh.gapiScript}function bC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AC{constructor(){this.enterprise=new SC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class SC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const wC="recaptcha-enterprise",FE="NO_RECAPTCHA";class RC{constructor(t){this.type=wC,this.auth=ms(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{iC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new nC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Pv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(FE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Pv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EC();p.length!==0&&(p+=m),qE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function zv(r,t,n,s=!1,o=!1){const u=new RC(r);let f;if(o)f=FE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bh(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await zv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await zv(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r,t){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zs(u,t??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:t})}function IC(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function DC(r,t,n){const s=ms(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=GE(t),{host:f,port:m}=NC(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Zs(g,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,OC()}function GE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function NC(r){const t=GE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:jv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:jv(f)}}}function jv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function OC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,n){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function xC(r,t){return fr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,t){return vu(r,"POST","/v1/accounts:signInWithPassword",hr(r,t))}async function PC(r,t){return fr(r,"POST","/v1/accounts:sendOobCode",hr(r,t))}async function VC(r,t){return PC(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,t){return vu(r,"POST","/v1/accounts:signInWithEmailLink",hr(r,t))}async function LC(r,t){return vu(r,"POST","/v1/accounts:signInWithEmailLink",hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends yp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ru(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ru(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(t,n,"signInWithPassword",MC);case"emailLink":return kC(t,{email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(t,s,"signUpPassword",xC);case"emailLink":return LC(t,{idToken:n,email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,t){return vu(r,"POST","/v1/accounts:signInWithIdp",hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="http://localhost";class ta extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=fp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return mo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,mo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,mo(t,n)}buildRequest(){const t={requestUri:UC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zC(r){const t=Fl(Gl(r)).link,n=t?Fl(Gl(t)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||t||r}class _p{constructor(t){var n,s,o,u,f,m;const p=Fl(Gl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=BC((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=zC(t);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,n){return ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=_p.parseLink(n);return Et(s,"argument-error"),ru._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends $E{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Eu{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Eu{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Eu{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(r,t){return vu(r,"POST","/v1/accounts:signUp",hr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zi._fromIdTokenResponse(t,s,o),f=Hv(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Hv(s);return new ea({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Hv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends cr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ah(t,n,s,o)}}function KE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,t,s):u})}async function HC(r,t,n=!1){const s=await iu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(r,t,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(nr(s));const o="reauthenticate";try{const u=await iu(r,KE(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=pp(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(r,t,n=!1){if(Bn(r.app))return Promise.reject(nr(r));const s="signIn",o=await KE(r,s,t),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function FC(r,t){return QE(ms(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r){const t=ms(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GC(r,t,n){const s=ms(r);await bh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VC)}async function $C(r,t,n){if(Bn(r.app))return Promise.reject(nr(r));const s=ms(r),f=await bh(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&YE(r),p}),m=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function KC(r,t,n){return Bn(r.app)?Promise.reject(nr(r)):FC(fn(r),Io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YE(r),s})}function QC(r,t,n,s){return fn(r).onIdTokenChanged(t,n,s)}function YC(r,t,n){return fn(r).beforeAuthStateChanged(t,n)}function XC(r,t,n,s){return fn(r).onAuthStateChanged(t,n,s)}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=1e3,ZC=10;class WE extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);dC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ZC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},WC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const JC=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ZE.type="SESSION";const JE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new zh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await tI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function nI(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function iI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function sI(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",aI=1,wh="firebaseLocalStorage",nT="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,t){return r.transaction([wh],t?"readwrite":"readonly").objectStore(wh)}function oI(){const r=indexedDB.deleteDatabase(eT);return new Tu(r).toPromise()}function Mm(){const r=indexedDB.open(eT,aI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wh,{keyPath:nT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wh)?t(s):(s.close(),await oI(),t(await Mm()))})})}async function qv(r,t,n){const s=jh(r,!0).put({[nT]:t,value:n});return new Tu(s).toPromise()}async function lI(r,t){const n=jh(r,!1).get(t),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function Fv(r,t){const n=jh(r,!0).delete(t);return new Tu(n).toPromise()}const uI=800,cI=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>cI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(sI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await iI(),!this.activeServiceWorker)return;this.sender=new eI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mm();return await qv(t,Sh,"1"),await Fv(t,Sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new Tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const hI=iT;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r,t){return t?Ji(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends yp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return mo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return mo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dI(r){return QE(r.auth,new Ep(r),r.bypassAuthState)}function mI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),qC(n,new Ep(r),r.bypassAuthState)}async function pI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),HC(n,new Ep(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dI;case"linkViaPopup":case"linkViaRedirect":return pI;case"reauthViaPopup":case"reauthViaRedirect":return mI;default:Xn(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new _u(2e3,1e4);class co extends rT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gI.get())};t()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="pendingRedirect",uh=new Map;class _I extends rT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=uh.get(this.auth._key());if(!t){try{const s=await vI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}uh.set(this.auth._key(),t)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vI(r,t){const n=bI(t),s=TI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EI(r,t){uh.set(r._key(),t)}function TI(r){return Ji(r._redirectPersistence)}function bI(r){return lh(yI,r.config.apiKey,r.name)}async function AI(r,t,n=!1){if(Bn(r.app))return Promise.reject(nr(r));const s=ms(r),o=fI(s,t),f=await new _I(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=10*60*1e3;class wI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!sT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(t))}saveEventToCache(t){this.cachedEventUids.add(Gv(t)),this.lastProcessedEventTime=Date.now()}}function Gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function RI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,t={}){return fr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DI=/^https?/;async function NI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await CI(r);for(const n of t)try{if(OI(n))return}catch{}Xn(r,"unauthorized-domain")}function OI(r){const t=Om(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!DI.test(n))return!1;if(II.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new _u(3e4,6e4);function $v(){const r=yi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MI(r){return new Promise((t,n)=>{var s,o,u;function f(){$v(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(gi(r,"network-request-failed"))},timeout:xI.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=bC("iframefcb");return yi()[m]=()=>{gapi.load?f():n(gi(r,"network-request-failed"))},qE(`${TC()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw ch=null,t})}let ch=null;function PI(r){return ch=ch||MI(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new _u(5e3,15e3),kI="__/auth/iframe",LI="emulator/auth/iframe",UI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?mp(t,LI):`https://${r.config.authDomain}/${kI}`,s={apiKey:t.apiKey,appName:r.name,v:Co},o=BI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function jI(r){const t=await PI(r),n=yi().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:zI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},VI.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,FI=600,GI="_blank",$I="http://localhost";class Kv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KI(r,t,n,s=qI,o=FI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},HI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=We().toLowerCase();n&&(m=kE(g)?GI:n),PE(g)&&(t=t||$I,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[O,V])=>`${R}${O}=${V},`,"");if(fC(g)&&m!=="_self")return QI(t||"",m),new Kv(null);const A=window.open(t||"",m,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new Kv(A)}function QI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__/auth/handler",XI="emulator/auth/handler",WI=encodeURIComponent("fac");async function Qv(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(t instanceof $E){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",M1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Eu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${WI}=${encodeURIComponent(p)}`:"";return`${ZI(r)}?${yu(m).slice(1)}${g}`}function ZI({config:r}){return r.emulator?mp(r,XI):`https://${r.authDomain}/${YI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JE,this._completeRedirectFn=AI,this._overrideRedirectResult=EI}async _openPopup(t,n,s,o){var u;sr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Qv(t,n,s,Om(),o);return KI(t,f,vp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Qv(t,n,s,Om(),o);return nI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await jI(t),s=new wI(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_m,{type:_m},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[_m];f!==void 0&&n(!!f),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jE()||VE()||gp()}}const t2=JI;var Yv="@firebase/auth",Xv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i2(r){go(new Js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(r)},g=new _C(s,o,u,p);return IC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),go(new Js("auth-internal",t=>{const n=ms(t.getProvider("auth").getImmediate());return(s=>new e2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(Yv,Xv,n2(r)),rs(Yv,Xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=5*60,s2=_E("authIdTokenMaxAge")||r2;let Wv=null;const a2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>s2)return;const o=n==null?void 0:n.token;Wv!==o&&(Wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o2(r=bE()){const t=hp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=CC(r,{popupRedirectResolver:t2,persistence:[hI,JC,JE]}),s=_E("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=a2(u.toString());YC(n,f,()=>f(n.currentUser)),QC(n,m=>f(m))}}const o=gE("auth");return o&&DC(n,`http://${o}`),n}function l2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}vC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",l2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i2("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,aT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function S(){}S.prototype=w.prototype,N.D=w.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(I,x,B){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return w.prototype[x].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)I[x]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(x=0;16>x;++x)I[x]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=N.g[0],S=N.g[1],x=N.g[2];var B=N.g[3],D=w+(B^S&(x^B))+I[0]+3614090360&4294967295;w=S+(D<<7&4294967295|D>>>25),D=B+(x^w&(S^x))+I[1]+3905402710&4294967295,B=w+(D<<12&4294967295|D>>>20),D=x+(S^B&(w^S))+I[2]+606105819&4294967295,x=B+(D<<17&4294967295|D>>>15),D=S+(w^x&(B^w))+I[3]+3250441966&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(B^S&(x^B))+I[4]+4118548399&4294967295,w=S+(D<<7&4294967295|D>>>25),D=B+(x^w&(S^x))+I[5]+1200080426&4294967295,B=w+(D<<12&4294967295|D>>>20),D=x+(S^B&(w^S))+I[6]+2821735955&4294967295,x=B+(D<<17&4294967295|D>>>15),D=S+(w^x&(B^w))+I[7]+4249261313&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(B^S&(x^B))+I[8]+1770035416&4294967295,w=S+(D<<7&4294967295|D>>>25),D=B+(x^w&(S^x))+I[9]+2336552879&4294967295,B=w+(D<<12&4294967295|D>>>20),D=x+(S^B&(w^S))+I[10]+4294925233&4294967295,x=B+(D<<17&4294967295|D>>>15),D=S+(w^x&(B^w))+I[11]+2304563134&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(B^S&(x^B))+I[12]+1804603682&4294967295,w=S+(D<<7&4294967295|D>>>25),D=B+(x^w&(S^x))+I[13]+4254626195&4294967295,B=w+(D<<12&4294967295|D>>>20),D=x+(S^B&(w^S))+I[14]+2792965006&4294967295,x=B+(D<<17&4294967295|D>>>15),D=S+(w^x&(B^w))+I[15]+1236535329&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(x^B&(S^x))+I[1]+4129170786&4294967295,w=S+(D<<5&4294967295|D>>>27),D=B+(S^x&(w^S))+I[6]+3225465664&4294967295,B=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(B^w))+I[11]+643717713&4294967295,x=B+(D<<14&4294967295|D>>>18),D=S+(B^w&(x^B))+I[0]+3921069994&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(x^B&(S^x))+I[5]+3593408605&4294967295,w=S+(D<<5&4294967295|D>>>27),D=B+(S^x&(w^S))+I[10]+38016083&4294967295,B=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(B^w))+I[15]+3634488961&4294967295,x=B+(D<<14&4294967295|D>>>18),D=S+(B^w&(x^B))+I[4]+3889429448&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(x^B&(S^x))+I[9]+568446438&4294967295,w=S+(D<<5&4294967295|D>>>27),D=B+(S^x&(w^S))+I[14]+3275163606&4294967295,B=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(B^w))+I[3]+4107603335&4294967295,x=B+(D<<14&4294967295|D>>>18),D=S+(B^w&(x^B))+I[8]+1163531501&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(x^B&(S^x))+I[13]+2850285829&4294967295,w=S+(D<<5&4294967295|D>>>27),D=B+(S^x&(w^S))+I[2]+4243563512&4294967295,B=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(B^w))+I[7]+1735328473&4294967295,x=B+(D<<14&4294967295|D>>>18),D=S+(B^w&(x^B))+I[12]+2368359562&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(S^x^B)+I[5]+4294588738&4294967295,w=S+(D<<4&4294967295|D>>>28),D=B+(w^S^x)+I[8]+2272392833&4294967295,B=w+(D<<11&4294967295|D>>>21),D=x+(B^w^S)+I[11]+1839030562&4294967295,x=B+(D<<16&4294967295|D>>>16),D=S+(x^B^w)+I[14]+4259657740&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(S^x^B)+I[1]+2763975236&4294967295,w=S+(D<<4&4294967295|D>>>28),D=B+(w^S^x)+I[4]+1272893353&4294967295,B=w+(D<<11&4294967295|D>>>21),D=x+(B^w^S)+I[7]+4139469664&4294967295,x=B+(D<<16&4294967295|D>>>16),D=S+(x^B^w)+I[10]+3200236656&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(S^x^B)+I[13]+681279174&4294967295,w=S+(D<<4&4294967295|D>>>28),D=B+(w^S^x)+I[0]+3936430074&4294967295,B=w+(D<<11&4294967295|D>>>21),D=x+(B^w^S)+I[3]+3572445317&4294967295,x=B+(D<<16&4294967295|D>>>16),D=S+(x^B^w)+I[6]+76029189&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(S^x^B)+I[9]+3654602809&4294967295,w=S+(D<<4&4294967295|D>>>28),D=B+(w^S^x)+I[12]+3873151461&4294967295,B=w+(D<<11&4294967295|D>>>21),D=x+(B^w^S)+I[15]+530742520&4294967295,x=B+(D<<16&4294967295|D>>>16),D=S+(x^B^w)+I[2]+3299628645&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(x^(S|~B))+I[0]+4096336452&4294967295,w=S+(D<<6&4294967295|D>>>26),D=B+(S^(w|~x))+I[7]+1126891415&4294967295,B=w+(D<<10&4294967295|D>>>22),D=x+(w^(B|~S))+I[14]+2878612391&4294967295,x=B+(D<<15&4294967295|D>>>17),D=S+(B^(x|~w))+I[5]+4237533241&4294967295,S=x+(D<<21&4294967295|D>>>11),D=w+(x^(S|~B))+I[12]+1700485571&4294967295,w=S+(D<<6&4294967295|D>>>26),D=B+(S^(w|~x))+I[3]+2399980690&4294967295,B=w+(D<<10&4294967295|D>>>22),D=x+(w^(B|~S))+I[10]+4293915773&4294967295,x=B+(D<<15&4294967295|D>>>17),D=S+(B^(x|~w))+I[1]+2240044497&4294967295,S=x+(D<<21&4294967295|D>>>11),D=w+(x^(S|~B))+I[8]+1873313359&4294967295,w=S+(D<<6&4294967295|D>>>26),D=B+(S^(w|~x))+I[15]+4264355552&4294967295,B=w+(D<<10&4294967295|D>>>22),D=x+(w^(B|~S))+I[6]+2734768916&4294967295,x=B+(D<<15&4294967295|D>>>17),D=S+(B^(x|~w))+I[13]+1309151649&4294967295,S=x+(D<<21&4294967295|D>>>11),D=w+(x^(S|~B))+I[4]+4149444226&4294967295,w=S+(D<<6&4294967295|D>>>26),D=B+(S^(w|~x))+I[11]+3174756917&4294967295,B=w+(D<<10&4294967295|D>>>22),D=x+(w^(B|~S))+I[2]+718787259&4294967295,x=B+(D<<15&4294967295|D>>>17),D=S+(B^(x|~w))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var S=w-this.blockSize,I=this.B,x=this.h,B=0;B<w;){if(x==0)for(;B<=S;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<w;)if(I[x++]=N.charCodeAt(B++),x==this.blockSize){o(this,I),x=0;break}}else for(;B<w;)if(I[x++]=N[B++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var S=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.u(N),N=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)N[S++]=this.g[w]>>>I&255;return N};function u(N,w){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=w(N)}function f(N,w){this.h=w;for(var S=[],I=!0,x=N.length-1;0<=x;x--){var B=N[x]|0;I&&B==w||(S[x]=B,I=!1)}this.g=S}var m={};function p(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return L(g(-N));for(var w=[],S=1,I=0;N>=S;I++)w[I]=N/S|0,S*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return L(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(w,8)),I=A,x=0;x<N.length;x+=8){var B=Math.min(8,N.length-x),D=parseInt(N.substring(x,x+B),w);8>B?(B=g(Math.pow(w,B)),I=I.j(B).add(g(D))):(I=I.j(S),I=I.add(g(D)))}return I}var A=p(0),R=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-L(this).m();for(var N=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);N+=(0<=I?I:4294967296+I)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if(G(this))return"-"+L(this).toString(N);for(var w=g(Math.pow(N,6)),S=this,I="";;){var x=it(S,w).g;S=$(S,x.j(w));var B=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=x,V(S))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function G(N){return N.h==-1}r.l=function(N){return N=$(this,N),G(N)?-1:V(N)?0:1};function L(N){for(var w=N.g.length,S=[],I=0;I<w;I++)S[I]=~N.g[I];return new f(S,~N.h).add(R)}r.abs=function(){return G(this)?L(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],I=0,x=0;x<=w;x++){var B=I+(this.i(x)&65535)+(N.i(x)&65535),D=(B>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);I=D>>>16,B&=65535,D&=65535,S[x]=D<<16|B}return new f(S,S[S.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(L(w))}r.j=function(N){if(V(this)||V(N))return A;if(G(this))return G(N)?L(this).j(L(N)):L(L(this).j(N));if(G(N))return L(this.j(L(N)));if(0>this.l(O)&&0>N.l(O))return g(this.m()*N.m());for(var w=this.g.length+N.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<N.g.length;x++){var B=this.i(I)>>>16,D=this.i(I)&65535,fe=N.i(x)>>>16,ne=N.i(x)&65535;S[2*I+2*x]+=D*ne,K(S,2*I+2*x),S[2*I+2*x+1]+=B*ne,K(S,2*I+2*x+1),S[2*I+2*x+1]+=D*fe,K(S,2*I+2*x+1),S[2*I+2*x+2]+=B*fe,K(S,2*I+2*x+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new f(S,0)};function K(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Q(N,w){this.g=N,this.h=w}function it(N,w){if(V(w))throw Error("division by zero");if(V(N))return new Q(A,A);if(G(N))return w=it(L(N),w),new Q(L(w.g),L(w.h));if(G(w))return w=it(N,L(w)),new Q(L(w.g),w.h);if(30<N.g.length){if(G(N)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var S=R,I=w;0>=I.l(N);)S=st(S),I=st(I);var x=mt(S,1),B=mt(I,1);for(I=mt(I,2),S=mt(S,2);!V(I);){var D=B.add(I);0>=D.l(N)&&(x=x.add(S),B=D),I=mt(I,1),S=mt(S,1)}return w=$(N,x.j(w)),new Q(x,w)}for(x=A;0<=N.l(w);){for(S=Math.max(1,Math.floor(N.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=g(S),D=B.j(w);G(D)||0<D.l(N);)S-=I,B=g(S),D=B.j(w);V(B)&&(B=R),x=x.add(B),N=$(N,D)}return new Q(x,N)}r.A=function(N){return it(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&N.i(I);return new f(S,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|N.i(I);return new f(S,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^N.i(I);return new f(S,this.h^N.h)};function st(N){for(var w=N.g.length+1,S=[],I=0;I<w;I++)S[I]=N.i(I)<<1|N.i(I-1)>>>31;return new f(S,N.h)}function mt(N,w){var S=w>>5;w%=32;for(var I=N.g.length-S,x=[],B=0;B<I;B++)x[B]=0<w?N.i(B+S)>>>w|N.i(B+S+1)<<32-w:N.i(B+S);return new f(x,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,aT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,$l,lT,hh,Pm,uT,cT,hT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break t;_=_[j]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,Y){for(var rt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)rt[Vt-2]=arguments[Vt];return y.prototype[j].apply(b,rt)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,Y=b.length||0;c.length=j+Y;for(let rt=0;rt<Y;rt++)c[j+rt]=b[rt]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var st=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function mt(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let Y=0;Y<S.length;Y++)_=S[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ft;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const b=ne.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new $(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,ft=!1,Ft=new fe,M=()=>{const c=m.Promise.resolve(void 0);_t=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){B(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ct(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{it(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}V(Ct,ot);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),zt=0;function oe(c,y,_,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=j,this.key=++zt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ze(c){this.src=c,this.g={},this.h=0}Ze.prototype.add=function(c,y,_,b,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var rt=bn(c,y,b,j);return-1<rt?(y=c[rt],_||(y.fa=!1)):(y=new oe(y,this.src,Y,!!b,j),y.fa=_,c.push(y)),y};function Ai(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(b,j,1),Y&&(Kt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function bn(c,y,_,b){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return j}return-1}var dr="closure_lm_"+(1e6*Math.random()|0),mr={};function Si(c,y,_,b,j){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Si(c,y[Y],_,b,j);return null}return _=Nu(_),c&&c[ge]?c.K(y,_,g(b)?!!b.capture:!1,j):Po(c,y,_,!1,b,j)}function Po(c,y,_,b,j,Y){if(!y)throw Error("Invalid event type");var rt=g(j)?!!j.capture:!!j,Vt=Vo(c);if(Vt||(c[dr]=Vt=new Ze(c)),_=Vt.add(y,_,b,rt,Y),_.proxy)return _;if(b=da(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)lt||(j=rt),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(pa(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function da(){function c(_){return y.call(c.src,c.listener,_)}const y=af;return c}function ma(c,y,_,b,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ma(c,y[Y],_,b,j);else b=g(b)?!!b.capture:!!b,_=Nu(_),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=bn(Y,_,b,j),-1<_&&(Kt(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Vo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=bn(y,_,b,j)),(_=-1<c?y[c]:null)&&ps(_))}function ps(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])Ai(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(pa(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Vo(y))?(Ai(_,c),_.h==0&&(_.src=null,y[dr]=null)):Kt(c)}}}function pa(c){return c in mr?mr[c]:mr[c]="on"+c}function af(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ps(c),c=_.call(b,y)}return c}function Vo(c){return c=c[dr],c instanceof Ze?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function be(){pt.call(this),this.i=new Ze(this),this.M=this,this.F=null}V(be,pt),be.prototype[ge]=!0,be.prototype.removeEventListener=function(c,y,_,b){ma(this,c,y,_,b)};function Ne(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var j=y;y=new ot(b,c),I(y,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var rt=y.g=_[Y];j=wi(rt,b,!0,y)&&j}if(rt=y.g=c,j=wi(rt,b,!0,y)&&j,j=wi(rt,b,!1,y)&&j,_)for(Y=0;Y<_.length;Y++)rt=y.g=_[Y],j=wi(rt,b,!1,y)&&j}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Kt(_[b]);delete c.g[y],c.h--}}this.F=null},be.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},be.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function wi(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Y=0;Y<y.length;++Y){var rt=y[Y];if(rt&&!rt.da&&rt.capture==_){var Vt=rt.listener,Se=rt.ha||rt.src;rt.fa&&Ai(c.i,rt),j=Vt.call(Se,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ou(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ko(c){c.g=Ou(()=>{c.g=null,c.i&&(c.i=!1,ko(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class of extends pt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){pt.call(this),this.h=c,this.g={}}V(gs,pt);var pr=[];function Ge(c){mt(c.g,function(y,_){this.g.hasOwnProperty(_)&&ps(y)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Ge(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=m.JSON.stringify,Jn=m.JSON.parse,Je=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Uo(){}Uo.prototype.h=null;function xu(c){return c.h||(c.h=c.i())}function Mu(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ot.call(this,"d")}V(gr,ot);function Hn(){ot.call(this,"c")}V(Hn,ot);var An={},yr=null;function ga(){return yr=yr||new be}An.La="serverreachability";function Bo(c){ot.call(this,An.La,c)}V(Bo,ot);function _r(c){const y=ga();Ne(y,new Bo(y))}An.STAT_EVENT="statevent";function ya(c,y){ot.call(this,An.STAT_EVENT,c),this.stat=y}V(ya,ot);function de(c){const y=ga();Ne(y,new ya(y,c))}An.Ma="timingevent";function Pu(c,y){ot.call(this,An.Ma,c),this.size=y}V(Pu,ot);function vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function Vu(c,y,_,b,j,Y){c.info(function(){if(c.g)if(Y)for(var rt="",Vt=Y.split("&"),Se=0;Se<Vt.length;Se++){var kt=Vt[Se].split("=");if(1<kt.length){var Me=kt[0];kt=kt[1];var we=Me.split("_");rt=2<=we.length&&we[1]=="type"?rt+(Me+"="+kt+"&"):rt+(Me+"=redacted&")}}else rt=null;else rt=Y;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+_+`
`+rt})}function ku(c,y,_,b,j,Y,rt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+rt})}function Tr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oe(c,_)+(b?" "+b:"")})}function ei(c,y){c.info(function(){return"TIMEOUT: "+y})}Er.prototype.info=function(){};function Oe(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var rt=1;rt<j.length;rt++)j[rt]=""}}}}return Lo(_)}catch{return y}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function _a(){}V(_a,Uo),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},ys=new _a;function ni(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zo}function zo(){this.i=null,this.g="",this.h=!1}var br={},_s={};function qn(c,y,_){c.L=1,c.v=Ts(le(y)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),ie(c),c.A=le(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ni(_.i,"t",b),c.C=0,_=c.j.J,c.h=new zo,c.g=Xu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new of(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(pr[0]=j.toString()),j=pr);for(var Y=0;Y<j.length;Y++){var rt=Si(_,j[Y],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_r(),Vu(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)t:{const we=In(this.g);var y=this.g.Ba();const Pi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||we!=4||y==7||(y==8||0>=Pi?_r(3):_r(2)),va(this);var _=this.g.Z();this.X=_;e:if(Ar(this)){var b=Hu(this.g);c="";var j=b.length,Y=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),dn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==j-1)});b.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,ku(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Se=this.g;if((Vt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Vt)){var kt=Vt;break e}}kt=null}if(_=kt)Tr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,_);else{this.o=!1,this.s=3,de(12),on(this),dn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=Sr(this,rt),Ue==_s){we==4&&(this.s=4,de(14),_=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==br){this.s=4,de(15),Tr(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else Tr(this.i,this.l,Ue,null),mn(this,Ue);if(Ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||rt.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)Tr(this.i,this.l,rt,"[Invalid Chunked Response]"),on(this),dn(this);else if(0<rt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Is(Me),Me.M=!0,de(11))}}else Tr(this.i,this.l,rt,null),mn(this,rt);we==4&&on(this),this.o&&!this.J&&(we==4?Ku(this.j,this):(this.o=!1,ie(this)))}else df(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),on(this),dn(this)}}}catch{}finally{}};function Ar(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sr(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?_s:(_=Number(y.substring(_,b)),isNaN(_)?br:(b+=1,b+_>y.length?_s:(y=y.slice(b,b+_),c.C=b+_,y)))}ni.prototype.cancel=function(){this.J=!0,on(this)};function ie(c){c.S=Date.now()+c.I,jo(c,c.I)}function jo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vr(R(c.ba,c),y)}function va(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ei(this.i,this.A),this.L!=2&&(_r(),de(17)),on(this),this.s=2,dn(this)):jo(this,this.S-c)};function dn(c){c.j.G==0||c.J||Ku(c.j,c)}function on(c){va(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ge(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function mn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||wr(_.h,c))){if(!c.K&&wr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Da(_),Ca(_);else break t;Zo(_),de(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=vr(R(_.Za,_),6e3));if(1>=Lu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Da(_),!K(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let kt=j[y];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Me=kt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const we=kt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Pi=kt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(b=1.5*Pi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ue=c.g;if(Ue){const ui=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Y=b.h;Y.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Rr(Y,Y.h),Y.h=null))}if(b.D){const tl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(b.ya=tl,jt(b.I,b.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var rt=c;if(b.qa=Yu(b,b.J?b.ia:null,b.W),rt.K){Sn(b.h,rt);var Vt=rt,Se=b.L;Se&&(Vt.I=Se),Vt.B&&(va(Vt),ie(Vt)),b.g=rt}else Gu(b);0<_.i.length&&Ia(_)}else kt[0]!="stop"&&kt[0]!="close"||Mi(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Mi(_,7):Xo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}_r(4)}catch{}}var lf=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lu(c){return c.h?1:c.g?c.g.size:0}function wr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Rr(c,y){c.g?c.g.add(y):c.h=y}function Sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function uf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function vs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=uf(c),b=Uu(c),j=b.length,Y=0;Y<j;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var Y=c[_].substring(0,b);j=c[_].substring(b+1)}else Y=c[_];y(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,Cr(this,c.j),this.o=c.o,this.g=c.g,Es(this,c.s),this.l=c.l;var y=c.i,_=new ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ta(this,_),this.m=c.m}else c&&(y=String(c).match(Fo))?(this.h=!1,Cr(this,y[1]||"",!0),this.o=Ir(y[2]||""),this.g=Ir(y[3]||"",!0),Es(this,y[4]),this.l=Ir(y[5]||"",!0),Ta(this,y[6]||"",!0),this.m=Ir(y[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Ii.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wn(y,Go,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wn(y,Go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(wn(_,_.charAt(0)=="/"?$o:Bu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",wn(_,ff)),c.join("")};function le(c){return new Ii(c)}function Cr(c,y,_){c.j=_?Ir(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Es(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ta(c,y,_){y instanceof ii?(c.i=y,Ko(c.i,c.h)):(_||(y=wn(y,hf)),c.i=new ii(y,c.h))}function jt(c,y,_){c.i.set(y,_)}function Ts(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ir(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,cf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Bu=/[#\?:]/g,$o=/[#\?]/g,hf=/[#\?@]/g,ff=/#/g;function ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ii.prototype,r.add=function(c,y){Rn(this),this.i=null,c=Oi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ba(c,y){Rn(c),y=Oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Rn(c),y=Oi(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(y,j,b,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const j=c[b];for(let Y=0;Y<j.length;Y++)_.push(y[b])}return _},r.V=function(c){Rn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Oi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Rn(this),this.i=null,c=Oi(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ni(c,y,_){ba(c,y),0<_.length&&(c.i=null,c.g.set(Oi(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),rt=this.V(b);for(b=0;b<rt.length;b++){var j=Y;rt[b]!==""&&(j+="="+encodeURIComponent(String(rt[b]))),c.push(j)}}return this.i=c.join("&")};function Oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ko(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(ba(this,b),Ni(this,j,_))},c)),c.j=y}function zu(c,y){const _=new Er;if(m.Image){const b=new Image;b.onload=O(Cn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Cn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(Cn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Cn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function bs(c,y){const _=new Er,b=new AbortController,j=setTimeout(()=>{b.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(j),Y.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function As(){this.g=new Je}function ri(c,y,_){const b=_||"";try{vs(c,function(j,Y){let rt=j;g(j)&&(rt=Lo(j)),y.push(b+Y+"="+encodeURIComponent(rt))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Dr,Uo),Dr.prototype.g=function(){return new xi(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function xi(c,y){be.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(xi,be),r=xi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ai(this),this.readyState==3&&Qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return mt(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function xe(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):jt(c,y,_))}function Gt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Gt,be);var Aa=/^https?$/i,Ss=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?xu(this.o):xu(ys),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ju(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,rt]of _)this.g.setRequestHeader(Y,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ju(this,Y)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),oi(c)}function Sa(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ne(this,"complete"),Ne(this,"abort"),oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},r.bb=function(){wa(this)};function wa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ou(c.Ea,0,c);else if(Ne(c,"readystatechange"),In(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=rt===0){var j=String(c.D).match(Fo)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!Aa.test(j?j.toLowerCase():"")}_=b}if(_)Ne(c,"complete"),Ne(c,"success");else{c.m=6;try{var Y=2<In(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Sa(c)}}finally{oi(c)}}}}function oi(c,y){if(c.g){ws(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ne(c,"ready");try{_.onreadystatechange=b}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jn(y)}};function Hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function df(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(K(c[b]))continue;var _=x(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}N(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ra(c){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ra.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){de(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Yu(this,null,this.W),Ia(this)};function Xo(c){if(qu(c),c.G==3){var y=c.U++,_=le(c.I);if(jt(_,"SID",c.K),jt(_,"RID",y),jt(_,"TYPE","terminate"),Cs(c,_),y=new ni(c,c.j,y),y.L=2,y.v=Ts(le(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ie(y)}Qu(c)}function Ca(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function qu(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!qo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_t||M(),ft||(_t(),ft=!0),Ft.add(y,c),c.B=0}}function mf(c,y){return Lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vr(R(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ni(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Fu(this,j,y),_=le(this.I),jt(_,"RID",c),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),Cs(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Yo(Y)))+"&"+y:this.m&&xe(_,this.m,Y)),Rr(this.h,j),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",y),jt(_,"SID","null"),j.T=!0,qn(j,_,null)):qn(j,_,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||qo(this.h)||Wo(this))};function Wo(c,y){var _;y?_=y.l:_=c.U++;const b=le(c.I);jt(b,"SID",c.K),jt(b,"RID",_),jt(b,"AID",c.T),Cs(c,b),c.m&&c.o&&xe(b,c.m,c.o),_=new ni(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rr(c.h,_),qn(_,b,y)}function Cs(c,y){c.H&&mt(c.H,function(_,b){jt(y,b,_)}),c.l&&vs({},function(_,b){jt(y,b,_)})}function Fu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;t:{var j=c.i;let Y=-1;for(;;){const rt=["count="+_];Y==-1?0<_?(Y=j[0].g,rt.push("ofs="+Y)):Y=0:rt.push("ofs="+Y);let Vt=!0;for(let Se=0;Se<_;Se++){let kt=j[Se].g;const Me=j[Se].map;if(kt-=Y,0>kt)Y=Math.max(0,j[Se].g-100),Vt=!1;else try{ri(Me,rt,"req"+kt+"_")}catch{b&&b(Me)}}if(Vt){b=rt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_t||M(),ft||(_t(),ft=!0),Ft.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vr(R(c.Fa,c),Jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Ca(this),$u(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=le(c.qa);jt(y,"RID","rpc"),jt(y,"SID",c.K),jt(y,"AID",c.T),jt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(y,"TO",c.ja),jt(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ts(le(y)),_.m=null,_.P=!0,Ci(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),Zo(this),de(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Da(c),Is(c),c.g=null;var b=2}else if(wr(c.h,y))_=y.D,Sn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;b=ga(),Ne(b,new Pu(b,_)),Ia(c)}else Gu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&mf(c,y)||b==2&&Zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const j=!b;b=new Ii(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Cr(b,"https"),Ts(b),j?zu(b.toString(),_):bs(b.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),Qu(c),qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,_){var b=_ instanceof Ii?le(_):new Ii(_);if(b.g!="")y&&(b.g=y+"."+b.g),Es(b,b.s);else{var j=m.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Y=new Ii(null);b&&Cr(Y,b),y&&(Y.g=y),j&&Es(Y,j),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&jt(b,_,y),jt(b,"VER",c.la),Cs(c,b),b}function Xu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new Dr({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}r=Wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Na(){}Na.prototype.g=function(c,y){return new en(c,y)};function en(c,y){be.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new li(this)}V(en,be),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Xo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Lo(c),c=_);y.i.push(new lf(y.Ya++,c)),y.G==3&&Ia(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,en.aa.N.call(this)};function Zu(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Zu,gr);function Ju(){Hn.call(this),this.status=1}V(Ju,Hn);function li(c){this.g=c}V(li,Wu),li.prototype.ua=function(){Ne(this.g,"a")},li.prototype.ta=function(c){Ne(this.g,new Zu(c))},li.prototype.sa=function(c){Ne(this.g,new Ju)},li.prototype.ra=function(){Ne(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,hT=function(){return new Na},cT=function(){return ga()},uT=An,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,hh=Ae,Ri.COMPLETE="complete",lT=Ri,Mu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",be.prototype.listen=be.prototype.K,$l=Mu,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,oT=Gt}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",t0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new up("@firebase/firestore");function ao(){return na.logLevel}function ut(r,...t){if(na.logLevel<=Ot.DEBUG){const n=t.map(Tp);na.debug(`Firestore (${Do}): ${r}`,...n)}}function ar(r,...t){if(na.logLevel<=Ot.ERROR){const n=t.map(Tp);na.error(`Firestore (${Do}): ${r}`,...n)}}function yo(r,...t){if(na.logLevel<=Ot.WARN){const n=t.map(Tp);na.warn(`Firestore (${Do}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const t=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+r;throw ar(t),new Error(t)}function $t(r,t){r||Tt()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class c2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h2{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new fT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Ye(t)}}class f2{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class d2{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new f2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new e0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new e0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=p2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function _o(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-62135596800,i0=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*i0);return new Ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<n0)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-n0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Ie(0,0))}static max(){return new bt(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(),s===void 0?s=t.length-n:s>t.length-n&&Tt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=pi.isNumericId(t),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(t).compare(pi.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ss.fromString(t.substring(4,t.length-2))}}class te extends pi{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends pi{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return g2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new qe([r0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(te.fromString(t))}static fromName(t){return new yt(te.fromString(t).popFirst(5))}static empty(){return new yt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function y2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new Ie(n+1,0):new Ie(n,s));return new ls(o,yt.empty(),t)}function _2(r){return new ls(r.readTime,r.key,su)}class ls{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(bt.min(),yt.empty(),su)}static max(){return new ls(bt.max(),yt.empty(),su)}}function v2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==E2)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function b2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Hh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function qh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function A2(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="";function S2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=s0(t)),t=w2(r.get(n),t);return s0(t)}function w2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case mT:n+="";break;default:n+=u}}return n}function s0(r){return r+mT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function oa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function pT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(t){return new o0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class o0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Yn([])}unionWith(t){let n=new De(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if($t(!!r),typeof r=="string"){let t=0;const n=R2.exec(r);if($t(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="server_timestamp",_T="__type__",vT="__previous_value__",ET="__local_write_time__";function Ap(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[_T])===null||n===void 0?void 0:n.stringValue)===yT}function Fh(r){const t=r.mapValue.fields[vT];return Ap(t)?Fh(t):t}function au(r){const t=us(r.mapValue.fields[ET].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n,s,o,u,f,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Ch="(default)";class ou{constructor(t,n){this.projectId=t,this.database=n||Ch}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",I2="__max__",eh={mapValue:{}},bT="__vector__",Ih="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:N2(r)?9007199254740991:D2(r)?10:11:Tt()}function Ti(r,t){if(r===t)return!0;const n=hs(r);if(n!==hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return au(r).isEqual(au(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=us(o.timestampValue),m=us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return _o(r.arrayValue.values||[],t.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(a0(f)!==a0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0}(r,t);default:return Tt()}}function lu(r,t){return(r.values||[]).find(n=>Ti(n,t))!==void 0}function vo(r,t){if(r===t)return 0;const n=hs(r),s=hs(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return l0(r.timestampValue,t.timestampValue);case 4:return l0(au(r),au(t));case 5:return Pt(r.stringValue,t.stringValue);case 6:return function(u,f){const m=cs(u),p=cs(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pt(m[g],p[g]);if(E!==0)return E}return Pt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Pt(pe(u.latitude),pe(f.latitude));return m!==0?m:Pt(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return u0(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},R=f.fields||{},O=(m=A[Ih])===null||m===void 0?void 0:m.arrayValue,V=(p=R[Ih])===null||p===void 0?void 0:p.arrayValue,G=Pt(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:u0(O,V)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const R=Pt(p[A],E[A]);if(R!==0)return R;const O=vo(m[p[A]],g[E[A]]);if(O!==0)return O}return Pt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt()}}function l0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=us(r),s=us(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function u0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function Eo(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return cs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt()}function fh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fh(r);return t?16+fh(t):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+fh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return oa(s.fields,(u,f)=>{o+=u.length+fh(f)}),o}(r.mapValue);default:throw Tt()}}function c0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function h0(r){return!!r&&"nullValue"in r}function f0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function D2(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[TT])===null||n===void 0?void 0:n.stringValue)===bT}function Wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return oa(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Wl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function N2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Wl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ti(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){oa(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new zn(Wl(this.value))}}function AT(r){const t=[];return oa(r.fields,(n,s)=>{const o=new qe([n]);if(dh(s)){const u=AT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,bt.min(),bt.min(),bt.min(),zn.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,bt.min(),bt.min(),zn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,bt.min(),bt.min(),zn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n){this.position=t,this.inclusive=n}}function d0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function m0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n="asc"){this.field=t,this.dir=n}}function O2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class Te extends ST{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new M2(t,n,s):n==="array-contains"?new k2(t,s):n==="in"?new L2(t,s):n==="not-in"?new U2(t,s):n==="array-contains-any"?new B2(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new P2(t,s):new V2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vo(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends ST{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Wn(t,n)}matches(t){return wT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wT(r){return r.op==="and"}function RT(r){return x2(r)&&wT(r)}function x2(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function Lm(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(RT(r))return r.filters.map(t=>Lm(t)).join(",");{const t=r.filters.map(n=>Lm(n)).join(",");return`${r.op}(${t})`}}function CT(r,t){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(r,t):r instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&CT(f,o.filters[m]),!0):!1}(r,t):void Tt()}function IT(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(r):r instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(IT).join(" ,")+"}"}(r):"Filter"}class M2 extends Te{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class P2 extends Te{constructor(t,n){super(t,"in",n),this.keys=DT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class V2 extends Te{constructor(t,n){super(t,"not-in",n),this.keys=DT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function DT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class k2 extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sp(n)&&lu(n.arrayValue,this.value)}}class L2 extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class U2 extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class B2 extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>lu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function p0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new z2(r,t,n,s,o,u,f)}function wp(r){const t=St(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Lm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),qh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Eo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Eo(s)).join(",")),t.le=n}return t.le}function Rp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!O2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!CT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!m0(r.startAt,t.startAt)&&m0(r.endAt,t.endAt)}function Um(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function j2(r,t,n,s,o,u,f,m){return new xo(r,t,n,s,o,u,f,m)}function Cp(r){return new xo(r)}function g0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NT(r){return r.collectionGroup!==null}function Zl(r){const t=St(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new uu(u,s))}),n.has(qe.keyField().canonicalString())||t.he.push(new uu(qe.keyField(),s))}return t.he}function _i(r){const t=St(r);return t.Pe||(t.Pe=H2(t,Zl(r))),t.Pe}function H2(r,t){if(r.limitType==="F")return p0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new uu(o.field,u)});const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return p0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Bm(r,t){const n=r.filters.concat([t]);return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zm(r,t,n){return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Gh(r,t){return Rp(_i(r),_i(t))&&r.limitType===t.limitType}function OT(r){return`${wp(_i(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>IT(o)).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Eo(o)).join(",")),`Target(${s})`}(_i(r))}; limitType=${r.limitType})`}function $h(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=d0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Zl(s),o)||s.endAt&&!function(f,m,p){const g=d0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Zl(s),o))}(r,t)}function q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xT(r){return(t,n)=>{let s=!1;for(const o of Zl(r)){const u=F2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function F2(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Tt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new ae(yt.comparator);function or(){return G2}const MT=new ae(yt.comparator);function Kl(...r){let t=MT;for(const n of r)t=t.insert(n.key,n);return t}function PT(r){let t=MT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Xs(){return Jl()}function VT(){return Jl()}function Jl(){return new la(r=>r.toString(),(r,t)=>r.isEqual(t))}const $2=new ae(yt.comparator),K2=new De(yt.comparator);function xt(...r){let t=K2;for(const n of r)t=t.add(n);return t}const Q2=new De(Pt);function Y2(){return Q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(t)?"-0":t}}function kT(r){return{integerValue:""+r}}function X2(r,t){return A2(t)?kT(t):Ip(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function W2(r,t,n){return r instanceof cu?function(o,u){const f={fields:{[_T]:{stringValue:yT},[ET]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Fh(u)),u&&(f.fields[vT]=u),{mapValue:f}}(n,t):r instanceof hu?UT(r,t):r instanceof fu?BT(r,t):function(o,u){const f=LT(o,u),m=y0(f)+y0(o.Ie);return km(f)&&km(o.Ie)?kT(m):Ip(o.serializer,m)}(r,t)}function Z2(r,t,n){return r instanceof hu?UT(r,t):r instanceof fu?BT(r,t):n}function LT(r,t){return r instanceof Nh?function(s){return km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class cu extends Kh{}class hu extends Kh{constructor(t){super(),this.elements=t}}function UT(r,t){const n=zT(t);for(const s of r.elements)n.some(o=>Ti(o,s))||n.push(s);return{arrayValue:{values:n}}}class fu extends Kh{constructor(t){super(),this.elements=t}}function BT(r,t){let n=zT(t);for(const s of r.elements)n=n.filter(o=>!Ti(o,s));return{arrayValue:{values:n}}}class Nh extends Kh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function y0(r){return pe(r.integerValue||r.doubleValue)}function zT(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n){this.field=t,this.transform=n}}function tD(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof hu&&o instanceof hu||s instanceof fu&&o instanceof fu?_o(s.elements,o.elements,Ti):s instanceof Nh&&o instanceof Nh?Ti(s.Ie,o.Ie):s instanceof cu&&o instanceof cu}(r.transform,t.transform)}class eD{constructor(t,n){this.version=t,this.transformResults=n}}class vi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Qh{}function jT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dp(r.key,vi.none()):new bu(r.key,r.data,vi.none());{const n=r.data,s=zn.empty();let o=new De(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ua(r.key,s,new Yn(o.toArray()),vi.none())}}function nD(r,t,n){r instanceof bu?function(o,u,f){const m=o.value.clone(),p=v0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ua?function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=v0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(HT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function tu(r,t,n,s){return r instanceof bu?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=E0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof ua?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=E0(u.fieldTransforms,p,f),E=f.data;return E.setAll(HT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function iD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=LT(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function _0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,f)=>tD(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class bu extends Qh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends Qh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function HT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function v0(r,t,n){const s=new Map;$t(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,Z2(f,m,n[o]))}return s}function E0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,W2(u,f,t))}return s}class Dp extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&nD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=VT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=jT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,(n,s)=>_0(n,s))&&_o(this.baseMutations,t.baseMutations,(n,s)=>_0(n,s))}}class Np{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length);let o=function(){return $2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Np(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function lD(r){switch(r){case J.OK:return Tt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt()}}function qT(r){if(r===void 0)return ar("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return Tt()}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new ss([4294967295,4294967295],0);function T0(r){const t=uD().encode(r),n=new aT;return n.update(t),new Uint8Array(n.digest())}function b0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Op{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ss.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(ss.fromNumber(s)));return o.compare(cD)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=T0(t),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Op(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=T0(t),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Au.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Yh(bt.min(),o,new ae(Pt),or(),xt())}}class Au{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Au(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class FT{constructor(t,n){this.targetId=t,this.ge=n}}class GT{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class A0{constructor(){this.pe=0,this.ye=S0(),this.we=Fe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=xt(),n=xt(),s=xt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt()}}),new Au(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=S0()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class hD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=or(),this.$e=nh(),this.Ke=nh(),this.Ue=new ae(Pt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new yt(u.path);this.ze(n,f,Xe.newNoDocument(f,bt.min()))}else $t(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cs(s).toUint8Array()}catch(p){if(p instanceof gT)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(f,o,u)}catch(p){return yo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Um(m.target)){const p=new yt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xe.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=xt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Yh(t,n,this.Ue,this.Qe,s);return this.Qe=or(),this.$e=nh(),this.Ke=nh(),this.Ue=new ae(Pt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new A0,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new De(Pt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new De(Pt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new A0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function nh(){return new ae(yt.comparator)}function S0(){return new ae(yt.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class pD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function jm(r,t){return r.useProto3Json||qh(t)?t:{value:t}}function Oh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $T(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function gD(r,t){return Oh(r,t.toTimestamp())}function Ei(r){return $t(!!r),bt.fromTimestamp(function(n){const s=us(n);return new Ie(s.seconds,s.nanos)}(r))}function xp(r,t){return Hm(r,t).canonicalString()}function Hm(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function KT(r){const t=te.fromString(r);return $t(ZT(t)),t}function qm(r,t){return xp(r.databaseId,t.path)}function vm(r,t){const n=KT(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(YT(n))}function QT(r,t){return xp(r.databaseId,t)}function yD(r){const t=KT(r);return t.length===4?te.emptyPath():YT(t)}function Fm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YT(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function w0(r,t,n){return{name:qm(r,t),fields:n.value.mapValue.fields}}function _D(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($t(E===void 0||typeof E=="string"),Fe.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:qT(g.code);return new ct(E,g.message||"")}(f);n=new GT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(r,s.document.name),u=Ei(s.document.updateTime),f=s.document.createTime?Ei(s.document.createTime):bt.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=vm(r,s.document),u=s.readTime?Ei(s.readTime):bt.min(),f=Xe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=vm(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in t))return Tt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oD(o,u),m=s.targetId;n=new FT(m,f)}}return n}function vD(r,t){let n;if(t instanceof bu)n={update:w0(r,t.key,t.value)};else if(t instanceof Dp)n={delete:qm(r,t.key)};else if(t instanceof ua)n={update:w0(r,t.key,t.data),updateMask:ID(t.fieldMask)};else{if(!(t instanceof rD))return Tt();n={verify:qm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof cu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Tt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:gD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt()}(r,t.precondition)),n}function ED(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ei(o.updateTime):Ei(u);return f.isEqual(bt.min())&&(f=Ei(u)),new eD(f,o.transformResults||[])}(n,t))):[]}function TD(r,t){return{documents:[QT(r,t.path)]}}function bD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QT(r,o);const u=function(g){if(g.length!==0)return WT(Wn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:lo(R.field),direction:wD(R.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function AD(r){let t=yD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const R=XT(A);return R instanceof Wn&&RT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(V){return new uu(uo(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,qh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(A){const R=!!A.before,O=A.values||[];return new Dh(O,R)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const R=!A.before,O=A.values||[];return new Dh(O,R)}(n.endAt)),j2(t,o,f,u,m,"F",p,g)}function SD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(r):r.fieldFilter!==void 0?function(n){return Te.create(uo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(r):Tt()}function wD(r){return fD[r]}function RD(r){return dD[r]}function CD(r){return mD[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return qe.fromServerFormat(r.fieldPath)}function WT(r){return r instanceof Te?function(n){if(n.op==="=="){if(f0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(h0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(h0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:RD(n.op),value:n.value}}}(r):r instanceof Wn?function(n){const s=n.getFilters().map(o=>WT(o));return s.length===1?s[0]:{compositeFilter:{op:CD(n.op),filters:s}}}(r):Tt()}function ID(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ZT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.Tt=t}}function ND(r){const t=AD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Tn=new xD}addToCollectionParentIndex(t,n){return this.Tn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(ls.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class xD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(JT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new To(0)}static Un(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LruGarbageCollector",MD=1048576;function I0([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class PD{constructor(t){this.Hn=t,this.buffer=new De(I0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();I0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(C0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ut(C0,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.er(3e5)})}}class kD{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Hh.ae);const s=new PD(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(R0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(g=Date.now(),ao()<=Ot.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function LD(r,t){return new kD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.changes=new la(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&tu(s.mutation,o,Yn.empty(),Ie.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const o=Xs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=or();const f=Jl(),m=function(){return Jl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ua)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),tu(E.mutation,g,E.mutation.getFieldMask(),Ie.now())):f.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new BD(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Jl();let o=new ae((f,m)=>f-m),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Yn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||xt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=VT();E.forEach(R=>{if(!u.has(R)){const O=jT(n.get(R),s.get(R));O!==null&&A.set(R,O),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):NT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(Xs());let m=su,p=u;return f.next(g=>tt.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,xt())).next(E=>({batchId:m,changes:PT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(A,R){return new xo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))});let m=Kl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&tu(E.mutation,g,Yn.empty(),Ie.now()),$h(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return tt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ND(o.bundledQuery),readTime:Ei(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new ae(yt.comparator),this.Rr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Xs();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=Xs(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return tt.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aD(n,s));let u=this.Rr.get(n);u===void 0&&(u=xt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Vr=new De(Le.mr),this.gr=new De(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Le(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Le(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new yt(new te([])),s=new Le(n,t),o=new Le(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new te([])),s=new Le(n,t),o=new Le(n,t+1);let u=xt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Pt(t.Cr,n.Cr)}static pr(t,n){return Pt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new De(Le.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?bp:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Pt);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new yt(u),0);let m=new De(Pt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),tt.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Le(n,0),o=this.Mr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.kr=t,this.docs=function(){return new ae(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=or();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=or();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||v2(_2(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt()}qr(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new $D(this)}getSize(t){return tt.resolve(this.size)}}class $D extends UD{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.persistence=t,this.Qr=new la(n=>wp(n),Rp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mp,this.targetCount=0,this.Ur=To.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),tt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new To(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.zn(n),tt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Hh(0),this.zr=!1,this.zr=!0,this.jr=new qD,this.referenceDelegate=t(this),this.Hr=new KD(this),this.indexManager=new OD,this.remoteDocumentCache=function(o){return new GD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new DD(n),this.Yr=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new HD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new FD(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new QD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class QD extends T2{constructor(t){super(),this.currentSequenceNumber=t}}class Pp{constructor(t){this.persistence=t,this.ti=new Mp,this.ni=null}static ri(t){return new Pp(t)}get ii(){if(this.ni)return this.ni;throw Tt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),tt.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return tt.or([()=>tt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class xh{constructor(t,n){this.persistence=t,this.oi=new la(s=>S2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=LD(this,n)}static ri(t,n){return new xh(t,n)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return tt.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fh(t.data.value)),n}ar(t,n,s){return tt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return C1()?8:b2(We())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new YD;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(ao()<=Ot.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(ao()<=Ot.DEBUG&&ut("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ao()<=Ot.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_i(n))):tt.resolve())}rs(t,n){if(g0(n))return tt.resolve(null);let s=_i(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=xt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(t,zm(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,s,o){return g0(n)||o.isEqual(bt.min())?tt.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?tt.resolve(null):(ao()<=Ot.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.hs(t,f,n,y2(o,su)).next(m=>m))})}cs(t,n){let s=new De(xT(t));return n.forEach((o,u)=>{$h(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return ao()<=Ot.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",oo(n)),this.ns.getDocumentsMatchingQuery(t,n,ls.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",WD=3e8;class ZD{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ae(Pt),this.Is=new la(u=>wp(u),Rp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function JD(r,t,n,s){return new ZD(r,t,n,s)}async function eb(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function tN(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,R=A.keys();let O=tt.resolve();return R.forEach(V=>{O=O.next(()=>E.getEntry(p,V)).next(G=>{const L=g.docVersions.get(V);$t(L!==null),G.version.compareTo(L)<0&&(A.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function nb(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function eN(r,t){const n=St(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let O=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?O=O.withResumeToken(Fe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(A,O),function(G,L,$){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=WD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=or(),g=xt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nN(u,f,t.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(bt.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function nN(r,t,n){let s=xt(),o=xt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=or();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut(kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function iN(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function rN(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new es(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Gm(r,t,n){const s=St(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Oo(f))throw f;ut(kp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function D0(r,t,n){const s=St(r);let o=bt.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=St(p),R=A.Is.get(E);return R!==void 0?tt.resolve(A.Ts.get(R)):A.Hr.getTargetData(g,E)}(s,f,_i(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:xt())).next(m=>(sN(s,q2(t),m),{documents:m,gs:u})))}function sN(r,t,n){let s=r.Es.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class N0{constructor(){this.activeTargetIds=Y2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aN{constructor(){this.ho=new N0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new N0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="ConnectivityMonitor";class x0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(O0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(O0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function $m(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uN{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,n,s,o,u){const f=$m(),m=this.So(t,n.toUriEncodedString());ut(Em,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(g=>(ut(Em,`Received RPC '${t}' ${f}: `,g),g),g=>{throw yo(Em,`RPC '${t}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(t,n,s,o,u,f){return this.bo(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}So(t,n){const s=lN[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class hN extends uN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=$m();return new Promise((f,m)=>{const p=new oT;p.setWithCredentials(!0),p.listenOnce(lT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const E=p.getResponseJson();ut(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case hh.TIMEOUT:ut(Qe,`RPC '${t}' ${u} timed out`),m(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const A=p.getStatus();if(ut(Qe,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const V=function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(O.status);m(new ct(V,O.message))}else m(new ct(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(J.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{ut(Qe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ut(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(t,n,s){const o=$m(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=hT(),m=cT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ut(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let R=!1,O=!1;const V=new cN({Fo:L=>{O?ut(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(R||(ut(Qe,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),ut(Qe,`RPC '${t}' stream ${o} sending:`,L),A.send(L))},Mo:()=>A.close()}),G=(L,$,K)=>{L.listen($,Q=>{try{K(Q)}catch(it){setTimeout(()=>{throw it},0)}})};return G(A,$l.EventType.OPEN,()=>{O||(ut(Qe,`RPC '${t}' stream ${o} transport opened.`),V.Qo())}),G(A,$l.EventType.CLOSE,()=>{O||(O=!0,ut(Qe,`RPC '${t}' stream ${o} transport closed`),V.Ko())}),G(A,$l.EventType.ERROR,L=>{O||(O=!0,yo(Qe,`RPC '${t}' stream ${o} transport errored:`,L),V.Ko(new ct(J.UNAVAILABLE,"The operation could not be completed")))}),G(A,$l.EventType.MESSAGE,L=>{var $;if(!O){const K=L.data[0];$t(!!K);const Q=K,it=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(it){ut(Qe,`RPC '${t}' stream ${o} received error:`,it);const st=it.status;let mt=function(S){const I=Ee[S];if(I!==void 0)return qT(I)}(st),N=it.message;mt===void 0&&(mt=J.INTERNAL,N="Unknown error status: "+st+" with message "+it.message),O=!0,V.Ko(new ct(mt,N)),A.close()}else ut(Qe,`RPC '${t}' stream ${o} received:`,K),V.Uo(K)}}),G(m,uT.STAT_EVENT,L=>{L.stat===Pm.PROXY?ut(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Pm.NOPROXY&&ut(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(r){return new pD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="PersistentStream";class rb{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ib(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(M0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ut(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends rb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=_D(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Ei(f.readTime):bt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Fm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Um(p)?{documents:TD(u,p)}:{query:bD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=$T(u,f.resumeToken);const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=SD(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Fm(this.serializer),n.removeTarget=t,this.I_(n)}}class dN extends rb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=ED(t.writeResults,t.commitTime),s=Ei(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Fm(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>vD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class pN extends mN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,Hm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(J.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Hm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ar(n),this.N_=!1):ut("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class yN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ca(this)&&(ut(ia,"Restarting streams for network reachability change."),await async function(p){const g=St(p);g.W_.add(4),await Su(g),g.j_.set("Unknown"),g.W_.delete(4),await Wh(g)}(this))})}),this.j_=new gN(s,o)}}async function Wh(r){if(ca(r))for(const t of r.G_)await t(!0)}async function Su(r){for(const t of r.G_)await t(!1)}function sb(r,t){const n=St(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),zp(n)?Bp(n):Mo(n).c_()&&Up(n,t))}function Lp(r,t){const n=St(r),s=Mo(n);n.U_.delete(t),s.c_()&&ab(n,t),n.U_.size===0&&(s.c_()?s.P_():ca(n)&&n.j_.set("Unknown"))}function Up(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Mo(r).y_(t)}function ab(r,t){r.H_.Ne(t),Mo(r).w_(t)}function Bp(r){r.H_=new hD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.j_.B_()}function zp(r){return ca(r)&&!Mo(r).u_()&&r.U_.size>0}function ca(r){return St(r).W_.size===0}function ob(r){r.H_=void 0}async function _N(r){r.j_.set("Online")}async function vN(r){r.U_.forEach((t,n)=>{Up(r,t)})}async function EN(r,t){ob(r),zp(r)?(r.j_.q_(t),Bp(r)):r.j_.set("Unknown")}async function TN(r,t,n){if(r.j_.set("Online"),t instanceof GT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ut(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Mh(r,s)}else if(t instanceof ph?r.H_.We(t):t instanceof FT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(bt.min()))try{const s=await nb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),ab(u,p);const A=new es(E.target,p,g,E.sequenceNumber);Up(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ut(ia,"Failed to raise snapshot:",s),await Mh(r,s)}}async function Mh(r,t,n){if(!Oo(t))throw t;r.W_.add(1),await Su(r),r.j_.set("Offline"),n||(n=()=>nb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(ia,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Wh(r)})}function lb(r,t){return t().catch(n=>Mh(r,n,t))}async function Zh(r){const t=St(r),n=fs(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:bp;for(;bN(t);)try{const o=await iN(t.localStore,s);if(o===null){t.K_.length===0&&n.P_();break}s=o.batchId,AN(t,o)}catch(o){await Mh(t,o)}ub(t)&&cb(t)}function bN(r){return ca(r)&&r.K_.length<10}function AN(r,t){r.K_.push(t);const n=fs(r);n.c_()&&n.b_&&n.S_(t.mutations)}function ub(r){return ca(r)&&!fs(r).u_()&&r.K_.length>0}function cb(r){fs(r).start()}async function SN(r){fs(r).C_()}async function wN(r){const t=fs(r);for(const n of r.K_)t.S_(n.mutations)}async function RN(r,t,n){const s=r.K_.shift(),o=Np.from(s,t,n);await lb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Zh(r)}async function CN(r,t){t&&fs(r).b_&&await async function(s,o){if(function(f){return lD(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();fs(s).h_(),await lb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zh(s)}}(r,t),ub(r)&&cb(r)}async function P0(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ut(ia,"RemoteStore received new credentials");const s=ca(n);n.W_.add(3),await Su(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Wh(n)}async function IN(r,t){const n=St(r);t?(n.W_.delete(2),await Wh(n)):t||(n.W_.add(2),await Su(n),n.j_.set("Unknown"))}function Mo(r){return r.J_||(r.J_=function(n,s,o){const u=St(n);return u.M_(),new fN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:_N.bind(null,r),No:vN.bind(null,r),Lo:EN.bind(null,r),p_:TN.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),zp(r)?Bp(r):r.j_.set("Unknown")):(await r.J_.stop(),ob(r))})),r.J_}function fs(r){return r.Y_||(r.Y_=function(n,s,o){const u=St(n);return u.M_(),new dN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:SN.bind(null,r),Lo:CN.bind(null,r),D_:wN.bind(null,r),v_:RN.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Zh(r)):(await r.Y_.stop(),r.K_.length>0&&(ut(ia,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new jp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,t){if(ar("AsyncQueue",`${t}: ${r}`),Oo(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(t){return new po(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof po)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Z_=new ae(yt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Tt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class bo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new bo(t,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class NN{constructor(){this.queries=k0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=k0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function k0(){return new la(r=>OT(r),Gh)}async function hb(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new DN,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&qp(n)}async function fb(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ON(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&qp(n)}function xN(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function qp(r){r.ia.forEach(t=>{t.next()})}var Km,L0;(L0=Km||(Km={}))._a="default",L0.Cache="cache";class db{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new bo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t){this.key=t}}class pb{constructor(t){this.key=t}}class MN{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=xT(t),this.wa=new po(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new V0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const R=o.get(E),O=$h(this.query,A)?A:null,V=!!R&&this.mutatedKeys.has(R.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;R&&O?R.data.isEqual(O.data)?V!==G&&(s.track({type:3,doc:O}),L=!0):this.va(R,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),L=!0):R&&!O&&(s.track({type:1,doc:R}),L=!0,(p||g)&&(m=!0)),L&&(O?(f=f.add(O),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,A)=>function(O,V){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return G(O)-G(V)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new bo(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new V0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new pb(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new mb(s))}),n}Oa(t){this.fa=t.gs,this.pa=xt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fp="SyncEngine";class PN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class VN{constructor(t){this.key=t,this.Ba=!1}}class kN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new la(m=>OT(m),Gh),this.qa=new Map,this.Qa=new Set,this.$a=new ae(yt.comparator),this.Ka=new Map,this.Ua=new Mp,this.Wa={},this.Ga=new Map,this.za=To.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LN(r,t,n=!0){const s=Tb(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await gb(s,t,n,!0),o}async function UN(r,t){const n=Tb(r);await gb(n,t,!0,!1)}async function gb(r,t,n,s){const o=await rN(r.localStore,_i(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await BN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sb(r.remoteStore,o),m}async function BN(r,t,n,s,o){r.Ha=(A,R,O)=>async function(G,L,$,K){let Q=L.view.Sa($);Q.ls&&(Q=await D0(G.localStore,L.query,!1).then(({documents:N})=>L.view.Sa(N,Q)));const it=K&&K.targetChanges.get(L.targetId),st=K&&K.targetMismatches.get(L.targetId)!=null,mt=L.view.applyChanges(Q,G.isPrimaryClient,it,st);return B0(G,L.targetId,mt.Ma),mt.snapshot}(r,A,R,O);const u=await D0(r.localStore,t,!0),f=new MN(t,u.gs),m=f.Sa(u.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);B0(r,n,g.Ma);const E=new PN(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function zN(r,t,n){const s=St(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Gh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Qm(s,o.targetId)}).catch(No)):(Qm(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function jN(r,t){const n=St(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function HN(r,t,n){const s=YN(r);try{const o=await function(f,m){const p=St(f),g=Ie.now(),E=m.reduce((O,V)=>O.add(V.key),xt());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=or(),G=xt();return p.ds.getEntries(O,E).next(L=>{V=L,V.forEach(($,K)=>{K.isValidDocument()||(G=G.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,V)).next(L=>{A=L;const $=[];for(const K of m){const Q=iD(K,A.get(K.key).overlayedDocument);Q!=null&&$.push(new ua(K.key,Q,AT(Q.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)}).next(L=>{R=L;const $=L.applyToLocalDocumentSet(A,G);return p.documentOverlayCache.saveOverlays(O,L.batchId,$)})}).then(()=>({batchId:R.batchId,changes:PT(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ae(Pt)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await wu(s,o.changes),await Zh(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function yb(r,t){const n=St(r);try{const s=await eN(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$t(f.Ba):o.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await wu(n,s,t)}catch(s){await No(s)}}function U0(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=St(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const R of A.ta)R.sa(m)&&(g=!0)}),g&&qp(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qN(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),u=o&&o.key;if(u){let f=new ae(yt.comparator);f=f.insert(u,Xe.newNoDocument(u,bt.min()));const m=xt().add(u),p=new Yh(bt.min(),new Map,new ae(Pt),f,m);await yb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(t),Gp(s)}else await Gm(s.localStore,t,!1).then(()=>Qm(s,t,n)).catch(No)}async function FN(r,t){const n=St(r),s=t.batch.batchId;try{const o=await tN(n.localStore,t);vb(n,s,null),_b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await No(o)}}async function GN(r,t,n){const s=St(r);try{const o=await function(f,m){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($t(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);vb(s,t,n),_b(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await wu(s,o)}catch(o){await No(o)}}function _b(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function vb(r,t,n){const s=St(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||Eb(r,s)})}function Eb(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Lp(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Gp(r))}function B0(r,t,n){for(const s of n)s instanceof mb?(r.Ua.addReference(s.key,t),$N(r,s)):s instanceof pb?(ut(Fp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||Eb(r,s.key)):Tt()}function $N(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ut(Fp,"New document in limbo: "+n),r.Qa.add(s),Gp(r))}function Gp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new yt(te.fromString(t)),s=r.za.next();r.Ka.set(s,new VN(n)),r.$a=r.$a.insert(n,s),sb(r.remoteStore,new es(_i(Cp(n.path)),s,"TargetPurposeLimboResolution",Hh.ae))}}async function wu(r,t,n){const s=St(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Vp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>tt.forEach(g,R=>tt.forEach(R.Hi,O=>E.persistence.referenceDelegate.addReference(A,R.targetId,O)).next(()=>tt.forEach(R.Ji,O=>E.persistence.referenceDelegate.removeReference(A,R.targetId,O)))))}catch(A){if(!Oo(A))throw A;ut(kp,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const O=E.Ts.get(R),V=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(R,G)}}}(s.localStore,u))}async function KN(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ut(Fp,"User change. New user:",t.toKey());const s=await eb(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ct(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Rs)}}function QN(r,t){const n=St(r),s=n.Ka.get(t);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function Tb(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qN.bind(null,t),t.La.p_=ON.bind(null,t.eventManager),t.La.Ja=xN.bind(null,t.eventManager),t}function YN(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GN.bind(null,t),t}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return JD(this.persistence,new XD,t.initialUser,this.serializer)}Xa(t){return new tb(Pp.ri,this.serializer)}Za(t){return new aN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class XN extends Ph{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof xh);const s=this.persistence.referenceDelegate.garbageCollector;return new VD(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new tb(s=>xh.ri(s,n),this.serializer)}}class Ym{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new NN}()}createDatastore(t){const n=Xh(t.databaseInfo.databaseId),s=function(u){return new hN(u)}(t.databaseInfo);return function(u,f,m,p){return new pN(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new yN(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>U0(this.syncEngine,n,0),function(){return x0.D()?new x0:new oN}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const A=new kN(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);ut(ia,"RemoteStore shutting down."),u.W_.add(5),await Su(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class WN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=dT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ut(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function bm(r,t){r.asyncQueue.verifyOperationInProgress(),ut(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await eb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function z0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await ZN(r);ut(ds,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>P0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>P0(t.remoteStore,o)),r._onlineComponents=t}async function ZN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(ds,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Ph)}}else ut(ds,"Using default OfflineComponentProvider"),await bm(r,new XN(void 0));return r._offlineComponents}async function Ab(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(ds,"Using user provided OnlineComponentProvider"),await z0(r,r._uninitializedComponentsProvider._online)):(ut(ds,"Using default OnlineComponentProvider"),await z0(r,new Ym))),r._onlineComponents}function JN(r){return Ab(r).then(t=>t.syncEngine)}async function Sb(r){const t=await Ab(r),n=t.eventManager;return n.onListen=LN.bind(null,t.syncEngine),n.onUnlisten=zN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=UN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jN.bind(null,t.syncEngine),n}function tO(r,t,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new bb({next:R=>{E.su(),f.enqueueAndForget(()=>fb(u,A));const O=R.docs.has(m);!O&&R.fromCache?g.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?g.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new db(Cp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return hb(u,A)}(await Sb(r),r.asyncQueue,t,n,s)),s.promise}function eO(r,t,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new bb({next:R=>{E.su(),f.enqueueAndForget(()=>fb(u,A)),R.fromCache&&p.source==="server"?g.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new db(m,E,{includeMetadataChanges:!0,Ta:!0});return hb(u,A)}(await Sb(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nO(r,t,n,s){if(t===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function H0(r){if(!yt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(yt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function ra(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",F0=!0;class G0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=F0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:F0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MD)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wb((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new u2;switch(s.type){case"firstParty":return new d2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=j0.get(n);s&&(ut("ComponentProvider","Removing Datastore"),j0.delete(n),s.terminate())}(this),Promise.resolve()}}function iO(r,t,n,s={}){var o;const u=(r=ra(r,tf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==Cb&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Zs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Ye.MOCK_USER;else{g=E1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ye(A)}r._authCredentials=new c2(new fT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ha(this.firestore,t,this._query)}}class Tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Tn(this.firestore,t,this._key)}}class as extends ha{constructor(t,n,s){super(t,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Tn(this.firestore,null,new yt(t))}withConverter(t){return new as(this.firestore,t,this._path)}}function Ib(r,t,...n){if(r=fn(r),Rb("collection","path",t),r instanceof tf){const s=te.fromString(t,...n);return q0(s),new as(r,null,s)}{if(!(r instanceof Tn||r instanceof as))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return q0(s),new as(r.firestore,null,s)}}function $p(r,t,...n){if(r=fn(r),arguments.length===1&&(t=dT.newId()),Rb("doc","path",t),r instanceof tf){const s=te.fromString(t,...n);return H0(s),new Tn(r,null,new yt(s))}{if(!(r instanceof Tn||r instanceof as))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return H0(s),new Tn(r.firestore,r instanceof as?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="AsyncQueue";class K0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ib(this,"async_queue_retry"),this.bu=()=>{const s=Tm();s&&ut($0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ir;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Oo(t))throw t;ut($0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=jp.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Tt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Ru extends tf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new K0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new K0(t),this._firestoreClient=void 0,await t}}}function rO(r,t){const n=typeof r=="object"?r:bE(),s=typeof r=="string"?r:Ch,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_1("firestore");u&&iO(o,...u)}return o}function Kp(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sO(r),r._firestoreClient}function sO(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new C2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,wb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new WN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ao(Fe.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ao(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^__.*__$/;class oO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ua(t,this.data,this.fieldMask,n,this.fieldTransforms):new bu(t,this.data,n,this.fieldTransforms)}}function Db(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class Zp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Zp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Vh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Db(this.Lu)&&aO.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class lO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(t)}ju(t,n,s,o=!1){return new Zp({Lu:t,methodName:n,zu:s,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nb(r){const t=r._freezeSettings(),n=Xh(r._databaseId);return new lO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function uO(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);Mb("Data must be an object, but it was:",f,s);const m=Ob(s,f);let p,g;if(u.merge)p=new Yn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=hO(t,A,n);if(!f.contains(R))throw new ct(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);dO(E,R)||E.push(R)}p=new Yn(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new oO(new zn(m),p,g)}class Jp extends Yp{_toFieldTransform(t){return new J2(t.path,new cu)}isEqual(t){return t instanceof Jp}}function cO(r,t,n,s=!1){return tg(n,r.ju(s?4:3,t))}function tg(r,t){if(xb(r=fn(r)))return Mb("Unsupported field value:",t,r),Ob(r,t);if(r instanceof Yp)return function(s,o){if(!Db(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=tg(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return X2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ie.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof Ie){const u=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof Xp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:$T(o.serializer,s._byteString)};if(s instanceof Tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wp)return function(f,m){return{mapValue:{fields:{[TT]:{stringValue:bT},[Ih]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ip(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jh(s)}`)}(r,t)}function Ob(r,t){const n={};return pT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(r,(s,o)=>{const u=tg(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function xb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ie||r instanceof Xp||r instanceof Ao||r instanceof Tn||r instanceof Yp||r instanceof Wp)}function Mb(r,t,n){if(!xb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Jh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function hO(r,t,n){if((t=fn(t))instanceof Qp)return t._internalPath;if(typeof t=="string")return Pb(r,t);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const fO=new RegExp("[~\\*/\\[\\]]");function Pb(r,t,n){if(t.search(fO)>=0)throw Vh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qp(...t.split("."))._internalPath}catch{throw Vh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Vh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(J.INVALID_ARGUMENT,m+r+p)}function dO(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mO extends Vb{data(){return super.data()}}function eg(r,t){return typeof t=="string"?Pb(r,t):t instanceof Qp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class kb extends ng{}function gO(r,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof rg).length,m=u.filter(p=>p instanceof ig).length;if(f>1||f>0&&m>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ig extends kb{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ig(t,n,s)}_apply(t){const n=this._parse(t);return Lb(t._query,n),new ha(t.firestore,t.converter,Bm(t._query,n))}_parse(t){const n=Nb(t.firestore);return function(u,f,m,p,g,E,A){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Y0(A,E);const V=[];for(const G of A)V.push(Q0(p,u,G));R={arrayValue:{values:V}}}else R=Q0(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Y0(A,E),R=cO(m,f,A,E==="in"||E==="not-in");return Te.create(g,E,R)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class rg extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Lb(f,p),f=Bm(f,p)}(t._query,n),new ha(t.firestore,t.converter,Bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends kb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sg(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(u,f)}(t._query,this._field,this._direction);return new ha(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function yO(r,t="asc"){const n=t,s=eg("orderBy",r);return sg._create(s,n)}function Q0(r,t,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(t)&&n.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!yt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return c0(r,new yt(s))}if(n instanceof Tn)return c0(r,n._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function Y0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Lb(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _O{convertValue(t,n="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return oa(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new Wp(u)}convertGeoPoint(t){return new Xp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Fh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(t));default:return null}}convertTimestamp(t){const n=us(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);$t(ZT(s));const o=new ou(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ub extends Vb{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class gh extends Ub{data(t={}){return super.data(t)}}class EO{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(r){r=ra(r,Tn);const t=ra(r.firestore,Ru);return tO(Kp(t),r._key).then(n=>wO(t,r,n))}class Bb extends _O{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ao(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function zb(r){r=ra(r,ha);const t=ra(r.firestore,Ru),n=Kp(t),s=new Bb(t);return pO(r._query),eO(n,r._query).then(o=>new EO(t,s,r,o))}function AO(r){return jb(ra(r.firestore,Ru),[new Dp(r._key,vi.none())])}function SO(r,t){const n=ra(r.firestore,Ru),s=$p(r),o=vO(r.converter,t);return jb(n,[uO(Nb(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,vi.exists(!1))]).then(()=>s)}function jb(r,t){return function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget(async()=>HN(await JN(s),o,u)),u.promise}(Kp(r),t)}function wO(r,t,n){const s=n.docs.get(t._key),o=new Bb(r);return new Ub(r,o,t._key,s,new Yl(n.hasPendingWrites,n.fromCache),t.converter)}function RO(){return new Jp("serverTimestamp")}(function(t,n=!0){(function(o){Do=o})(Co),go(new Js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ru(new h2(s.getProvider("auth-internal")),new m2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),rs(Jv,t0,t),rs(Jv,t0,"esm2017")})();const CO={apiKey:"AIzaSyCsCmtvFeJ-KLdomUOkSU8FCw5daIrEZ_I",authDomain:"plant-pals-webpage.firebaseapp.com",projectId:"plant-pals-webpage",storageBucket:"plant-pals-webpage.firebasestorage.app",messagingSenderId:"151908866050",appId:"1:151908866050:web:79bd4a5303bc286590ef1b"},Hb=TE(CO),Cu=o2(Hb),ef=rO(Hb),qb=Jt.createContext();function fa(){return U.useContext(qb)}function IO({children:r}){const[t,n]=U.useState(null),[s,o]=U.useState(!1),[u,f]=U.useState(!0);U.useEffect(()=>XC(Cu,m),[]);async function m(g){g?(n({...g}),o(!0)):(n(null),o(!1)),f(!1)}const p={currentUser:t,userLoggedIn:s,loading:u};return H.jsx(qb.Provider,{value:p,children:!u&&r})}function Fb(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=Fb(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Ws(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=Fb(r))&&(s&&(s+=" "),s+=t);return s}function DO(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}DO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Iu=r=>typeof r=="number"&&!isNaN(r),sa=r=>typeof r=="string",lr=r=>typeof r=="function",NO=r=>sa(r)||Iu(r),Xm=r=>sa(r)||lr(r)?r:null,OO=(r,t)=>r===!1||Iu(r)&&r>0?r:t,Wm=r=>U.isValidElement(r)||sa(r)||lr(r)||Iu(r);function xO(r,t,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function MO({enter:r,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let R=n?`${r}--${f}`:r,O=n?`${t}--${f}`:t,V=U.useRef(0);return U.useLayoutEffect(()=>{let G=g.current,L=R.split(" "),$=K=>{K.target===g.current&&(A(),G.removeEventListener("animationend",$),G.removeEventListener("animationcancel",$),V.current===0&&K.type!=="animationcancel"&&G.classList.remove(...L))};G.classList.add(...L),G.addEventListener("animationend",$),G.addEventListener("animationcancel",$)},[]),U.useEffect(()=>{let G=g.current,L=()=>{G.removeEventListener("animationend",L),s?xO(G,p,o):p()};E||(m?L():(V.current=1,G.className+=` ${O}`,G.addEventListener("animationend",L)))},[E]),Jt.createElement(Jt.Fragment,null,u)}}function X0(r,t){return{content:Gb(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function Gb(r,t,n=!1){return U.isValidElement(r)&&!sa(r.type)?U.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):lr(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function PO({closeToast:r,theme:t,ariaLabel:n="close"}){return Jt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},Jt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Jt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function VO({delay:r,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let A=o||f&&m===0,R={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(R.transform=`scaleX(${m})`);let O=Ws("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),V=lr(u)?u({rtl:p,type:s,defaultClassName:O}):Ws(O,u),G={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return Jt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},Jt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Jt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:V,style:R,...G}))}var kO=1,$b=()=>`${kO++}`;function LO(r,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=K=>(g.add(K),()=>g.delete(K)),A=()=>{f=Array.from(p.values()),g.forEach(K=>K())},R=({containerId:K,toastId:Q,updateId:it})=>{let st=K?K!==r:r!==1,mt=p.has(Q)&&it==null;return st||mt},O=(K,Q)=>{p.forEach(it=>{var st;(Q==null||Q===it.props.toastId)&&((st=it.toggle)==null||st.call(it,K))})},V=K=>{var Q,it;(it=(Q=K.props)==null?void 0:Q.onClose)==null||it.call(Q,K.removalReason),K.isActive=!1},G=K=>{if(K==null)p.forEach(V);else{let Q=p.get(K);Q&&V(Q)}A()},L=()=>{o-=u.length,u=[]},$=K=>{var Q,it;let{toastId:st,updateId:mt}=K.props,N=mt==null;K.staleId&&p.delete(K.staleId),K.isActive=!0,p.set(st,K),A(),n(X0(K,N?"added":"updated")),N&&((it=(Q=K.props).onOpen)==null||it.call(Q))};return{id:r,props:m,observe:E,toggle:O,removeToast:G,toasts:p,clearQueue:L,buildToast:(K,Q)=>{if(R(Q))return;let{toastId:it,updateId:st,data:mt,staleId:N,delay:w}=Q,S=st==null;S&&o++;let I={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Q).filter(([B,D])=>D!=null)),toastId:it,updateId:st,data:mt,isIn:!1,className:Xm(Q.className||m.toastClassName),progressClassName:Xm(Q.progressClassName||m.progressClassName),autoClose:Q.isLoading?!1:OO(Q.autoClose,m.autoClose),closeToast(B){p.get(it).removalReason=B,G(it)},deleteToast(){let B=p.get(it);if(B!=null){if(n(X0(B,"removed")),p.delete(it),o--,o<0&&(o=0),u.length>0){$(u.shift());return}A()}}};I.closeButton=m.closeButton,Q.closeButton===!1||Wm(Q.closeButton)?I.closeButton=Q.closeButton:Q.closeButton===!0&&(I.closeButton=Wm(m.closeButton)?m.closeButton:!0);let x={content:K,props:I,staleId:N};m.limit&&m.limit>0&&o>m.limit&&S?u.push(x):Iu(w)?setTimeout(()=>{$(x)},w):$(x)},setProps(K){m=K},setToggle:(K,Q)=>{let it=p.get(K);it&&(it.toggle=Q)},isToastActive:K=>{var Q;return(Q=p.get(K))==null?void 0:Q.isActive},getSnapshot:()=>f}}var sn=new Map,du=[],Zm=new Set,UO=r=>Zm.forEach(t=>t(r)),Kb=()=>sn.size>0;function BO(){du.forEach(r=>Yb(r.content,r.options)),du=[]}var zO=(r,{containerId:t})=>{var n;return(n=sn.get(t||1))==null?void 0:n.toasts.get(r)};function Qb(r,t){var n;if(t)return!!((n=sn.get(t))!=null&&n.isToastActive(r));let s=!1;return sn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function jO(r){if(!Kb()){du=du.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||NO(r))sn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=sn.get(r.containerId);t?t.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var HO=(r={})=>{sn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function Yb(r,t){Wm(r)&&(Kb()||du.push({content:r,options:t}),sn.forEach(n=>{n.buildToast(r,t)}))}function qO(r){var t;(t=sn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function Xb(r,t){sn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(r,t==null?void 0:t.id)})}function FO(r){let t=r.containerId||1;return{subscribe(n){let s=LO(t,r,UO);sn.set(t,s);let o=s.observe(n);return BO(),()=>{o(),sn.delete(t)}},setProps(n){var s;(s=sn.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=sn.get(t))==null?void 0:n.getSnapshot()}}}function GO(r){return Zm.add(r),()=>{Zm.delete(r)}}function $O(r){return r&&(sa(r.toastId)||Iu(r.toastId))?r.toastId:$b()}function Du(r,t){return Yb(r,t),t.toastId}function nf(r,t){return{...t,type:t&&t.type||r,toastId:$O(t)}}function rf(r){return(t,n)=>Du(t,nf(r,n))}function Bt(r,t){return Du(r,nf("default",t))}Bt.loading=(r,t)=>Du(r,nf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function KO(r,{pending:t,error:n,success:s},o){let u;t&&(u=sa(t)?Bt.loading(t,o):Bt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){Bt.dismiss(u);return}let R={type:g,...f,...o,data:A},O=sa(E)?{render:E}:E;return u?Bt.update(u,{...R,...O}):Bt(O.render,{...R,...O}),A},p=lr(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Bt.promise=KO;Bt.success=rf("success");Bt.info=rf("info");Bt.error=rf("error");Bt.warning=rf("warning");Bt.warn=Bt.warning;Bt.dark=(r,t)=>Du(r,nf("default",{theme:"dark",...t}));function QO(r){jO(r)}Bt.dismiss=QO;Bt.clearWaitingQueue=HO;Bt.isActive=Qb;Bt.update=(r,t={})=>{let n=zO(r,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:$b()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,Du(f,u)}};Bt.done=r=>{Bt.update(r,{progress:1})};Bt.onChange=GO;Bt.play=r=>Xb(!0,r);Bt.pause=r=>Xb(!1,r);function YO(r){var t;let{subscribe:n,getSnapshot:s,setProps:o}=U.useRef(FO(r)).current;o(r);let u=(t=U.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:Qb,count:u==null?void 0:u.length}}function XO(r){let[t,n]=U.useState(!1),[s,o]=U.useState(!1),u=U.useRef(null),f=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=r;qO({id:r.toastId,containerId:r.containerId,fn:n}),U.useEffect(()=>{if(r.pauseOnFocusLoss)return R(),()=>{O()}},[r.pauseOnFocusLoss]);function R(){document.hasFocus()||$(),window.addEventListener("focus",L),window.addEventListener("blur",$)}function O(){window.removeEventListener("focus",L),window.removeEventListener("blur",$)}function V(N){if(r.draggable===!0||r.draggable===N.pointerType){K();let w=u.current;f.canCloseOnClick=!0,f.canDrag=!0,w.style.transition="none",r.draggableDirection==="x"?(f.start=N.clientX,f.removalDistance=w.offsetWidth*(r.draggablePercent/100)):(f.start=N.clientY,f.removalDistance=w.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function G(N){let{top:w,bottom:S,left:I,right:x}=u.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&r.pauseOnHover&&N.clientX>=I&&N.clientX<=x&&N.clientY>=w&&N.clientY<=S?$():L()}function L(){n(!0)}function $(){n(!1)}function K(){f.didMove=!1,document.addEventListener("pointermove",it),document.addEventListener("pointerup",st)}function Q(){document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",st)}function it(N){let w=u.current;if(f.canDrag&&w){f.didMove=!0,t&&$(),r.draggableDirection==="x"?f.delta=N.clientX-f.start:f.delta=N.clientY-f.start,f.start!==N.clientX&&(f.canCloseOnClick=!1);let S=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;w.style.transform=`translate3d(${S},0)`,w.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function st(){Q();let N=u.current;if(f.canDrag&&f.didMove&&N){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let mt={onPointerDown:V,onPointerUp:G};return m&&p&&(mt.onMouseEnter=$,r.stacked||(mt.onMouseLeave=L)),A&&(mt.onClick=N=>{E&&E(N),f.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:$,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:mt}}var WO=typeof window<"u"?U.useLayoutEffect:U.useEffect,sf=({theme:r,type:t,isLoading:n,...s})=>Jt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function ZO(r){return Jt.createElement(sf,{...r},Jt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function JO(r){return Jt.createElement(sf,{...r},Jt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function tx(r){return Jt.createElement(sf,{...r},Jt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ex(r){return Jt.createElement(sf,{...r},Jt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function nx(){return Jt.createElement("div",{className:"Toastify__spinner"})}var Jm={info:JO,warning:ZO,success:tx,error:ex,spinner:nx},ix=r=>r in Jm;function rx({theme:r,type:t,isLoading:n,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(lr(s)?o=s({...u,isLoading:n}):U.isValidElement(s)?o=U.cloneElement(s,u):n?o=Jm.spinner():ix(t)&&(o=Jm[t](u))),o}var sx=r=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=XO(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:R,transition:O,position:V,className:G,style:L,progressClassName:$,updateId:K,role:Q,progress:it,rtl:st,toastId:mt,deleteToast:N,isIn:w,isLoading:S,closeOnClick:I,theme:x,ariaLabel:B}=r,D=Ws("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":st},{"Toastify__toast--close-on-click":I}),fe=lr(G)?G({rtl:st,position:V,type:E,defaultClassName:D}):Ws(D,G),ne=rx(r),at=!!it||!p,_t={closeToast:R,type:E,theme:x},ft=null;return f===!1||(lr(f)?ft=f(_t):U.isValidElement(f)?ft=U.cloneElement(f,_t):ft=PO(_t)),Jt.createElement(O,{isIn:w,done:N,position:V,preventExitTransition:n,nodeRef:s,playToast:u},Jt.createElement("div",{id:mt,tabIndex:0,onClick:g,"data-in":w,className:fe,...o,style:L,ref:s,...w&&{role:Q,"aria-label":B}},ne!=null&&Jt.createElement("div",{className:Ws("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},ne),Gb(m,r,!t),ft,!r.customProgressBar&&Jt.createElement(VO,{...K&&!at?{key:`p-${K}`}:{},rtl:st,theme:x,delay:p,isRunning:t,isIn:w,closeToast:R,hide:A,type:E,className:$,controlledProgress:at,progress:it||0})))},ax=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),ox=MO(ax("bounce",!0)),lx={position:"top-right",transition:ox,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function ux(r){let t={...lx,...r},n=r.stacked,[s,o]=U.useState(!0),u=U.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=YO(t),{className:g,style:E,rtl:A,containerId:R,hotKeys:O}=t;function V(L){let $=Ws("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":A});return lr(g)?g({position:L,rtl:A,defaultClassName:$}):Ws($,Xm(g))}function G(){n&&(o(!0),Bt.play())}return WO(()=>{var L;if(n){let $=u.current.querySelectorAll('[data-in="true"]'),K=12,Q=(L=t.position)==null?void 0:L.includes("top"),it=0,st=0;Array.from($).reverse().forEach((mt,N)=>{let w=mt;w.classList.add("Toastify__toast--stacked"),N>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=Q?"top":"bot");let S=it*(s?.2:1)+(s?0:K*N);w.style.setProperty("--y",`${Q?S:S*-1}px`),w.style.setProperty("--g",`${K}`),w.style.setProperty("--s",`${1-(s?st:0)}`),it+=w.offsetHeight,st+=.025})}},[s,p,n]),U.useEffect(()=>{function L($){var K;let Q=u.current;O($)&&((K=Q.querySelector('[tabIndex="0"]'))==null||K.focus(),o(!1),Bt.pause()),$.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(o(!0),Bt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[O]),Jt.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(o(!1),Bt.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,$)=>{let K=$.length?{...E}:{...E,pointerEvents:"none"};return Jt.createElement("div",{tabIndex:-1,className:V(L),"data-stacked":n,style:K,key:`c-${L}`},$.map(({content:Q,props:it})=>Jt.createElement(sx,{...it,stacked:n,collapseAll:G,isIn:m(it.toastId,it.containerId),key:`t-${it.key}`},Q)))}))}const cx="_loadingContainer_1o2a0_1",hx="_loadingSpinner_1o2a0_7",W0={loadingContainer:cx,loadingSpinner:hx},fx=({children:r})=>{const{userLoggedIn:t,loading:n}=fa();return n?H.jsx("section",{className:W0.loadingContainer,children:H.jsx("p",{className:W0.loadingSpinner})}):t?r:H.jsx(Iw,{to:"/login"})},Wb=(r,t,n,s)=>U.useMemo(()=>r.filter(o=>t==="none"||n===""?!0:(t==="common-name"?o.common_name:o.scientific_name).toLowerCase().includes(n.toLowerCase())).sort((o,u)=>{var f,m;if(s==="alphabetical")return o.common_name.localeCompare(u.common_name);if(s==="date"){const p=((f=o.date_created)==null?void 0:f.toDate())||new Date(0);return(((m=u.date_created)==null?void 0:m.toDate())||new Date(0))-p}return 0}),[r,t,n,s]),dx="sk-PQcq67cf9ed8bcf4c9076",mx=r=>{const[t,n]=U.useState([]),[s,o]=U.useState(!1);return U.useEffect(()=>{if(!r)return;(async()=>{o(!0);try{const f=await fetch(`https://perenual.com/api/v2/species-list?key=${dx}&q=${r}`);if(!f.ok)throw new Error(`Error: ${f.status}`);const m=await f.json();console.log(m);const p=m.data.filter(g=>g.id<=3e3).map(g=>{var E;return{id:g.id,common_name:g.common_name,scientific_name:g.scientific_name.join(", "),thumbnail:((E=g.default_image)==null?void 0:E.thumbnail)||"/React-ComIT-Final-Project/logoNew.png"}});console.log("Filtered plants count:",p.length),n(p)}catch(f){console.error(f)}finally{o(!1)}})()},[r]),{plantsData:t,isLoading:s}},Zb="/React-ComIT-Final-Project/assets/logoNew-LPtsig2e.png",px=(r,t)=>$C(Cu,r,t),gx=(r,t)=>KC(Cu,r,t),yx=()=>Cu.signOut(),_x=r=>GC(Cu,r),vx="_loginLogoutButton_uh6an_1",Ex="_customToast_uh6an_14",Z0={loginLogoutButton:vx,customToast:Ex,"login-logout-button":"_login-logout-button_uh6an_21"},tp=({closeMenu:r})=>{const t=Ro(),{userLoggedIn:n}=fa(),s=async()=>{try{await yx(),r&&r(),t("/"),Bt.success("See you later ",{className:Z0.customToast})}catch(u){console.error("Error logging out:",u)}},o=()=>{r&&r(),t("/login")};return H.jsx("button",{onClick:n?s:o,className:Z0.loginLogoutButton,children:n?"Logout":"Login"})},Tx="_header_i6j1c_1",bx="_dashboardHeader_i6j1c_12",Ax="_headerH1_i6j1c_23",Sx="_logoTitle_i6j1c_28",wx="_logo_i6j1c_28",Rx="_desktopMenu_i6j1c_42",Cx="_plantCollectionLink_i6j1c_48",Ix="_headerH2_i6j1c_60",Xi={header:Tx,dashboardHeader:bx,headerH1:Ax,logoTitle:Sx,logo:wx,desktopMenu:Rx,plantCollectionLink:Cx,headerH2:Ix},Jb=()=>{const t=ur().pathname==="/plant-dashboard";return H.jsxs("header",{className:t?Xi.dashboardHeader:Xi.header,children:[H.jsxs("figure",{className:Xi.logoTitle,children:[H.jsx(er,{to:"/",children:H.jsx("img",{src:Zb,alt:"Plant Pals Logo",className:Xi.logo})}),H.jsx("figcaption",{children:t?H.jsx("h2",{className:Xi.headerH2,children:"My Plant Collection"}):H.jsx("h1",{className:Xi.headerH1,children:"My Plant Pals"})})]}),H.jsxs("section",{className:Xi.desktopMenu,children:[!t&&H.jsx(er,{to:"/plant-dashboard",className:Xi.plantCollectionLink,children:H.jsx("h4",{className:Xi.headerH4,children:"My Plant Collection"})}),H.jsx(tp,{})]})]})},Dx="_navHeaderHomepage_7zesl_2",Nx="_navHeaderDashboard_7zesl_3",Ox="_centerContent_7zesl_29",xx="_hamburgerMenu_7zesl_45",Mx="_mobileMenu_7zesl_53",Px="_mobileMenuOpen_7zesl_56",Vx="_closeMenuButton_7zesl_89",kx="_dashboardLink_7zesl_99",Lx="_logo_7zesl_105",Qn={navHeaderHomepage:Dx,navHeaderDashboard:Nx,centerContent:Ox,hamburgerMenu:xx,mobileMenu:Mx,mobileMenuOpen:Px,closeMenuButton:Vx,dashboardLink:kx,logo:Lx},tA=({isDashboard:r,showMenu:t,closeMenu:n,toggleMenu:s})=>H.jsxs("nav",{className:r?Qn.navHeaderDashboard:Qn.navHeaderHomepage,children:[H.jsx("button",{className:Qn.hamburgerMenu,onClick:s,"aria-label":"Toggle navigation menu",children:H.jsx("span",{className:Qn.span,children:t?H.jsx("span",{children:""}):""})}),H.jsxs("section",{className:Qn.centerContent,children:[H.jsx(er,{to:"/",children:H.jsx("img",{src:Zb,alt:"Plant Pals Logo",className:Qn.logo})}),H.jsx("h1",{children:r?"My Plant Collection":"My Plant Pals"})]}),H.jsxs("nav",{className:t?Qn.mobileMenuOpen:Qn.mobileMenu,children:[H.jsx("button",{className:Qn.closeMenuButton,onClick:n,children:""}),r?H.jsxs(H.Fragment,{children:[H.jsx(er,{to:"/",className:Qn.dashboardLink,onClick:n,children:H.jsx("h4",{children:"Home"})}),H.jsx(tp,{closeMenu:n})]}):H.jsxs(H.Fragment,{children:[H.jsx(er,{to:"/plant-dashboard",className:Qn.dashboardLink,onClick:n,children:H.jsx("h4",{children:"My Plant Collection"})}),H.jsx(tp,{closeMenu:n})]})]})]}),Ux="_searchSection_1wzjg_1",Bx="_searchH3_1wzjg_7",zx="_searchBar_1wzjg_12",jx="_searchInput_1wzjg_17",Hx="_goButton_1wzjg_24",qx="_srOnly_1wzjg_37",io={searchSection:Ux,searchH3:Bx,searchBar:zx,searchInput:jx,goButton:Hx,srOnly:qx},Fx=({searchInputRef:r,onSearch:t})=>H.jsxs("section",{className:io.searchSection,children:[H.jsx("h3",{className:io.searchH3,children:"Find the care guide for your plants:"}),H.jsxs("section",{className:io.searchBar,children:[H.jsx("label",{htmlFor:"plant-input",className:io.srOnly,children:"Search your plant pal"}),H.jsx("input",{className:io.searchInput,id:"plant-input",type:"text",placeholder:"Search your plant pal",ref:r,onKeyDown:n=>{n.key==="Enter"&&t()}}),H.jsx("button",{className:io.goButton,onClick:t,children:"Go"})]})]}),Gx="_sortFilterContainer_1d0pm_1",$x="_label_1d0pm_7",Kx="_select_1d0pm_11",Qx="_input_1d0pm_19",ro={sortFilterContainer:Gx,label:$x,select:Kx,input:Qx},eA=({sortBy:r,filterType:t,filterText:n,setSortBy:s,setFilterType:o,setFilterText:u,isHomepage:f})=>{const m=E=>{s(E.target.value)},p=E=>{o(E.target.value)},g=E=>{u(E.target.value)};return H.jsxs("section",{className:ro.sortFilterContainer,children:[H.jsx("label",{className:ro.label,children:"Sort by:"}),H.jsxs("select",{className:ro.select,value:r,onChange:m,children:[H.jsx("option",{value:"none",children:"None"}),H.jsx("option",{value:"alphabetical",children:"Alphabetical"}),!f&&H.jsx("option",{value:"date",children:"Creation Date"})]}),H.jsx("label",{className:ro.label,children:"Filter by:"}),H.jsxs("select",{className:ro.select,value:t,onChange:p,children:[H.jsx("option",{value:"none",children:"None"}),H.jsx("option",{value:"common-name",children:"Common name"}),H.jsx("option",{value:"scientific-name",children:"Scientific Name"})]}),H.jsx("input",{className:ro.input,type:"text",placeholder:"name of the plant...",value:n,onChange:g})]})},Yx="_plantDetails_aro15_1",Xx="_loadingContainer_aro15_13",Wx="_loadingSpinner_aro15_19",Zx="_detailsP_aro15_33",Ks={plantDetails:Yx,loadingContainer:Xx,loadingSpinner:Wx,detailsP:Zx},Jx="sk-PQcq67cf9ed8bcf4c9076",nA=async r=>{try{const t=await fetch(`https://perenual.com/api/v2/species/details/${r}?key=${Jx}`);if(!t.ok)throw new Error(`Error: ${t.status}`);const n=await t.json();return{watering:n.watering,sunlight:n.sunlight.join(", "),poisonous_to_pets:n.poisonous_to_pets?"Yes":"No",description:n.description}}catch(t){return console.error("Error fetching plant details:",t),null}},tM=({id:r,isDashboard:t})=>{const[n,s]=U.useState(null),[o,u]=U.useState(!1),{currentUser:f}=fa();return U.useEffect(()=>{(async()=>{u(!0);let p=null;try{if(!t)p=await nA(r);else if(f){const g=$p(ef,"plants",f.uid,"userPlants",r),E=await bO(g);E.exists()?p=E.data().plant_details:console.log("No such document")}else console.log("User is not authenticated");s(p)}catch(g){console.error("Error fetching plant details:",g)}finally{u(!1)}})()},[r,t]),o?H.jsx("section",{className:Ks.loadingContainer,children:H.jsx("p",{className:Ks.loadingSpinner})}):n?H.jsxs("section",{className:Ks.plantDetails,children:[H.jsxs("p",{className:Ks.detailsP,children:[H.jsx("strong",{children:"Watering: "}),n.watering]}),H.jsxs("p",{className:Ks.detailsP,children:[H.jsx("strong",{children:"Light: "}),n.sunlight]}),H.jsxs("p",{className:Ks.detailsP,children:[H.jsx("strong",{children:"Pet-friendly: "}),n.poisonous_to_pets]}),H.jsxs("p",{className:Ks.detailsP,children:[H.jsx("strong",{children:"Description: "}),n.description]})]}):H.jsx("p",{children:"No details were found for this plant"})},eM="_cardH3_kio1c_1",nM="_plantCardP_kio1c_7",iM="_cardButtons_kio1c_10",rM="_plantContainer_kio1c_23",sM="_plantCard_kio1c_7",aM="_plantCardDetailsOn_kio1c_42",oM="_plantNames_kio1c_71",lM="_plantActionButtons_kio1c_79",uM="_customToast_kio1c_117",En={cardH3:eM,plantCardP:nM,cardButtons:iM,plantContainer:rM,plantCard:sM,plantCardDetailsOn:aM,plantNames:oM,plantActionButtons:lM,customToast:uM},cM=({plant:r,onDelete:t,isDashboard:n})=>{const[s,o]=U.useState(!1),u=Ro(),{currentUser:f}=fa(),m=()=>{o(g=>!g)},p=async()=>{if(f)try{const g=Ib(ef,"plants",f.uid,"userPlants");if((await zb(g)).docs.some(O=>O.data().plant_id===r.id)){Bt.error("This plant is already in your collection",{className:En.customToast});return}const R=await nA(r.id);await SO(g,{plant_id:r.id,common_name:r.common_name,scientific_name:r.scientific_name,thumbnail:r.thumbnail,plant_details:R,date_created:RO()}),Bt.success("Plant added successfully!",{className:En.customToast}),u("/plant-dashboard")}catch(g){console.error("Error adding plant: ",g)}else u("/login"),Bt.success("Please login to add a plant",{className:En.customToast})};return H.jsxs("section",{className:En.plantContainer,children:[H.jsxs("article",{className:s?En.plantCardDetailsOn:En.plantCard,children:[H.jsx("img",{src:r.thumbnail,alt:`Plant picture of ${r.common_name}`}),H.jsxs("section",{className:En.plantNames,children:[H.jsx("h3",{className:En.cardH3,children:r.common_name.charAt(0).toUpperCase()+r.common_name.slice(1).toLowerCase()}),H.jsxs("p",{className:En.plantCardP,children:[H.jsx("strong",{children:"Scientific name: "}),r.scientific_name]})]}),H.jsxs("section",{className:En.plantActionButtons,children:[H.jsx("button",{className:En.cardButtons,onClick:m,children:"Details"}),!n&&H.jsx("button",{className:En.cardButtons,onClick:p,children:"Add"}),n&&H.jsx("button",{className:En.cardButtons,onClick:()=>t(r.id),children:"Remove"})]})]}),s&&H.jsx(tM,{id:r.id,isDashboard:n})]})},hM="_listContainer_ge3mb_1",fM="_loadingSpinner_ge3mb_8",dM="_notFound_ge3mb_22",mM="_plantList_ge3mb_28",pM="_listItem_ge3mb_39",ql={listContainer:hM,loadingSpinner:fM,notFound:dM,plantList:mM,listItem:pM},iA=({searchTerm:r,filteredPlants:t,isLoading:n,onDelete:s,isDashboard:o})=>H.jsx("section",{className:ql.listContainer,children:n?H.jsx("section",{children:H.jsx("p",{className:ql.loadingSpinner})}):t.length===0?H.jsx("p",{className:ql.notFound,children:r?"No plants found. Try another plant name!":"No plants match your filter or sort criteria."}):H.jsx("ul",{className:ql.plantList,children:t.map(u=>H.jsx("li",{className:ql.listItem,children:H.jsx(cM,{plant:u,onDelete:s,isDashboard:o})},u.id))})}),gM="_footerContainer_1j6ji_1",yM="_footerH5_1j6ji_9",J0={footerContainer:gM,footerH5:yM},rA=()=>{const t=`${new Date().getFullYear()} Created by Sara Costa Cabral Mululo for  ComIT React Course`;return H.jsx("footer",{className:J0.footerContainer,children:H.jsx("h5",{className:J0.footerH5,children:t})})},_M="_homeContainer_1u5b0_1",vM="_container_1u5b0_6",EM="_homeH2_1u5b0_14",Am={homeContainer:_M,container:vM,homeH2:EM},TM=({showMenu:r,toggleMenu:t,closeMenu:n,isDashboard:s})=>{const[o,u]=U.useState(""),[f,m]=U.useState("none"),[p,g]=U.useState("none"),[E,A]=U.useState(""),R=U.useRef(null);U.useEffect(()=>{document.title="Plant Pals - Homepage"},[]);const{plantsData:O,isLoading:V}=mx(o),G=()=>{R.current&&(u(R.current.value),R.current.value="")},L=Wb(O,p,E,f);return H.jsxs("section",{className:Am.homeContainer,children:[H.jsxs("section",{className:Am.container,children:[H.jsx(Jb,{}),H.jsx(tA,{showMenu:r,toggleMenu:t,closeMenu:n,isDashboard:s}),H.jsxs("main",{children:[H.jsx("h2",{className:Am.homeH2,children:"The help you need to manage your plant collection!"}),H.jsx(Fx,{searchInputRef:R,onSearch:G}),H.jsx(eA,{sortBy:f,filterType:p,filterText:E,setSortBy:m,setFilterType:g,setFilterText:A,isHomepage:!0}),H.jsx(iA,{searchTerm:o,filteredPlants:L,isLoading:V,isDashboard:!1})]})]}),H.jsx(rA,{})]})},bM="_accountBoxH2_o004y_1",AM="_accountInput_o004y_6",SM="_createAccountButton_o004y_13",wM="_accountLoginButton_o004y_23",RM="_accountP_o004y_26",CM="_errorMessage_o004y_40",Qs={accountBoxH2:bM,accountInput:AM,createAccountButton:SM,accountLoginButton:wM,accountP:RM,errorMessage:CM},IM=({setIsCreateAccount:r})=>{const[t,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(null),m=Ro(),p=async g=>{g.preventDefault();try{await px(t,s),m("/plant-dashboard")}catch{f("Failed to create account. Please try again.")}};return H.jsxs("section",{children:[H.jsx("h2",{className:Qs.accountBoxH2,children:"Create an account"}),u&&H.jsx("p",{className:Qs.errorMessage,children:u}),H.jsxs("form",{onSubmit:p,children:[H.jsx("input",{className:Qs.accountInput,type:"email",placeholder:"Email",value:t,onChange:g=>n(g.target.value),required:!0}),H.jsx("input",{className:Qs.accountInput,type:"password",placeholder:"Password",value:s,onChange:g=>o(g.target.value),required:!0}),H.jsx("button",{className:Qs.createAccountButton,type:"submit",children:"Create Account"})]}),H.jsxs("p",{className:Qs.accountP,children:["Already have an account? "," ",H.jsx("button",{className:Qs.accountLoginButton,onClick:()=>r(!1),children:"Login"})]})]})},DM="_resetH2_mu4e9_1",NM="_srOnly_mu4e9_6",OM="_resetInput_mu4e9_17",xM="_resetEmailButton_mu4e9_24",MM="_resetLoginButton_mu4e9_34",PM="_errorMessage_mu4e9_66",so={resetH2:DM,srOnly:NM,resetInput:OM,resetEmailButton:xM,resetLoginButton:MM,errorMessage:PM},VM=({setIsResetPassword:r})=>{const[t,n]=U.useState(""),[s,o]=U.useState(null),[u,f]=U.useState(""),m=async p=>{p.preventDefault();try{await _x(t),f("A password reset link has been sent to your email address."),o(null)}catch{o("Failed to send reset email. Please check your email address")}};return H.jsxs("section",{children:[H.jsx("h2",{className:so.resetH2,children:"Reset Your Password"}),s&&H.jsx("p",{className:so.errorMessage,children:s}),u&&H.jsx("p",{children:u}),H.jsxs("form",{onSubmit:m,children:[H.jsx("label",{htmlFor:"email",className:so.srOnly,children:"Email Address"}),H.jsx("input",{className:so.resetInput,type:"email",placeholder:"Enter your email",value:t,onChange:p=>n(p.target.value),required:!0}),H.jsx("button",{className:so.resetEmailButton,type:"submit",children:"Send Reset Email"})]}),H.jsx("button",{className:so.resetLoginButton,onClick:()=>r(!1),children:"Back to Login"})]})},kM="_loginContainer_lmlet_1",LM="_loginBox_lmlet_8",UM="_loginBoxH2_lmlet_21",BM="_loginBoxInput_lmlet_26",zM="_loginBoxFormButton_lmlet_33",jM="_loginBoxButton_lmlet_45",HM="_loginP_lmlet_56",qM="_closeButtonContainer_lmlet_61",FM="_closeButton_lmlet_61",GM="_errorMessage_lmlet_81",$M="_customToast_lmlet_96",un={loginContainer:kM,loginBox:LM,loginBoxH2:UM,loginBoxInput:BM,loginBoxFormButton:zM,loginBoxButton:jM,loginP:HM,closeButtonContainer:qM,closeButton:FM,errorMessage:GM,customToast:$M},KM=()=>{const[r,t]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(null),[f,m]=U.useState(!1),[p,g]=U.useState(!1);U.useEffect(()=>{document.title="Plant Pals - Login"},[]);const E=Ro(),{userLoggedIn:A}=fa();U.useEffect(()=>{A&&E("/plant-dashboard")},[A,E]);const R=async V=>{V.preventDefault();try{await gx(r,n),E("/plant-dashboard"),Bt.success("Youre in! ",{className:un.customToast})}catch{u("Failed to log in. Please check your email and password.")}},O=()=>{E("/")};return H.jsx("section",{className:un.loginContainer,children:H.jsxs("section",{className:un.loginBox,children:[H.jsx("section",{className:un.closeButtonContainer,children:H.jsx("button",{className:un.closeButton,onClick:O,children:"X"})}),p?H.jsx(VM,{setIsResetPassword:g}):f?H.jsx(IM,{setIsCreateAccount:m}):H.jsxs(H.Fragment,{children:[H.jsx("h2",{className:un.loginBoxH2,children:"Login to add a plant"}),o&&H.jsx("p",{className:un.errorMessage,children:o}),H.jsxs("form",{onSubmit:R,children:[H.jsx("input",{className:un.loginBoxInput,type:"email",placeholder:"Email",value:r,onChange:V=>t(V.target.value),required:!0}),H.jsx("input",{className:un.loginBoxInput,type:"password",placeholder:"Password",value:n,onChange:V=>s(V.target.value),required:!0}),H.jsx("button",{className:un.loginBoxFormButton,type:"submit",children:"Login"})]}),H.jsx("p",{className:un.loginP,children:"Forgot your password?"}),H.jsx("button",{className:un.loginBoxButton,onClick:()=>g(!0),children:"Reset Password"}),H.jsx("p",{className:un.loginP,children:"Don't have an account?"}),H.jsx("button",{className:un.loginBoxButton,onClick:()=>m(!0),children:"Create one here"})]})]})})},QM=()=>{const[r,t]=U.useState([]),[n,s]=U.useState(!0),{currentUser:o}=fa();return U.useEffect(()=>{(async()=>{if(!o){s(!1);return}try{const f=Ib(ef,"plants",o.uid,"userPlants"),m=gO(f,yO("date_created","desc")),g=(await zb(m)).docs.map(E=>({id:E.id,...E.data()}));t(g)}catch(f){console.error("Error fetching plants:",f)}finally{s(!1)}})()},[o]),{plants:r,setPlants:t,isLoading:n}},YM="_dashboardContainer_1uq2i_1",XM="_container_1uq2i_6",WM="_authContainer_1uq2i_14",ZM="_authBox_1uq2i_21",JM="_authBoxH2_1uq2i_33",tP="_authBoxLink_1uq2i_37",eP="_addMoreButtonContainer_1uq2i_47",nP="_addMoreButton_1uq2i_47",iP="_plantCountContainer_1uq2i_72",rP="_plantCount_1uq2i_72",sP="_mainContent_1uq2i_87",aP="_customToast_1uq2i_141",cn={dashboardContainer:YM,container:XM,authContainer:WM,authBox:ZM,authBoxH2:JM,authBoxLink:tP,addMoreButtonContainer:eP,addMoreButton:nP,plantCountContainer:iP,plantCount:rP,mainContent:sP,customToast:aP},oP=({searchTerm:r,showMenu:t,toggleMenu:n,closeMenu:s,isDashboard:o})=>{const[u,f]=U.useState("none"),[m,p]=U.useState("none"),[g,E]=U.useState(""),{currentUser:A}=fa(),{plants:R,setPlants:O,isLoading:V}=QM();U.useEffect(()=>{document.title="Plant Pals - My Plant Collection"},[]);const G=async $=>{if(A)try{const K=$p(ef,"plants",A.uid,"userPlants",$);await AO(K),Bt.success("Plant removed successfully!",{className:cn.customToast}),O(Q=>Q.filter(it=>it.id!==$))}catch(K){console.error("Error removing plant: ",K),Bt.error("failed to delete plant.")}},L=Wb(R,m,g,u);return A?H.jsxs("section",{className:cn.dashboardContainer,children:[H.jsxs("section",{className:cn.container,children:[H.jsx(Jb,{}),H.jsx(tA,{showMenu:t,toggleMenu:n,closeMenu:s,isDashboard:o}),H.jsxs("main",{className:cn.mainContent,children:[H.jsx("section",{className:cn.addMoreButtonContainer,children:H.jsx(er,{to:"/",children:H.jsx("button",{className:cn.addMoreButton,children:"Add More Plants"})})}),H.jsx(eA,{sortBy:u,filterType:m,filterText:g,setSortBy:f,setFilterType:p,setFilterText:E,isHomepage:!1}),!V&&H.jsx("section",{className:cn.plantCountContainer,children:R.length>0?R.length===1?H.jsxs("p",{className:cn.plantCount,children:["You have ",H.jsx("strong",{children:"1 plant"})," in your collection."]}):H.jsxs("p",{className:cn.plantCount,children:["You have ",H.jsxs("strong",{children:[R.length," plants"]})," in your collection."]}):H.jsx("p",{className:cn.plantCount,children:"You haven't added any plants yet."})}),H.jsx(iA,{searchTerm:r,filteredPlants:L,isLoading:V,onDelete:G,isDashboard:!0})]})]}),H.jsx(rA,{})]}):H.jsx("section",{className:cn.authContainer,children:H.jsxs("section",{className:cn.authBox,children:[H.jsx("h2",{className:cn.authBoxH2,children:"Please log in to view your plant collection:"}),H.jsx(er,{className:cn.authBoxLink,to:"/login",children:"Go to Login"})]})})},lP=()=>{const[r,t]=U.useState(!1),n=()=>t(o=>!o),s=()=>t(!1);return H.jsx(IO,{children:H.jsxs(t1,{children:[H.jsx(ux,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastClassName:"mobileToast"}),H.jsxs(Nw,{children:[H.jsx(rh,{path:"/",element:H.jsx(TM,{showMenu:r,toggleMenu:n,isDashboard:!1,closeMenu:s})}),H.jsx(rh,{path:"/login",element:H.jsx(KM,{})}),H.jsx(rh,{path:"/plant-dashboard",element:H.jsx(fx,{children:H.jsx(oP,{showMenu:r,toggleMenu:n,isDashboard:!0,closeMenu:s})})})]})]})})};BS.createRoot(document.getElementById("root")).render(H.jsx(U.StrictMode,{children:H.jsx(lP,{})}));
